(self.webpackChunkmatrimonio_gian=self.webpackChunkmatrimonio_gian||[]).push([[179],{8255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=8255,e.exports=t},3018:function(e,t,n){"use strict";n.d(t,{deG:function(){return Xt},tb:function(){return eu},AFp:function(){return Ka},ip1:function(){return Ga},CZH:function(){return Wa},hGG:function(){return Gu},z2F:function(){return Vu},sBO:function(){return na},Sil:function(){return hu},_Vd:function(){return Co},EJc:function(){return ru},SBq:function(){return No},qLn:function(){return Zr},vpe:function(){return Oa},gxx:function(){return ns},tBr:function(){return Tn},XFs:function(){return R},OlP:function(){return Jt},zs3:function(){return ys},ZZ4:function(){return Ko},aQg:function(){return Yo},soG:function(){return nu},YKP:function(){return da},v3s:function(){return Uu},h0i:function(){return ha},PXZ:function(){return Ru},R0b:function(){return pu},FiY:function(){return En},Lbi:function(){return Xa},g9A:function(){return Ja},Qsj:function(){return Do},FYo:function(){return Ro},JOm:function(){return Cn},Tiy:function(){return Lo},q3G:function(){return jr},tp0:function(){return Sn},EAV:function(){return zu},Rgc:function(){return aa},dDg:function(){return bu},DyG:function(){return en},q4F:function(){return Vo},GfV:function(){return Mo},s_b:function(){return pa},ifc:function(){return F},eFA:function(){return Du},G48:function(){return xu},Gpc:function(){return g},X6Q:function(){return ku},_c5:function(){return Hu},VLi:function(){return Eu},c2e:function(){return tu},zSh:function(){return is},wAp:function(){return lo},vHH:function(){return v},EiD:function(){return Fr},mCW:function(){return Ir},qzn:function(){return hr},JVY:function(){return fr},pB0:function(){return yr},eBb:function(){return gr},L6k:function(){return pr},LAX:function(){return mr},cg1:function(){return ao},Tjo:function(){return Zu},kL8:function(){return uo},yhl:function(){return dr},dqk:function(){return z},sIi:function(){return Cs},CqO:function(){return zs},QGY:function(){return js},F4k:function(){return qs},RDi:function(){return Ce},AaK:function(){return d},z3N:function(){return lr},qOj:function(){return _s},TTD:function(){return _e},_Bn:function(){return Io},xp6:function(){return si},uIk:function(){return xs},ekj:function(){return Ks},Suo:function(){return Za},Xpm:function(){return X},lG2:function(){return oe},Yz7:function(){return T},cJS:function(){return E},oAB:function(){return re},Yjl:function(){return ae},Y36:function(){return Os},_UZ:function(){return Ms},BQk:function(){return Fs},ynx:function(){return Vs},qZA:function(){return Ls},TgZ:function(){return Ps},EpF:function(){return Us},n5z:function(){return Gt},Ikx:function(){return ro},LFG:function(){return vn},$8M:function(){return Kt},NdJ:function(){return Bs},CRH:function(){return Ha},oxw:function(){return $s},Q6J:function(){return Rs},WLB:function(){return xa},iGM:function(){return Ba},CHM:function(){return Be},LSH:function(){return qr},kYT:function(){return ie},YNc:function(){return Ns},_uU:function(){return eo},Oqu:function(){return to},hij:function(){return no}});var r=n(9765),i=n(5319),s=n(7574),o=n(6682),a=n(2441);var u=n(1307);function c(){return new r.xQ}function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function h(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function d(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(d).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function f(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const p=l({__forward_ref__:l});function g(e){return e.__forward_ref__=g,e.toString=function(){return d(this())},e}function m(e){return y(e)?e():e}function y(e){return"function"==typeof e&&e.hasOwnProperty(p)&&e.__forward_ref__===g}class v extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function _(e){return"string"==typeof e?e:null==e?"":String(e)}function w(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():_(e)}function b(e,t){const n=t?` in ${t}`:"";throw new v("201",`No provider for ${w(e)} found${n}`)}function I(e,t){null==e&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function T(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function E(e){return{providers:e.providers||[],imports:e.imports||[]}}function S(e){return C(e,k)||C(e,N)}function C(e,t){return e.hasOwnProperty(t)?e[t]:null}function A(e){return e&&(e.hasOwnProperty(x)||e.hasOwnProperty(O))?e[x]:null}const k=l({"\u0275prov":l}),x=l({"\u0275inj":l}),N=l({ngInjectableDef:l}),O=l({ngInjectorDef:l});var R=(()=>((R=R||{})[R.Default=0]="Default",R[R.Host=1]="Host",R[R.Self=2]="Self",R[R.SkipSelf=4]="SkipSelf",R[R.Optional=8]="Optional",R))();let D;function P(e){const t=D;return D=e,t}function L(e,t,n){const r=S(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&R.Optional?null:void 0!==t?t:void b(d(e),"Injector")}function M(e){return{toString:e}.toString()}var V=(()=>((V=V||{})[V.OnPush=0]="OnPush",V[V.Default=1]="Default",V))(),F=(()=>((F=F||{})[F.Emulated=0]="Emulated",F[F.None=2]="None",F[F.ShadowDom=3]="ShadowDom",F))();const U="undefined"!=typeof globalThis&&globalThis,j="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,z=U||"undefined"!=typeof global&&global||j||q,B={},Z=[],H=l({"\u0275cmp":l}),$=l({"\u0275dir":l}),G=l({"\u0275pipe":l}),W=l({"\u0275mod":l}),K=l({"\u0275loc":l}),Q=l({"\u0275fac":l}),Y=l({__NG_ELEMENT_ID__:l});let J=0;function X(e){return M(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===V.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Z,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||F.Emulated,id:"c",styles:e.styles||Z,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=J++,n.inputs=se(e.inputs,t),n.outputs=se(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ee):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(te):null,n})}function ee(e){return ue(e)||function(e){return e[$]||null}(e)}function te(e){return function(e){return e[G]||null}(e)}const ne={};function re(e){return M(()=>{const t={type:e.type,bootstrap:e.bootstrap||Z,declarations:e.declarations||Z,imports:e.imports||Z,exports:e.exports||Z,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ne[e.id]=e.type),t})}function ie(e,t){return M(()=>{const n=ce(e,!0);n.declarations=t.declarations||Z,n.imports=t.imports||Z,n.exports=t.exports||Z})}function se(e,t){if(null==e)return B;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const oe=X;function ae(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function ue(e){return e[H]||null}function ce(e,t){const n=e[W]||null;if(!n&&!0===t)throw new Error(`Type ${d(e)} does not have '\u0275mod' property.`);return n}function le(e){return Array.isArray(e)&&"object"==typeof e[1]}function he(e){return Array.isArray(e)&&!0===e[1]}function de(e){return 0!=(8&e.flags)}function fe(e){return 2==(2&e.flags)}function pe(e){return 1==(1&e.flags)}function ge(e){return null!==e.template}function me(e){return 0!=(512&e[2])}function ye(e,t){return e.hasOwnProperty(Q)?e[Q]:null}class ve{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function _e(){return we}function we(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ie),be}function be(){const e=Ee(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===B)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Ie(e,t,n,r){const i=Ee(e)||function(e,t){return e[Te]=t}(e,{previous:B,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new ve(u&&u.currentValue,t,o===B),e[r]=t}_e.ngInherit=!0;const Te="__ngSimpleChanges__";function Ee(e){return e[Te]||null}let Se;function Ce(e){Se=e}function Ae(e){return!!e.listen}const ke={createRenderer:(e,t)=>void 0!==Se?Se:"undefined"!=typeof document?document:void 0};function xe(e){for(;Array.isArray(e);)e=e[0];return e}function Ne(e,t){return xe(t[e])}function Oe(e,t){return xe(t[e.index])}function Re(e,t){return e.data[t]}function De(e,t){const n=t[e];return le(n)?n:n[0]}function Pe(e){return 4==(4&e[2])}function Le(e){return 128==(128&e[2])}function Me(e,t){return null==t?null:e[t]}function Ve(e){e[18]=0}function Fe(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ue={lFrame:ot(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function je(){return Ue.bindingsEnabled}function qe(){return Ue.lFrame.lView}function ze(){return Ue.lFrame.tView}function Be(e){return Ue.lFrame.contextLView=e,e[8]}function Ze(){let e=He();for(;null!==e&&64===e.type;)e=e.parent;return e}function He(){return Ue.lFrame.currentTNode}function $e(e,t){const n=Ue.lFrame;n.currentTNode=e,n.isParent=t}function Ge(){return Ue.lFrame.isParent}function We(){Ue.lFrame.isParent=!1}function Ke(){return Ue.isInCheckNoChangesMode}function Qe(e){Ue.isInCheckNoChangesMode=e}function Ye(){return Ue.lFrame.bindingIndex++}function Je(e,t){const n=Ue.lFrame;n.bindingIndex=n.bindingRootIndex=e,Xe(t)}function Xe(e){Ue.lFrame.currentDirectiveIndex=e}function et(){return Ue.lFrame.currentQueryIndex}function tt(e){Ue.lFrame.currentQueryIndex=e}function nt(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function rt(e,t,n){if(n&R.SkipSelf){let r=t,i=e;for(;!(r=r.parent,null!==r||n&R.Host||(r=nt(i),null===r||(i=i[15],10&r.type))););if(null===r)return!1;t=r,e=i}const r=Ue.lFrame=st();return r.currentTNode=t,r.lView=e,!0}function it(e){const t=st(),n=e[1];Ue.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function st(){const e=Ue.lFrame,t=null===e?null:e.child;return null===t?ot(e):t}function ot(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function at(){const e=Ue.lFrame;return Ue.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ut=at;function ct(){const e=at();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function lt(){return Ue.lFrame.selectedIndex}function ht(e){Ue.lFrame.selectedIndex=e}function dt(){const e=Ue.lFrame;return Re(e.tView,e.selectedIndex)}function ft(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function pt(e,t,n){yt(e,t,3,n)}function gt(e,t,n,r){(3&e[2])===n&&yt(e,t,n,r)}function mt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function yt(e,t,n,r){const i=null!=r?r:-1,s=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(vt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function vt(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}class _t{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function wt(e,t,n){const r=Ae(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?e.setAttribute(t,a,u,o):t.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];It(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function bt(e){return 3===e||4===e||6===e}function It(e){return 64===e.charCodeAt(0)}function Tt(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Et(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Et(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function St(e){return-1!==e}function Ct(e){return 32767&e}function At(e,t){let n=function(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let kt=!0;function xt(e){const t=kt;return kt=e,t}let Nt=0;function Ot(e,t){const n=Dt(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Rt(r.data,e),Rt(t,null),Rt(r.blueprint,null));const i=Pt(e,t),s=e.injectorIndex;if(St(i)){const e=Ct(i),n=At(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function Rt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Dt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Pt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Lt(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Nt++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Mt(e,t,n){if(n&R.Optional)return e;b(t,"NodeInjector")}function Vt(e,t,n,r){if(n&R.Optional&&void 0===r&&(r=null),0==(n&(R.Self|R.Host))){const i=e[9],s=P(void 0);try{return i?i.get(t,r,n&R.Optional):L(t,r,n&R.Optional)}finally{P(s)}}return Mt(r,t,n)}function Ft(e,t,n,r=R.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Y)?e[Y]:void 0;return"number"==typeof t?t>=0?255&t:jt:t}(n);if("function"==typeof s){if(!rt(t,e,r))return r&R.Host?Mt(i,n,r):Vt(t,n,r,i);try{const e=s(r);if(null!=e||r&R.Optional)return e;b(n)}finally{ut()}}else if("number"==typeof s){let i=null,o=Dt(e,t),a=-1,u=r&R.Host?t[16][6]:null;for((-1===o||r&R.SkipSelf)&&(a=-1===o?Pt(e,t):t[o+8],-1!==a&&Ht(r,!1)?(i=t[1],o=Ct(a),t=At(a,t)):o=-1);-1!==o;){const e=t[1];if(Zt(s,o,e.data)){const e=qt(o,t,n,i,r,u);if(e!==Ut)return e}a=t[o+8],-1!==a&&Ht(r,t[1].data[o+8]===u)&&Zt(s,o,t)?(i=e,o=Ct(a),t=At(a,t)):o=-1}}}return Vt(t,n,r,i)}const Ut={};function jt(){return new $t(Ze(),qe())}function qt(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],u=zt(a,o,n,null==r?fe(a)&&kt:r!=o&&0!=(3&a.type),i&R.Host&&s===a);return null!==u?Bt(t,o,u,a):Ut}function zt(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,u=e.directiveStart,c=s>>20,l=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<l;h++){const e=o[h];if(h<u&&n===e||h>=u&&e.type===n)return h}if(i){const e=o[u];if(e&&ge(e)&&e.type===n)return u}return null}function Bt(e,t,n,r){let i=e[n];const s=t.data;if(function(e){return e instanceof _t}(i)){const o=i;o.resolving&&function(e,t){throw new v("200",`Circular dependency in DI detected for ${e}`)}(w(s[n]));const a=xt(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?P(o.injectImpl):null;rt(e,r,R.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=we(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==u&&P(u),xt(a),o.resolving=!1,ut()}}return i}function Zt(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Ht(e,t){return!(e&R.Self||e&R.Host&&t)}class $t{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return Ft(this._tNode,this._lView,e,n,t)}}function Gt(e){return M(()=>{const t=e.prototype.constructor,n=t[Q]||Wt(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[Q]||Wt(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function Wt(e){return y(e)?()=>{const t=Wt(m(e));return t&&t()}:ye(e)}function Kt(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(bt(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(Ze(),e)}const Qt="__parameters__";function Yt(e,t,n){return M(()=>{const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(Qt)?e[Qt]:Object.defineProperty(e,Qt,{value:[]})[Qt];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class Jt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=T({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Xt=new Jt("AnalyzeForEntryComponents"),en=Function;function tn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),tn(r,t)):t!==e&&t.push(r)}return t}function nn(e,t){e.forEach(e=>Array.isArray(e)?nn(e,t):t(e))}function rn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function sn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function on(e,t,n){let r=un(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function an(e,t){const n=un(e,t);if(n>=0)return e[1|n]}function un(e,t){return function(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=e[s<<n];if(t===o)return s<<n;o>t?i=s:r=s+1}return~(i<<n)}(e,t,1)}const cn={},ln="__NG_DI_FLAG__",hn="ngTempTokenPath",dn=/\n/gm,fn="__source",pn=l({provide:String,useValue:l});let gn;function mn(e){const t=gn;return gn=e,t}function yn(e,t=R.Default){if(void 0===gn)throw new Error("inject() must be called from an injection context");return null===gn?L(e,void 0,t):gn.get(e,t&R.Optional?null:void 0,t)}function vn(e,t=R.Default){return(D||yn)(m(e),t)}function _n(e){const t=[];for(let n=0;n<e.length;n++){const r=m(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=R.Default;for(let t=0;t<r.length;t++){const i=r[t],s=bn(i);"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push(vn(e,n))}else t.push(vn(r))}return t}function wn(e,t){return e[ln]=t,e.prototype[ln]=t,e}function bn(e){return e[ln]}function In(e,t,n,r){const i=e[hn];throw t[fn]&&i.unshift(t[fn]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=d(t);if(Array.isArray(t))i=t.map(d).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(dn,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[hn]=null,e}const Tn=wn(Yt("Inject",e=>({token:e})),-1),En=wn(Yt("Optional"),8),Sn=wn(Yt("SkipSelf"),4);var Cn=(()=>((Cn=Cn||{})[Cn.Important=1]="Important",Cn[Cn.DashCase=2]="DashCase",Cn))();const An="__ngContext__";function kn(e,t){e[An]=t}function xn(e){const t=function(e){return e[An]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Nn(e,t){return undefined(e,t)}function On(e){const t=e[3];return he(t)?t[3]:t}function Rn(e){return Pn(e[13])}function Dn(e){return Pn(e[4])}function Pn(e){for(;null!==e&&!he(e);)e=e[4];return e}function Ln(e,t,n,r,i){if(null!=r){let s,o=!1;he(r)?s=r:le(r)&&(o=!0,r=r[0]);const a=xe(r);0===e&&null!==n?null==i?Bn(t,n,a):zn(t,n,a,i||null,!0):1===e&&null!==n?zn(t,n,a,i||null,!0):2===e?function(e,t,n){const r=Hn(e,t);r&&function(e,t,n,r){Ae(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==xe(n)&&Ln(t,e,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];Xn(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function Mn(e,t,n){return Ae(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Vn(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Fe(i,-1)),n.splice(r,1)}function Fn(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&Vn(i,r),t>0&&(e[n-1][4]=r[4]);const s=sn(e,10+t);!function(e,t){Xn(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Un(e,t){if(!(256&t[2])){const n=t[11];Ae(n)&&n.destroyNode&&Xn(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return jn(e[1],e);for(;t;){let n=null;if(le(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)le(t)&&jn(t[1],t),t=t[3];null===t&&(t=e),le(t)&&jn(t[1],t),n=t&&t[4]}t=n}}(t)}}function jn(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof _t)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];try{i.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):xe(t[e]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const e=r[i=n[s+1]];n[s].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)r[e]();t[7]=null}}(e,t),1===t[1].type&&Ae(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&he(t[3])){n!==t[3]&&Vn(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function qn(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===F.None||t===F.Emulated)return null}return Oe(r,n)}(e,t.parent,n)}function zn(e,t,n,r,i){Ae(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Bn(e,t,n){Ae(e)?e.appendChild(t,n):t.appendChild(n)}function Zn(e,t,n,r,i){null!==r?zn(e,t,n,r,i):Bn(e,t,n)}function Hn(e,t){return Ae(e)?e.parentNode(t):t.parentNode}let $n,Gn=function(e,t,n){return 40&e.type?Oe(e,n):null};function Wn(e,t,n,r){const i=qn(e,r,t),s=t[11],o=function(e,t,n){return Gn(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Zn(s,i,n[a],o,!1);else Zn(s,i,n,o,!1)}function Kn(e,t){if(null!==t){const n=t.type;if(3&n)return Oe(t,e);if(4&n)return Yn(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Kn(e,n);{const n=e[t.index];return he(n)?Yn(-1,n):xe(n)}}if(32&n)return Nn(t,e)()||xe(e[t.index]);{const n=Qn(e,t);return null!==n?Array.isArray(n)?n[0]:Kn(On(e[16]),n):Kn(e,t.next)}}return null}function Qn(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Yn(e,t){const n=10+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Kn(e,r)}return t[7]}function Jn(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===t&&(a&&kn(xe(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Jn(e,t,n.child,r,i,s,!1),Ln(t,e,i,a,s);else if(32&u){const o=Nn(n,r);let u;for(;u=o();)Ln(t,e,i,u,s);Ln(t,e,i,a,s)}else 16&u?er(e,t,r,n,i,s):Ln(t,e,i,a,s);n=o?n.projectionNext:n.next}}function Xn(e,t,n,r,i,s){Jn(n,r,e.firstChild,t,i,s,!1)}function er(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ln(t,e,i,a[u],s);else Jn(e,t,a,o[3],i,s,!0)}function tr(e,t,n){Ae(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function nr(e,t,n){Ae(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function rr(e){var t;return(null===(t=function(){if(void 0===$n&&($n=null,z.trustedTypes))try{$n=z.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return $n}())||void 0===t?void 0:t.createHTML(e))||e}class ir{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class sr extends ir{getTypeName(){return"HTML"}}class or extends ir{getTypeName(){return"Style"}}class ar extends ir{getTypeName(){return"Script"}}class ur extends ir{getTypeName(){return"URL"}}class cr extends ir{getTypeName(){return"ResourceURL"}}function lr(e){return e instanceof ir?e.changingThisBreaksApplicationSecurity:e}function hr(e,t){const n=dr(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function dr(e){return e instanceof ir&&e.getTypeName()||null}function fr(e){return new sr(e)}function pr(e){return new or(e)}function gr(e){return new ar(e)}function mr(e){return new ur(e)}function yr(e){return new cr(e)}class vr{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(rr(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class _r{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=rr(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=rr(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;("xmlns:ns1"===n||0===n.indexOf("ns1:"))&&e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const wr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,br=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ir(e){return(e=String(e)).match(wr)||e.match(br)?e:"unsafe:"+e}function Tr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Er(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Sr=Tr("area,br,col,hr,img,wbr"),Cr=Tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ar=Tr("rp,rt"),kr=Er(Sr,Er(Cr,Tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Er(Ar,Tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Er(Ar,Cr)),xr=Tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Nr=Tr("srcset"),Or=Er(xr,Nr,Tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Rr=Tr("script,style,template");class Dr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!kr.hasOwnProperty(t))return this.sanitizedSomething=!0,!Rr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,s=t.toLowerCase();if(!Or.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=e.value;xr[s]&&(o=Ir(o)),Nr[s]&&(r=o,o=(r=String(r)).split(",").map(e=>Ir(e.trim())).join(", ")),this.buf.push(" ",t,'="',Mr(o),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();kr.hasOwnProperty(t)&&!Sr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Mr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Pr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lr=/([^\#-~ |!])/g;function Mr(e){return e.replace(/&/g,"&amp;").replace(Pr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Lr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Vr;function Fr(e,t){let n=null;try{Vr=Vr||function(e){const t=new _r(e);return function(){try{return!!(new window.DOMParser).parseFromString(rr(""),"text/html")}catch(e){return!1}}()?new vr(t):t}(e);let r=t?String(t):"";n=Vr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Vr.getInertBodyElement(r)}while(r!==s);return rr((new Dr).sanitizeChildren(Ur(n)||n))}finally{if(n){const e=Ur(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Ur(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var jr=(()=>((jr=jr||{})[jr.NONE=0]="NONE",jr[jr.HTML=1]="HTML",jr[jr.STYLE=2]="STYLE",jr[jr.SCRIPT=3]="SCRIPT",jr[jr.URL=4]="URL",jr[jr.RESOURCE_URL=5]="RESOURCE_URL",jr))();function qr(e){const t=function(){const e=qe();return e&&e[12]}();return t?t.sanitize(jr.URL,e)||"":hr(e,"URL")?lr(e):Ir(_(e))}function zr(e){return e.ngOriginalError}function Br(e,...t){e.error(...t)}class Zr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=(i=e)&&i.ngErrorLogger||Br;var i;r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?e.ngDebugContext||this._findContext(zr(e)):null}_findOriginalError(e){let t=e&&zr(e);for(;t&&zr(t);)t=zr(t);return t||null}}const Hr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function $r(e){return e instanceof Function?e():e}function Gr(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const Wr="ng-template";function Kr(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Gr(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Qr(e){return 4===e.type&&e.value!==Wr}function Yr(e,t,n){return t===(4!==e.type||n?e.value:Wr)}function Jr(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(bt(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Yr(e,u,n)||""===u&&1===t.length){if(Xr(r))return!1;o=!0}}else{const c=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!Kr(e.attrs,c,n)){if(Xr(r))return!1;o=!0}continue}const l=ei(8&r?"class":u,i,Qr(e),n);if(-1===l){if(Xr(r))return!1;o=!0;continue}if(""!==c){let e;e=l>s?"":i[l+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==Gr(t,c,0)||2&r&&c!==e){if(Xr(r))return!1;o=!0}}}}else{if(!o&&!Xr(r)&&!Xr(u))return!1;if(o&&Xr(u))continue;o=!1,r=u|1&r}}return Xr(r)||o}function Xr(e){return 0==(1&e)}function ei(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ti(e,t,n=!1){for(let r=0;r<t.length;r++)if(Jr(e,t[r],n))return!0;return!1}function ni(e,t){return e?":not("+t.trim()+")":t}function ri(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Xr(o)&&(t+=ni(s,i),i=""),r=o,s=s||!Xr(r);n++}return""!==i&&(t+=ni(s,i)),t}const ii={};function si(e){oi(ze(),qe(),lt()+e,Ke())}function oi(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&pt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&gt(t,r,0,n)}ht(n)}function ai(e,t){return e<<17|t<<2}function ui(e){return e>>17&32767}function ci(e){return 2|e}function li(e){return(131068&e)>>2}function hi(e,t){return-131069&e|t<<2}function di(e){return 1|e}function fi(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];tt(i),n.contentQueries(2,t[s],s)}}}function pi(e,t,n,r,i,s,o,a,u,c){const l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Ve(l),l[3]=l[15]=e,l[8]=n,l[10]=o||e&&e[10],l[11]=a||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=s,l[16]=2==t.type?e[16]:l,l}function gi(e,t,n,r,i){let s=e.data[t];if(null===s)s=function(e,t,n,r,i){const s=He(),o=Ge(),a=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(e,t,n,r,i),Ue.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const e=function(){const e=Ue.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return $e(s,!0),s}function mi(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function yi(e,t,n){it(t);try{const r=e.viewQuery;null!==r&&Wi(1,r,n);const i=e.template;null!==i&&wi(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&fi(e,t),e.staticViewQueries&&Wi(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)Bi(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,ct()}}function vi(e,t,n,r){const i=t[2];if(256==(256&i))return;it(t);const s=Ke();try{Ve(t),function(e){Ue.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&wi(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&pt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&gt(t,n,0,null),mt(t,0)}if(function(e){for(let t=Rn(e);null!==t;t=Dn(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Fe(r,1),n[2]|=1024}}}(t),function(e){for(let t=Rn(e);null!==t;t=Dn(t))for(let e=10;e<t.length;e++){const n=t[e],r=n[1];Le(n)&&vi(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&fi(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&pt(t,n)}else{const n=e.contentHooks;null!==n&&gt(t,n,1),mt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)ht(~r);else{const i=r,s=n[++e],o=n[++e];Je(s,i),o(2,t[i])}}}finally{ht(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)qi(e,t[n])}(t,a);const u=e.viewQuery;if(null!==u&&Wi(2,u,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&pt(t,n)}else{const n=e.viewHooks;null!==n&&gt(t,n,2),mt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Fe(t[3],-1))}finally{ct()}}function _i(e,t,n,r){const i=t[10],s=!Ke(),o=Pe(t);try{s&&!o&&i.begin&&i.begin(),o&&yi(e,t,r),vi(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function wi(e,t,n,r,i){const s=lt(),o=2&r;try{ht(-1),o&&t.length>20&&oi(e,t,20,Ke()),n(r,i)}finally{ht(s)}}function bi(e,t,n){if(de(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function Ii(e,t,n){!je()||(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Ot(n,t),kn(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=ge(r);s&&Mi(t,n,r);const u=Bt(t,e,a,n);kn(u,t),null!==o&&Fi(0,a-i,u,r,0,o),s&&(De(n.index,t)[8]=u)}}(e,t,n,Oe(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ue.lFrame.currentDirectiveIndex;try{ht(s);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];Xe(n),(null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs)&&Oi(r,i)}}finally{ht(-1),Xe(o)}}(e,t,n))}function Ti(e,t,n=Oe){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function Ei(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Si(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Si(e,t,n,r,i,s,o,a,u,c){const l=20+r,h=l+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ii);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Ci(e,t,n,r){const i=Qi(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Yi(e).push(r,i.length-1))}function Ai(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function ki(e,t,n,r,i,s,o,a){const u=Oe(t,n);let c,l=t.inputs;!a&&null!=l&&(c=l[r])?(Xi(e,n,c,r,i),fe(t)&&function(e,t){const n=De(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,Ae(s)?s.setProperty(u,r,i):It(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function xi(e,t,n,r){let i=!1;if(je()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ti(n,o.selectors,!1)&&(i||(i=[]),Lt(Ot(n,t),e,o.type),ge(o)?(Ri(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Pi(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,u=mi(e,t,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Tt(n.mergedAttrs,c.hostAttrs),Li(e,n,t,u,c),Di(u,c,o),null!==c.contentQueries&&(n.flags|=8),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),!a&&(l.ngOnChanges||l.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,s=[];let o=null,a=null;for(let u=t.directiveStart;u<n;u++){const e=r[u],n=e.inputs,c=null===i||Qr(t)?null:Ui(n,i);s.push(c),o=Ai(n,u,o),a=Ai(e.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new v("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=Tt(n.mergedAttrs,n.attrs),i}function Ni(e,t,n,r,i,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Oi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ri(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Di(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ge(t)&&(n[""]=e)}}function Pi(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Li(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ye(i.type)),o=new _t(s,ge(i),null);e.blueprint[r]=o,n[r]=o,Ni(e,t,0,r,mi(e,n,i.hostVars,ii),i)}function Mi(e,t,n){const r=Oe(t,e),i=Ei(n),s=e[10],o=Zi(e,pi(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function Vi(e,t,n,r,i,s){const o=Oe(e,t);!function(e,t,n,r,i,s,o){if(null==s)Ae(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?_(s):o(s,r||"",i);Ae(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}(t[11],o,s,e.value,n,r,i)}function Fi(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function Ui(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function ji(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function qi(e,t){const n=De(t,e);if(Le(n)){const e=n[1];80&n[2]?vi(e,n,e.template,n[8]):n[5]>0&&zi(n)}}function zi(e){for(let n=Rn(e);null!==n;n=Dn(n))for(let e=10;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];vi(e,t,e.template,t[8])}else t[5]>0&&zi(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=De(t[n],e);Le(r)&&r[5]>0&&zi(r)}}function Bi(e,t){const n=De(t,e),r=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),yi(r,n,n[8])}function Zi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Hi(e){for(;e;){e[2]|=64;const t=On(e);if(me(e)&&!t)return e;e=t}return null}function $i(e,t,n){const r=t[10];r.begin&&r.begin();try{vi(e,t,e.template,n)}catch(i){throw Ji(t,i),i}finally{r.end&&r.end()}}function Gi(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=xn(n),i=r[1];_i(i,r,i.template,n)}}(e[8])}function Wi(e,t,n){tt(0),t(e,n)}const Ki=(()=>Promise.resolve(null))();function Qi(e){return e[7]||(e[7]=[])}function Yi(e){return e.cleanup||(e.cleanup=[])}function Ji(e,t){const n=e[9],r=n?n.get(Zr,null):null;r&&r.handleError(t)}function Xi(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=t[o],c=e.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function es(e,t,n){const r=Ne(t,e);!function(e,t,n){Ae(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function ts(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=f(i,e):2==s&&(r=f(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const ns=new Jt("INJECTOR",-1);class rs{get(e,t=cn){if(t===cn){const t=new Error(`NullInjectorError: No provider for ${d(e)}!`);throw t.name="NullInjectorError",t}return t}}const is=new Jt("Set Injector scope."),ss={},os={};let as;function us(){return void 0===as&&(as=new rs),as}function cs(e,t=null,n=null,r){return new ls(e,n,t||us(),r)}class ls{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&nn(t,n=>this.processProvider(n,e,t)),nn([e],e=>this.processInjectorType(e,[],i)),this.records.set(ns,fs(void 0,this));const s=this.records.get(is);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:d(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=cn,n=R.Default){this.assertNotDestroyed();const r=mn(this),i=P(void 0);try{if(!(n&R.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(s=e)||"object"==typeof s&&s instanceof Jt)&&S(e);t=n&&this.injectableDefInScope(n)?fs(hs(e),ss):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&R.Self?us():this.parent).get(e,t=n&R.Optional&&t===cn?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[hn]=o[hn]||[]).unshift(d(e)),r)throw o;return In(o,e,"R3InjectorError",this.source)}throw o}finally{P(i),mn(r)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(d(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=m(e)))return!1;let r=A(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=A(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{nn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];nn(r,e=>this.processProvider(e,n,r||Z))}}this.injectorDefTypes.add(s);const a=ye(s)||(()=>new s);this.records.set(s,fs(a,ss));const u=r.providers;if(null!=u&&!o){const t=e;nn(u,e=>this.processProvider(e,t,u))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=gs(e=m(e))?e:m(e&&e.provide);const i=(s=e,ps(s)?fs(void 0,s.useValue):fs(ds(s),ss));var s;if(gs(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=fs(void 0,ss,!0),t.factory=()=>_n(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){return t.value===ss&&(t.value=os,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var n}injectableDefInScope(e){if(!e.providedIn)return!1;const t=m(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function hs(e){const t=S(e),n=null!==t?t.factory:ye(e);if(null!==n)return n;if(e instanceof Jt)throw new Error(`Token ${d(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=function(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?");throw new Error(`Can't resolve all parameters for ${d(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[k]||e[N]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function ds(e,t,n){let r;if(gs(e)){const t=m(e);return ye(t)||hs(t)}if(ps(e))r=()=>m(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(..._n(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>vn(m(e.useExisting));else{const t=m(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ye(t)||hs(t);r=()=>new t(..._n(e.deps))}return r}function fs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ps(e){return null!==e&&"object"==typeof e&&pn in e}function gs(e){return"function"==typeof e}const ms=function(e,t,n){return function(e,t=null,n=null,r){const i=cs(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};let ys=(()=>{class e{static create(e,t){return Array.isArray(e)?ms(e,t,""):ms(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=cn,e.NULL=new rs,e.\u0275prov=T({token:e,providedIn:"any",factory:()=>vn(ns)}),e.__NG_ELEMENT_ID__=-1,e})();function vs(e,t){ft(xn(e)[1],Ze())}function _s(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(ge(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=ws(e.inputs),t.declaredInputs=ws(e.declaredInputs),t.outputs=ws(e.outputs);const n=i.hostBindings;n&&Ts(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&bs(e,s),o&&Is(e,o),h(e.inputs,i.inputs),h(e.declaredInputs,i.declaredInputs),h(e.outputs,i.outputs),ge(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===_s&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Tt(i.hostAttrs,n=Tt(n,i.hostAttrs))}}(r)}function ws(e){return e===B?{}:e===Z?[]:e}function bs(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function Is(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function Ts(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}let Es=null;function Ss(){if(!Es){const e=z.Symbol;if(e&&e.iterator)Es=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Es=n)}}}return Es}function Cs(e){return!!As(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ss()in e)}function As(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ks(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function xs(e,t,n,r){const i=qe();return ks(i,Ye(),t)&&(ze(),Vi(dt(),i,e,t,n,r)),xs}function Ns(e,t,n,r,i,s,o,a){const u=qe(),c=ze(),l=e+20,h=c.firstCreatePass?function(e,t,n,r,i,s,o,a,u){const c=t.consts,l=gi(t,e,4,o||null,Me(c,a));xi(t,n,l,Me(c,u)),ft(t,l);const h=l.tViews=Si(2,l,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,n,r,i,s,o):c.data[l];$e(h,!1);const d=u[11].createComment("");Wn(c,u,d,h),kn(d,u),Zi(u,u[l]=ji(d,u,d,h)),pe(h)&&Ii(c,u,h),null!=o&&Ti(u,h,a)}function Os(e,t=R.Default){const n=qe();return null===n?vn(e,t):Ft(Ze(),n,m(e),t)}function Rs(e,t,n){const r=qe();return ks(r,Ye(),t)&&ki(ze(),dt(),r,e,t,r[11],n,!1),Rs}function Ds(e,t,n,r,i){const s=i?"class":"style";Xi(e,n,t.inputs[s],s,r)}function Ps(e,t,n,r){const i=qe(),s=ze(),o=20+e,a=i[11],u=i[o]=Mn(a,t,Ue.lFrame.currentNamespace),c=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,u=gi(t,e,2,i,Me(a,s));return xi(t,n,u,Me(a,o)),null!==u.attrs&&ts(u,u.attrs,!1),null!==u.mergedAttrs&&ts(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(o,s,i,0,t,n,r):s.data[o];$e(c,!0);const l=c.mergedAttrs;null!==l&&wt(a,u,l);const h=c.classes;null!==h&&nr(a,u,h);const d=c.styles;null!==d&&tr(a,u,d),64!=(64&c.flags)&&Wn(s,i,u,c),0===Ue.lFrame.elementDepthCount&&kn(u,i),Ue.lFrame.elementDepthCount++,pe(c)&&(Ii(s,i,c),bi(s,c,i)),null!==r&&Ti(i,c)}function Ls(){let e=Ze();Ge()?We():(e=e.parent,$e(e,!1));const t=e;Ue.lFrame.elementDepthCount--;const n=ze();n.firstCreatePass&&(ft(n,e),de(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Ds(n,t,qe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Ds(n,t,qe(),t.stylesWithoutHost,!1)}function Ms(e,t,n,r){Ps(e,t,n,r),Ls()}function Vs(e,t,n){const r=qe(),i=ze(),s=e+20,o=i.firstCreatePass?function(e,t,n,r,i){const s=t.consts,o=Me(s,r),a=gi(t,e,8,"ng-container",o);return null!==o&&ts(a,o,!0),xi(t,n,a,Me(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];$e(o,!0);const a=r[s]=r[11].createComment("");Wn(i,r,a,o),kn(a,r),pe(o)&&(Ii(i,r,o),bi(i,o,r)),null!=n&&Ti(r,o)}function Fs(){let e=Ze();const t=ze();Ge()?We():(e=e.parent,$e(e,!1)),t.firstCreatePass&&(ft(t,e),de(e)&&t.queries.elementEnd(e))}function Us(){return qe()}function js(e){return!!e&&"function"==typeof e.then}function qs(e){return!!e&&"function"==typeof e.subscribe}const zs=qs;function Bs(e,t,n,r){const i=qe(),s=ze(),o=Ze();return function(e,t,n,r,i,s,o,a){const u=pe(r),c=e.firstCreatePass&&Yi(e),l=t[8],h=Qi(t);let d=!0;if(3&r.type||a){const f=Oe(r,t),p=a?a(f):f,g=h.length,m=a?e=>a(xe(e[r.index])):r.index;if(Ae(n)){let o=null;if(!a&&u&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,d=!1;else{s=Hs(r,t,l,s,!1);const e=n.listen(p,i,s);h.push(s,e),c&&c.push(i,m,g,g+1)}}else s=Hs(r,t,l,s,!0),p.addEventListener(i,s,o),h.push(s),c&&c.push(i,m,g,o)}else s=Hs(r,t,l,s,!1);const f=r.outputs;let p;if(d&&null!==f&&(p=f[i])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(s),o=h.length;h.push(s,e),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,e,t,!!n,r),Bs}function Zs(e,t,n,r){try{return!1!==n(r)}catch(i){return Ji(e,i),!1}}function Hs(e,t,n,r,i){return function n(s){if(s===Function)return r;const o=2&e.flags?De(e.index,t):t;0==(32&t[2])&&Hi(o);let a=Zs(t,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=Zs(t,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function $s(e=1){return function(e){return(Ue.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ue.lFrame.contextLView))[8]}(e)}function Gs(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?ui(s):li(s),u=!1;for(;0!==a&&(!1===u||o);){const n=e[a+1];Ws(e[a],t)&&(u=!0,e[a+1]=r?di(n):ci(n)),a=r?ui(n):li(n)}u&&(e[n+1]=r?ci(s):di(s))}function Ws(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&un(e,t)>=0}function Ks(e,t){return function(e,t,n,r){const i=qe(),s=ze(),o=function(e){const t=Ue.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[lt()],o=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=function(e){const t=Ue.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Ys(n=Qs(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=Qs(i,e,t,n,r),null===s){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==li(r))return e[ui(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=Qs(null,e,t,n[1],r),n=Ys(n,t.attrs,r),function(e,t,n,r){e[ui(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=Ys(r,e[s].hostAttrs,n);return Ys(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=ui(o),u=li(o);e[r]=n;let c,l=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||un(e,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const t=ui(e[a+1]);e[r+1]=ai(t,a),0!==t&&(e[t+1]=hi(e[t+1],r)),e[a+1]=function(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=ai(a,0),0!==a&&(e[a+1]=hi(e[a+1],r)),a=r;else e[r+1]=ai(u,0),0===a?a=r:e[u+1]=hi(e[u+1],r),u=r;l&&(e[r+1]=ci(e[r+1])),Gs(e,c,r,!0),Gs(e,c,r,!1),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&un(s,t)>=0&&(n[r+1]=di(n[r+1]))}(t,c,e,r,s),o=ai(a,u),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}(s,e,o,r),t!==ii&&ks(i,o,t)&&function(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const u=e.data,c=u[a+1];Xs(function(e){return 1==(1&e)}(c)?Js(u,t,n,i,li(c),o):void 0)||(Xs(s)||function(e){return 2==(2&e)}(c)&&(s=Js(u,null,n,i,a,o)),function(e,t,n,r,i){const s=Ae(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:Cn.DashCase;if(null==i)s?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),t|=Cn.Important),s?e.setStyle(n,r,i,t):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Ne(lt(),n),i,s))}(s,s.data[lt()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=d(lr(e)))),e}(t,n),r,o)}(e,t,null,!0),Ks}function Qs(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=Ys(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Ys(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),on(e,o,!!n||t[++s]))}return void 0===e?null:e}function Js(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const t=e[i],s=Array.isArray(t),u=s?t[1]:t,c=null===u;let l=n[i+1];l===ii&&(l=c?Z:void 0);let h=c?an(l,r):u===r?l:void 0;if(s&&!Xs(h)&&(h=an(t,r)),Xs(h)&&(a=h,o))return a;const d=e[i+1];i=o?ui(d):li(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=an(e,r))}return a}function Xs(e){return void 0!==e}function eo(e,t=""){const n=qe(),r=ze(),i=e+20,s=r.firstCreatePass?gi(r,i,1,t,null):r.data[i],o=n[i]=function(e,t){return Ae(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Wn(r,n,o,s),$e(s,!1)}function to(e){return no("",e,""),to}function no(e,t,n){const r=qe(),i=function(e,t,n,r){return ks(e,Ye(),n)?t+_(n)+r:ii}(r,e,t,n);return i!==ii&&es(r,lt(),i),no}function ro(e,t,n){const r=qe();return ks(r,Ye(),t)&&ki(ze(),dt(),r,e,t,r[11],n,!0),ro}const io=void 0;var so=["en",[["a","p"],["AM","PM"],io],[["AM","PM"],io,io],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],io,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],io,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",io,"{1} 'at' {0}",io],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let oo={};function ao(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=co(t);if(n)return n;const r=t.split("-")[0];if(n=co(r),n)return n;if("en"===r)return so;throw new Error(`Missing locale data for the locale "${e}".`)}function uo(e){return ao(e)[lo.PluralCase]}function co(e){return e in oo||(oo[e]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[e]),oo[e]}var lo=(()=>((lo=lo||{})[lo.LocaleId=0]="LocaleId",lo[lo.DayPeriodsFormat=1]="DayPeriodsFormat",lo[lo.DayPeriodsStandalone=2]="DayPeriodsStandalone",lo[lo.DaysFormat=3]="DaysFormat",lo[lo.DaysStandalone=4]="DaysStandalone",lo[lo.MonthsFormat=5]="MonthsFormat",lo[lo.MonthsStandalone=6]="MonthsStandalone",lo[lo.Eras=7]="Eras",lo[lo.FirstDayOfWeek=8]="FirstDayOfWeek",lo[lo.WeekendRange=9]="WeekendRange",lo[lo.DateFormat=10]="DateFormat",lo[lo.TimeFormat=11]="TimeFormat",lo[lo.DateTimeFormat=12]="DateTimeFormat",lo[lo.NumberSymbols=13]="NumberSymbols",lo[lo.NumberFormats=14]="NumberFormats",lo[lo.CurrencyCode=15]="CurrencyCode",lo[lo.CurrencySymbol=16]="CurrencySymbol",lo[lo.CurrencyName=17]="CurrencyName",lo[lo.Currencies=18]="Currencies",lo[lo.Directionality=19]="Directionality",lo[lo.PluralCase=20]="PluralCase",lo[lo.ExtraData=21]="ExtraData",lo))();const ho="en-US";let fo=ho;function po(e){I(e,"Expected localeId to be defined"),"string"==typeof e&&(fo=e.toLowerCase().replace(/_/g,"-"))}function go(e,t,n,r,i){if(e=m(e),Array.isArray(e))for(let s=0;s<e.length;s++)go(e[s],t,n,r,i);else{const s=ze(),o=qe();let a=gs(e)?e:m(e.provide),u=ds(e);const c=Ze(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(gs(e)||!e.multi){const r=new _t(u,i,Os),f=vo(a,t,i?l:l+d,h);-1===f?(Lt(Ot(c,o),s,a),mo(s,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=vo(a,t,l+d,h),p=vo(a,t,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Lt(Ot(c,o),s,a);const l=function(e,t,n,r,i){const s=new _t(e,n,Os);return s.multi=[],s.index=t,s.componentProviders=0,yo(s,i,r&&!n),s}(i?wo:_o,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),mo(s,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else mo(s,e,f>-1?f:p,yo(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function mo(e,t,n,r){const i=gs(t);if(i||function(e){return!!e.useClass}(t)){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function yo(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function vo(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function _o(e,t,n,r){return bo(this.multi,[])}function wo(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Bt(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),bo(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],bo(i,s);return s}function bo(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Io(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=ze();if(r.firstCreatePass){const i=ge(e);go(n,r.data,r.blueprint,i,!0),go(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class To{}const Eo="ngComponent";class So{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${d(e)}. Did you add it to @NgModule.entryComponents?`);return t[Eo]=e,t}(e)}}let Co=(()=>{class e{}return e.NULL=new So,e})();function Ao(...e){}function ko(e,t){return new No(Oe(e,t))}const xo=function(){return ko(Ze(),qe())};let No=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=xo,e})();function Oo(e){return e instanceof No?e.nativeElement:e}class Ro{}let Do=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Po(),e})();const Po=function(){const e=qe(),t=De(Ze().index,e);return function(e){return e[11]}(le(t)?t:e)};let Lo=(()=>{class e{}return e.\u0275prov=T({token:e,providedIn:"root",factory:()=>null}),e})();class Mo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Vo=new Mo("12.2.17");class Fo{constructor(){}supports(e){return Cs(e)}create(e){return new jo(e)}}const Uo=(e,t)=>t;class jo{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Uo}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<Zo(n,r,i)?t:n,o=Zo(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Cs(e))throw new Error(`Error trying to diff '${d(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ss()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new qo(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Bo),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bo),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class qo{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zo{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Bo{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new zo,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zo(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class Ho{constructor(){}supports(e){return e instanceof Map||As(e)}create(){return new $o}}class $o{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||As(e)))throw new Error(`Error trying to diff '${d(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Go(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Go{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wo(){return new Ko([new Fo])}let Ko=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||Wo()),deps:[[e,new Sn,new En]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(e){return e.name||typeof e}(e)}'`)}}return e.\u0275prov=T({token:e,providedIn:"root",factory:Wo}),e})();function Qo(){return new Yo([new Ho])}let Yo=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||Qo()),deps:[[e,new Sn,new En]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=T({token:e,providedIn:"root",factory:Qo}),e})();function Jo(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(xe(s)),he(s))for(let e=10;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&Jo(t[1],t,n,r)}const o=n.type;if(8&o)Jo(e,t,n.child,r);else if(32&o){const e=Nn(n,t);let i;for(;i=e();)r.push(i)}else if(16&o){const e=Qn(t,n);if(Array.isArray(e))r.push(...e);else{const n=On(t[16]);Jo(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class Xo{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Jo(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(he(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Fn(e,n),sn(t,n))}this._attachedToViewContainer=!1}Un(this._lView[1],this._lView)}onDestroy(e){Ci(this._lView[1],this._lView,null,e)}markForCheck(){Hi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$i(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Qe(!0);try{$i(e,t,n)}finally{Qe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Xn(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class ea extends Xo{constructor(e){super(e),this._view=e}detectChanges(){Gi(this._view)}checkNoChanges(){!function(e){Qe(!0);try{Gi(e)}finally{Qe(!1)}}(this._view)}get context(){return null}}const ta=function(e){return function(e,t,n){if(fe(e)&&!n){const n=De(e.index,t);return new Xo(n,n)}return 47&e.type?new Xo(t[16],t):null}(Ze(),qe(),16==(16&e))};let na=(()=>{class e{}return e.__NG_ELEMENT_ID__=ta,e})();const ra=[new Ho],ia=new Ko([new Fo]),sa=new Yo(ra),oa=function(){return la(Ze(),qe())};let aa=(()=>{class e{}return e.__NG_ELEMENT_ID__=oa,e})();const ua=aa,ca=class extends ua{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=pi(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),yi(t,n,e),new Xo(n)}};function la(e,t){return 4&e.type?new ca(t,e,ko(e,t)):null}class ha{}class da{}const fa=function(){return _a(Ze(),qe())};let pa=(()=>{class e{}return e.__NG_ELEMENT_ID__=fa,e})();const ga=pa,ma=class extends ga{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return ko(this._hostTNode,this._hostLView)}get injector(){return new $t(this._hostTNode,this._hostLView)}get parentInjector(){const e=Pt(this._hostTNode,this._hostLView);if(St(e)){const t=At(e,this._hostLView),n=Ct(e);return new $t(t[1].data[n+8],t)}return new $t(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=ya(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(ha,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(he(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new ma(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-10?(t[4]=n[i],rn(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,s,i);const o=Yn(i,s),a=n[11],u=Hn(a,s[7]);return null!==u&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,Xn(e,r,n,1,i,s)}(r,s[6],a,n,u,o),e.attachToViewContainerRef(),rn(va(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=ya(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Fn(this._lContainer,t);n&&(sn(va(this._lContainer),t),Un(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Fn(this._lContainer,t);return n&&null!=sn(va(this._lContainer),t)?new Xo(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function ya(e){return e[8]}function va(e){return e[8]||(e[8]=[])}function _a(e,t){let n;const r=t[e.index];if(he(r))n=r;else{let i;if(8&e.type)i=xe(r);else{const n=t[11];i=n.createComment("");const r=Oe(e,t);zn(n,Hn(n,r),i,function(e,t){return Ae(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=ji(r,t,i,e),Zi(t,n)}return new ma(n,e,t)}const wa={};class ba extends Co{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ue(e);return new Ea(t,this.ngModule)}}function Ia(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Ta=new Jt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Hr});class Ea extends To{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(ri).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Ia(this.componentDef.inputs)}get outputs(){return Ia(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,wa,i);return s!==wa||r===wa?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Ro,ke),o=i.get(Lo,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(e,t,n){if(Ae(e))return e.selectRootElement(t,n===F.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Mn(s.createRenderer(null,this.componentDef),u,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h=function(e,t){return{components:[],scheduler:e||Hr,clean:Ki,playerHandler:t||null,flags:0}}(),d=Si(0,null,null,1,0,null,null,null,null,null),f=pi(null,d,h,l,null,null,s,a,o,i);let p,g;it(f);try{const e=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=gi(o,20,2,"#host",null),u=a.mergedAttrs=t.hostAttrs;null!==u&&(ts(a,u,!0),null!==e&&(wt(i,e,u),null!==a.classes&&nr(i,e,a.classes),null!==a.styles&&tr(i,e,a.styles)));const c=r.createRenderer(e,t),l=pi(n,Ei(t),null,t.onPush?64:16,n[20],a,r,c,s||null,null);return o.firstCreatePass&&(Lt(Ot(a,n),o,t.type),Ri(o,a),Pi(a,n.length,1)),Zi(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)wt(a,c,["ng-version",Vo.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!Xr(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&wt(a,c,e),t&&t.length>0&&nr(a,c,t.join(" "))}if(g=Re(d,20),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}p=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=Ze();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Li(e,r,t,mi(e,t,1,null),n));const i=Bt(t,e,r.directiveStart,r);kn(i,t);const s=Oe(r,t);return s&&kn(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=Ze();t.contentQueries(1,o,e.directiveStart)}const a=Ze();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ht(a.index),Ni(n[1],a,0,a.directiveStart,a.directiveEnd,t),Oi(t,o)),o}(e,this.componentDef,f,h,[vs]),yi(d,f,null)}finally{ct()}return new Sa(this.componentType,p,ko(g,f),f,g)}}class Sa extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new ea(r),this.componentType=e}get injector(){return new $t(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Ca=new Map;class Aa extends ha{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ba(this);const n=ce(e),r=e[K]||null;r&&po(r),this._bootstrapComponents=$r(n.bootstrap),this._r3Injector=cs(e,t,[{provide:ha,useValue:this},{provide:Co,useValue:this.componentFactoryResolver}],d(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ys.THROW_IF_NOT_FOUND,n=R.Default){return e===ys||e===ha||e===ns?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ka extends da{constructor(e){super(),this.moduleType=e,null!==ce(e)&&function(e){const t=new Set;!function e(n){const r=ce(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${d(t)} vs ${d(t.name)}`)}(i,Ca.get(i),n),Ca.set(i,n));const s=$r(r.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new Aa(this.moduleType,e)}}function xa(e,t,n,r,i){return function(e,t,n,r,i,s,o){const a=t+n;return function(e,t,n,r){const i=ks(e,t,n);return ks(e,t+1,r)||i}(e,a,i,s)?function(e,t,n){return e[t]=n}(e,a+2,o?r.call(o,i,s):r(i,s)):function(e,t){const n=e[t];return n===ii?void 0:n}(e,a+2)}(qe(),function(){const e=Ue.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),e,t,n,r,i)}function Na(e){return t=>{setTimeout(e,void 0,t)}}const Oa=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,u=t||(()=>null),c=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),u=null===(s=t.error)||void 0===s?void 0:s.bind(t),c=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(u=Na(u),a&&(a=Na(a)),c&&(c=Na(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof i.w&&e.add(l),l}};function Ra(){return this._results[Ss()]()}class Da{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ss(),n=Da.prototype;n[t]||(n[t]=Ra)}get changes(){return this._changes||(this._changes=new Oa)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=tn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Pa{constructor(e){this.queryList=e,this.matches=null}clone(){return new Pa(this.queryList)}setDirty(){this.queryList.setDirty()}}class La{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new La(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==$a(e,t).matches&&this.queries[t].setDirty()}}class Ma{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Va{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new Va(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Fa{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Fa(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,Ua(t,i)),this.matchTNodeWithReadOption(e,t,zt(t,e,i,!1,!1))}else n===aa?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,zt(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===No||r===pa||r===aa&&4&t.type)this.addMatch(t.index,-2);else{const n=zt(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Ua(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function ja(e,t,n,r){return-1===n?function(e,t){return 11&e.type?ko(e,t):4&e.type?la(e,t):null}(t,e):-2===n?function(e,t,n){return n===No?ko(t,e):n===aa?la(t,e):n===pa?_a(t,e):void 0}(e,t,r):Bt(e,e[1],n,t)}function qa(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:ja(t,r[i],s[e+1],n.metadata.read))}i.matches=o}return i.matches}function za(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=qa(e,t,i,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)r.push(o[e/2]);else{const i=s[e+1],o=t[-n];for(let e=10;e<o.length;e++){const t=o[e];t[17]===t[3]&&za(t[1],t,i,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];za(n[1],n,i,r)}}}}}return r}function Ba(e){const t=qe(),n=ze(),r=et();tt(r+1);const i=$a(n,r);if(e.dirty&&Pe(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?za(n,t,r,[]):qa(n,t,i,r);e.reset(s,Oo),e.notifyOnChanges()}return!0}return!1}function Za(e,t,n,r){const i=ze();if(i.firstCreatePass){const s=Ze();(function(e,t,n){null===e.queries&&(e.queries=new Va),e.queries.track(new Fa(t,n))})(i,new Ma(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}!function(e,t,n){const r=new Da(4==(4&n));Ci(e,t,r,r.destroy),null===t[19]&&(t[19]=new La),t[19].queries.push(new Pa(r))}(i,qe(),n)}function Ha(){return e=qe(),t=et(),e[19].queries[t].queryList;var e,t}function $a(e,t){return e.queries.getByIndex(t)}const Ga=new Jt("Application Initializer");let Wa=(()=>{class e{constructor(e){this.appInits=e,this.resolve=Ao,this.reject=Ao,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(js(t))e.push(t);else if(zs(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(vn(Ga,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();const Ka=new Jt("AppId"),Qa={provide:Ka,useFactory:function(){return`${Ya()}${Ya()}${Ya()}`},deps:[]};function Ya(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ja=new Jt("Platform Initializer"),Xa=new Jt("Platform ID"),eu=new Jt("appBootstrapListener");let tu=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();const nu=new Jt("LocaleId"),ru=new Jt("DefaultCurrencyCode");class iu{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const su=function(e){return new ka(e)},ou=su,au=function(e){return Promise.resolve(su(e))},uu=function(e){const t=su(e),n=$r(ce(e).declarations).reduce((e,t)=>{const n=ue(t);return n&&e.push(new Ea(n)),e},[]);return new iu(t,n)},cu=uu,lu=function(e){return Promise.resolve(uu(e))};let hu=(()=>{class e{constructor(){this.compileModuleSync=ou,this.compileModuleAsync=au,this.compileModuleAndAllComponentsSync=cu,this.compileModuleAndAllComponentsAsync=lu}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();const du=(()=>Promise.resolve(0))();function fu(e){"undefined"==typeof Zone?du.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class pu{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oa(!1),this.onMicrotaskEmpty=new Oa(!1),this.onStable=new Oa(!1),this.onError=new Oa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=z.requestAnimationFrame,t=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(z,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,yu(e),e.isCheckStableRunning=!0,mu(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),yu(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return vu(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),_u(e)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return vu(e),n.invoke(i,s,o,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),_u(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,yu(e),mu(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,gu,Ao,Ao);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const gu={};function mu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function yu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function vu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function _u(e){e._nesting--,mu(e)}class wu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oa,this.onMicrotaskEmpty=new Oa,this.onStable=new Oa,this.onError=new Oa}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let bu=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pu.assertNotInAngularZone(),fu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fu(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(vn(pu))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})(),Iu=(()=>{class e{constructor(){this._applications=new Map,Su.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Su.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();class Tu{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Eu(e){Su=e}let Su=new Tu,Cu=!0,Au=!1;function ku(){return Au=!0,Cu}function xu(){if(Au)throw new Error("Cannot enable prod mode after platform setup.");Cu=!1}let Nu;const Ou=new Jt("AllowMultipleToken");class Ru{constructor(e,t){this.name=e,this.token=t}}function Du(e,t,n=[]){const r=`Platform: ${t}`,i=new Jt(r);return(t=[])=>{let s=Pu();if(!s||s.injector.get(Ou,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:is,useValue:"platform"});!function(e){if(Nu&&!Nu.destroyed&&!Nu.injector.get(Ou,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Nu=e.get(Lu);const t=e.get(Ja,null);t&&t.forEach(e=>e())}(ys.create({providers:e,name:r}))}return function(e){const t=Pu();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Pu(){return Nu&&!Nu.destroyed?Nu:null}let Lu=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new wu:("zone.js"===e?void 0:e)||new pu({enableLongStackTrace:ku(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:pu,useValue:n}];return n.run(()=>{const i=ys.create({providers:r,parent:this.injector,name:e.moduleType.name}),s=e.create(i),o=s.injector.get(Zr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{o.handleError(e)}});s.onDestroy(()=>{Fu(this._modules,s),e.unsubscribe()})}),function(e,n,r){try{const t=r();return js(t)?t.catch(t=>{throw n.runOutsideAngular(()=>e.handleError(t)),t}):t}catch(t){throw n.runOutsideAngular(()=>e.handleError(t)),t}}(o,n,()=>{const e=s.injector.get(Wa);return e.runInitializers(),e.donePromise.then(()=>(po(s.injector.get(nu,ho)||ho),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,t=[]){const n=Mu({},t);return function(e,t,n){const r=new ka(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Vu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${d(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(vn(ys))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();function Mu(e,t){return Array.isArray(t)?t.reduce(Mu,e):Object.assign(Object.assign({},e),t)}let Vu=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),h=new s.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{pu.assertNotInAngularZone(),fu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{pu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,h.pipe(e=>(0,u.x)()(function(e,t){return function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.N);return r.source=t,r.subjectFactory=n,r}}(c)(e))))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof To?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=function(e){return e.isBoundToModule}(n)?void 0:this._injector.get(ha),i=n.create(ys.NULL,[],t||n.selector,r),s=i.location.nativeElement,o=i.injector.get(bu,null),a=o&&i.injector.get(Iu);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Fu(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Fu(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(eu,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(vn(pu),vn(ys),vn(Zr),vn(Co),vn(Wa))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();function Fu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Uu{}class ju{}const qu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let zu=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||qu}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>Bu(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>Bu(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(vn(hu),vn(ju,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();function Bu(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const Zu=function(e){return null},Hu=Du(null,"core",[{provide:Xa,useValue:"unknown"},{provide:Lu,deps:[ys]},{provide:Iu,deps:[]},{provide:tu,deps:[]}]),$u=[{provide:Vu,useClass:Vu,deps:[pu,ys,Zr,Co,Wa]},{provide:Ta,deps:[pu],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Wa,useClass:Wa,deps:[[new En,Ga]]},{provide:hu,useClass:hu,deps:[]},Qa,{provide:Ko,useFactory:function(){return ia},deps:[]},{provide:Yo,useFactory:function(){return sa},deps:[]},{provide:nu,useFactory:function(e){return po(e=e||"undefined"!=typeof $localize&&$localize.locale||ho),e},deps:[[new Tn(nu),new En,new Sn]]},{provide:ru,useValue:"USD"}];let Gu=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(vn(Vu))},e.\u0275mod=re({type:e}),e.\u0275inj=E({providers:$u}),e})()},8939:function(e,t,n){"use strict";n.d(t,{hO:function(){return g},xv:function(){return h},Dh:function(){return l},GT:function(){return u},on:function(){return d},pX:function(){return a}});var r=n(3018),i=n(7841),s=n(7667);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(e[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,e[s]),e[s];if(o.indexOf(s)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[s];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(s,n,i),i})})})}),u=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class c{constructor(e){return e}}const l=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(e=>e&&e.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(t,s));try{JSON.stringify(t)!==JSON.stringify(o.options)&&f("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new c(o)}const f=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},p={provide:c,useFactory:d,deps:[l,r.R0b,[new r.FiY,h]]};let g=(()=>{class e{constructor(e){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:l,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[p]}),e})()},7667:function(e,t,n){"use strict";n.d(t,{q4:function(){return c},iC:function(){return v},HU:function(){return m},cc:function(){return d}});var r=n(3018),i=(n(2329),n(7771)),s=n(3637),o=n(3342),a=n(3101),u=n(309);e=n.hmd(e);const c=new r.GfV("7.0.4"),l=!!e.hot,h=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};function d(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,o)||(h("error",`${t} was already initialized on the ${n} Firebase App with different settings.${l?" You may need to reload as Firebase is not HMR aware.":""}`),h("warn",{is:i,was:o})),s;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,i]),t}}function f(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class p{constructor(e,t=i.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class g{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",f,{},f,f)),t.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let m=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new p(Zone.current)),this.insideAngular=e.run(()=>new p(Zone.current,s.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function y(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("AngularFireModule has not been provided");return e}function v(e){return y(),function(e){return function(t){return(t=t.lift(new g(e.ngZone))).pipe((0,a.R)(e.outsideAngular),(0,u.QV)(e.insideAngular))}}(y())(e)}},4486:function(e,t,n){"use strict";var r=n(4685),i=n(6034),s=n(5452),o=n(300);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&"EXPLICIT"===(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const u=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(t,a.name))return t[a.name];const u=new e(a,n);return t[a.name]=u,u},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[a])throw u.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function i(e){if(!(0,r.r3)(t,e=e||s._DEFAULT_ENTRY_NAME))throw u.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),l=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){l.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&l.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.1",undefined),t.Z=h},5452:function(e,t,n){"use strict";n.r(t),n.d(t,{FirebaseError:function(){return o.ZR},SDK_VERSION:function(){return I},_DEFAULT_ENTRY_NAME:function(){return l},_addComponent:function(){return p},_addOrOverwriteComponent:function(){return g},_apps:function(){return d},_clearComponents:function(){return _},_components:function(){return f},_getProvider:function(){return y},_registerComponent:function(){return m},_removeServiceInstance:function(){return v},deleteApp:function(){return C},getApp:function(){return E},getApps:function(){return S},initializeApp:function(){return T},onLog:function(){return x},registerVersion:function(){return k},setLogLevel:function(){return N}});var r=n(8239),i=n(6034),s=n(300),o=n(4685);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const u="@firebase/app",c=new s.Yd("@firebase/app"),l="[DEFAULT]",h={[u]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,f=new Map;function p(e,t){try{e.container.addComponent(t)}catch(n){c.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function g(e,t){e.container.addOrOverwriteComponent(t)}function m(e){const t=e.name;if(f.has(t))return c.debug(`There were multiple attempts to register component ${t}.`),!1;f.set(t,e);for(const n of d.values())p(n,e);return!0}function y(e,t){return e.container.getProvider(t)}function v(e,t,n=l){y(e,t).clearInstance(n)}function _(){f.clear()}const w=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class b{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}const I="9.0.0";function T(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:l,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw w.create("bad-app-name",{appName:String(r)});const s=d.get(r);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw w.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of f.values())a.addComponent(i);const u=new b(e,n,a);return d.set(r,u),u}function E(e=l){const t=d.get(e);if(!t)throw w.create("no-app",{appName:e});return t}function S(){return Array.from(d.values())}function C(e){return A.apply(this,arguments)}function A(){return(A=(0,r.Z)(function*(e){const t=e.name;d.has(t)&&(d.delete(t),yield Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)})).apply(this,arguments)}function k(e,t,n){var r;let s=null!==(r=h[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void c.warn(e.join(" "))}m(new i.wA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function x(e,t){if(null!==e&&"function"!=typeof e)throw w.create("invalid-log-argument");(0,s.Am)(e,t)}function N(e){(0,s.Ub)(e)}m(new i.wA("platform-logger",e=>new a(e),"PRIVATE")),k(u,"0.7.0",undefined),k("fire-js","")},6034:function(e,t,n){"use strict";n.d(t,{wA:function(){return s},H0:function(){return c}});var r=n(4762),i=n(4685),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),o="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=(0,r.CR)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=o),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var e;return(0,r.Jh)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),(0,r.CR)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=o),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=o),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,s=this.onInitCallbacks.get(t);if(s)try{for(var o=(0,r.XA)(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(e,t)}catch(c){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:u(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(s){}return i||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=o),this.component?this.component.multipleInstances?e:o:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();function u(e){return e===o?void 0:e}var c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},300:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}n.d(t,{in:function(){return o},Yd:function(){return h},Ub:function(){return d},Am:function(){return f}});var i,s=[],o=(()=>{return(e=o||(o={}))[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",o;var e})(),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var s=(new Date).toISOString(),o=c[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,r(["["+s+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function d(e){s.forEach(function(t){t.setLogLevel(e)})}function f(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},4685:function(e,t,n){"use strict";n.d(t,{BH:function(){return l},LL:function(){return E},ZR:function(){return T},tV:function(){return a},r3:function(){return A},Sg:function(){return h},ne:function(){return P},vZ:function(){return x},ZB:function(){return u},pd:function(){return D},m9:function(){return V},z$:function(){return d},jU:function(){return g},ru:function(){return m},d:function(){return v},xb:function(){return k},w1:function(){return _},hl:function(){return I},uI:function(){return f},UG:function(){return p},b$:function(){return y},G6:function(){return b},Mn:function(){return w},xO:function(){return O},zd:function(){return R}});var r=n(4762),i=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{s=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},o=function(e){return function(e){var t=i(e);return s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},a=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function u(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)!t.hasOwnProperty(n)||!c(n)||(e[n]=u(e[n],t[n]));return e}function c(e){return"__proto__"!==e}var l=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();function h(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(a)),""].join(".")}function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function p(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function g(){return"object"==typeof self&&self.self===self}function m(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function y(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function v(){return d().indexOf("Electron/")>=0}function _(){var e=d();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function w(){return d().indexOf("MSAppHost/")>=0}function b(){return!p()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I(){return"indexedDB"in self&&null!=indexedDB}var T=function(e){function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,E.prototype.create),s}return(0,r.ZT)(t,e),t}(Error),E=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,s=this.errors[e],o=s?S(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new T(i,a,r);return u},e}();function S(e,t){return e.replace(C,function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"})}var C=/\{\$([^}]+)}/g;function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function k(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function x(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,s=n;i<s.length;i++){if(!r.includes(l=s[i]))return!1;var o=e[l],a=t[l];if(N(o)&&N(a)){if(!x(o,a))return!1}else if(o!==a)return!1}for(var u=0,c=r;u<c.length;u++){var l;if(!n.includes(l=c[u]))return!1}return!0}function N(e){return null!==e&&"object"==typeof e}function O(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r];n(s[0],s[1])}return t.length?"&"+t.join("&"):""}function R(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("="),r=n[1];t[decodeURIComponent(n[0])]=decodeURIComponent(r)}}),t}function D(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function P(e,t){var n=new L(e,t);return n.subscribe.bind(n)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,s,o=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),s=1518500249):(i=a^u^c,s=1859775393):r<60?(i=a&u|c&(a|u),s=2400959708):(i=a^u^c,s=3395469782);var h=(o<<5|o>>>27)+i+l+s+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();var L=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=M),void 0===r.error&&(r.error=M),void 0===r.complete&&(r.complete=M);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),s},e.prototype.unsubscribeOne=function(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function M(){}function V(e){return e&&e._delegate?e._delegate:e}},2329:function(e,t,n){"use strict";n.d(t,{ZF:function(){return r.initializeApp}});var r=n(5452);(0,r.registerVersion)("firebase","9.0.2","app")},7841:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.Z}});var r=n(4486);r.Z.registerVersion("firebase","9.0.2","app-compat")},6780:function(e,t,n){"use strict";n.r(t);var r=n(8239),i=n(4486),s=n(4685),o=n(5452),a=n(4762),u=n(300),c=n(6034);const l=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},d=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),f=new u.Yd("@firebase/auth");function p(e,...t){f.logLevel<=u.in.ERROR&&f.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}function g(e,...t){throw _(e,...t)}function m(e,...t){return _(e,...t)}function y(e,t,n){const r=Object.assign(Object.assign({},h()),{[t]:n});return new s.LL("auth","Firebase",r).create(t,{appName:e.name})}function v(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&g(e,"argument-error"),y(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return d.create(e,...t)}function w(e,t,...n){if(!e)throw _(t,...n)}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw p(t),new Error(t)}function I(e,t){e||b(t)}const T=new Map;function E(e){I(e instanceof Function,"Expected a class definition");let t=T.get(e);return t?(I(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,T.set(e,t),t)}function S(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function C(){return"http:"===A()||"https:"===A()}function A(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class k{constructor(e,t){this.shortDelay=e,this.longDelay=t,I(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(C()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function x(e,t){I(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class N{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const O={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},R=new k(3e4,6e4);function D(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function P(e,t,n,r){return L.apply(this,arguments)}function L(){return(L=(0,r.Z)(function*(e,t,n,r,i={}){return M(e,i,()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=(0,s.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),u=new(N.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&u.set("X-Firebase-Locale",e.languageCode),N.fetch()(j(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},i))})})).apply(this,arguments)}function M(e,t,n){return V.apply(this,arguments)}function V(){return(V=(0,r.Z)(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},O),t);try{const t=new q(e),i=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw z(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw z(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw z(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw y(e,a,o);g(e,a)}}catch(i){if(i instanceof s.ZR)throw i;g(e,"network-request-failed")}})).apply(this,arguments)}function F(e,t,n,r){return U.apply(this,arguments)}function U(){return(U=(0,r.Z)(function*(e,t,n,r,i={}){const s=yield P(e,t,n,r,i);return"mfaPendingCredential"in s&&g(e,"multi-factor-auth-required",{serverResponse:s}),s})).apply(this,arguments)}function j(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?x(e.config,i):`${e.config.apiScheme}://${i}`}class q{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(m(this.auth,"timeout")),R.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function z(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=m(e,t,r);return i.customData._tokenResponse=n,i}function B(){return(B=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function Z(e,t){return H.apply(this,arguments)}function H(){return(H=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function $(e,t){return G.apply(this,arguments)}function G(){return(G=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function W(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function K(){return(K=(0,r.Z)(function*(e,t=!1){const n=(0,s.m9)(e),r=yield n.getIdToken(t),i=Y(r);w(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:W(Q(i.auth_time)),issuedAtTime:W(Q(i.iat)),expirationTime:W(Q(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function Q(e){return 1e3*Number(e)}function Y(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return p("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.tV)(n);return e?JSON.parse(e):(p("Failed to decode base64 JWT payload"),null)}catch(i){return p("Caught error parsing JWT payload as JSON",i),null}}function J(e,t){return X.apply(this,arguments)}function X(){return(X=(0,r.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof s.ZR&&ee(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}function ee({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class te{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,r.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class ne{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=W(this.lastLoginAt),this.creationTime=W(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function re(e){return ie.apply(this,arguments)}function ie(){return(ie=(0,r.Z)(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield J(e,$(n,{idToken:r}));w(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?ae(s.providerUserInfo):[],a=oe(e.providerData,o),u=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ne(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,c)})).apply(this,arguments)}function se(){return(se=(0,r.Z)(function*(e){const t=(0,s.m9)(e);yield re(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function oe(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function ae(e){return e.map(e=>{var{providerId:t}=e,n=(0,a._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function ue(){return(ue=(0,r.Z)(function*(e,t){const n=yield M(e,{},()=>{const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=j(e,r,"/v1/token",`key=${i}`);return N.fetch()(o,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ce{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){w(e.idToken,"internal-error"),w(void 0!==e.idToken,"internal-error"),w(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Y(e);return w(t,"internal-error"),w(void 0!==t.exp,"internal-error"),w(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,r.Z)(function*(){return w(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(e,t){return ue.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ce;return n&&(w("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(w("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(w("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ce,this.toJSON())}_performRefresh(){return b("not implemented")}}function le(e,t){w("string"==typeof e||void 0===e,"internal-error",{appName:t})}class he{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,a._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new te(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.metadata=new ne(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,r.Z)(function*(){const n=yield J(t,t.stsTokenManager.getToken(t.auth,e));return w(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function(e){return K.apply(this,arguments)}(this,e)}reload(){return function(e){return se.apply(this,arguments)}(this)}_assign(e){this!==e&&(w(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new he(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){w(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,r.Z)(function*(){let r=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield re(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,r.Z)(function*(){const t=yield e.getIdToken();return yield J(e,function(e,t){return B.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,u,c;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(u=t.createdAt)&&void 0!==u?u:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:_,isAnonymous:b,providerData:I,stsTokenManager:T}=t;w(v&&T,e,"internal-error");const E=ce.fromJSON(this.name,T);w("string"==typeof v,e,"internal-error"),le(l,e.name),le(h,e.name),w("boolean"==typeof _,e,"internal-error"),w("boolean"==typeof b,e,"internal-error"),le(d,e.name),le(f,e.name),le(p,e.name),le(g,e.name),le(m,e.name),le(y,e.name);const S=new he({uid:v,auth:e,email:h,emailVerified:_,displayName:l,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:y});return I&&Array.isArray(I)&&(S.providerData=I.map(e=>Object.assign({},e))),g&&(S._redirectEventId=g),S}static _fromIdTokenResponse(e,t,n=!1){return(0,r.Z)(function*(){const r=new ce;r.updateFromServerResponse(t);const i=new he({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield re(i),i})()}}const de=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,r.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,r.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function fe(e,t,n){return`firebase:${e}:${t}:${n}`}class pe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=fe(this.userKey,r.apiKey,i),this.fullPersistenceKey=fe("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,r.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?he._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,r.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,r.Z)(function*(){if(!t.length)return new pe(E(de),e,n);const i=(yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let s=i[0]||E(de);const o=fe(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(o);if(t){const r=he._fromJSON(e,t);n!==s&&(a=r),s=n;break}}catch(c){}const u=i.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(e!==s)try{yield e._remove(o)}catch(t){}});return function(t){return e.apply(this,arguments)}}())),new pe(s,e,n)):new pe(s,e,n)})()}}function ge(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_e(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(me(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(be(t))return"Blackberry";if(Ie(t))return"Webos";if(ye(t))return"Safari";if((t.includes("chrome/")||ve(t))&&!t.includes("edge/"))return"Chrome";if(we(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function me(e=(0,s.z$)()){return/firefox\//i.test(e)}function ye(e=(0,s.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ve(e=(0,s.z$)()){return/crios\//i.test(e)}function _e(e=(0,s.z$)()){return/iemobile/i.test(e)}function we(e=(0,s.z$)()){return/android/i.test(e)}function be(e=(0,s.z$)()){return/blackberry/i.test(e)}function Ie(e=(0,s.z$)()){return/webos/i.test(e)}function Te(e=(0,s.z$)()){return/iphone|ipad|ipod/i.test(e)}function Ee(e=(0,s.z$)()){return Te(e)||we(e)||Ie(e)||be(e)||/windows phone/i.test(e)||_e(e)}function Se(e,t=[]){let n;switch(e){case"Browser":n=ge((0,s.z$)());break;case"Worker":n=`${ge((0,s.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}class Ce{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ke(this),this.idTokenSubscription=new ke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=E(t)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r;n._deleted||(n.persistenceManager=yield pe.create(n,e),!n._deleted&&((null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)&&(yield n._popupRedirectResolver._initialize(n)),yield n.initializeCurrentUser(t),!n._deleted&&(n._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,r.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t)}})()}initializeCurrentUser(e){var t=this;return(0,r.Z)(function*(){var n;let r=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const i=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield t.tryRedirectSignIn(e);(!i||i===s)&&(null==o?void 0:o.user)&&(r=o.user)}return r?r._redirectEventId?(w(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===r._redirectEventId?t.directlySetCurrentUser(r):t.reloadAndSetCurrentUserOrClear(r)):t.reloadAndSetCurrentUserOrClear(r):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return(0,r.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,r.Z)(function*(){try{yield re(e)}catch(n){if("auth/network-request-failed"!==n.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,r.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){const n=e?(0,s.m9)(e):null;return n&&w(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){if(!t._deleted)return e&&w(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue((0,r.Z)(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,r.Z)(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue((0,r.Z)(function*(){yield t.assertedPersistence.setPersistence(E(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,r.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&E(e)||t._popupRedirectResolver;w(n,t,"argument-error"),t.redirectPersistenceManager=yield pe.create(t,[E(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,r.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,r.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,r.Z)(function*(){if(e===t.currentUser)return t.queue((0,r.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return w(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,r.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return w(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Se(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Ae(e){return(0,s.m9)(e)}class ke{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.ne)(e=>this.observer=e)}get next(){return w(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ne(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Oe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}function Re(e,t){return De.apply(this,arguments)}function De(){return(De=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:resetPassword",D(e,t))})).apply(this,arguments)}function Pe(e,t){return Le.apply(this,arguments)}function Le(){return(Le=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Me(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:update",D(e,t))})).apply(this,arguments)}function Fe(){return(Fe=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithPassword",D(e,t))})).apply(this,arguments)}function Ue(e,t){return je.apply(this,arguments)}function je(){return(je=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:sendOobCode",D(e,t))})).apply(this,arguments)}function qe(e,t){return ze.apply(this,arguments)}function ze(){return(ze=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function Be(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function He(e,t){return $e.apply(this,arguments)}function $e(){return($e=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function Ge(e,t){return We.apply(this,arguments)}function We(){return(We=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function Ke(){return(Ke=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))})).apply(this,arguments)}function Qe(){return(Qe=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))})).apply(this,arguments)}class Ye extends Oe{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ye(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Ye(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,r.Z)(function*(){switch(t.signInMethod){case"password":return function(e,t){return Fe.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(e,t){return Ke.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:g(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return Pe(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(e,t){return Qe.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:g(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Je(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithIdp",D(e,t))})).apply(this,arguments)}class et extends Oe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new et(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):g("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,a._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new et(n,r);return Object.assign(s,i),s}_getIdTokenResponse(e){return Je(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Je(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Je(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.xO)(t)}return e}}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:sendVerificationCode",D(e,t))})).apply(this,arguments)}function rt(){return(rt=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t))})).apply(this,arguments)}function it(){return(it=(0,r.Z)(function*(e,t){const n=yield F(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t));if(n.temporaryProof)throw z(e,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const st={USER_NOT_FOUND:"user-not-found"};function ot(){return(ot=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),st)})).apply(this,arguments)}class at extends Oe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new at({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new at({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(e,t){return rt.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(e,t){return it.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(e,t){return ot.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new at({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ut{constructor(e){var t,n,r,i,o,a;const u=(0,s.zd)((0,s.pd)(e)),c=null!==(t=u.apiKey)&&void 0!==t?t:null,l=null!==(n=u.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=u.mode)&&void 0!==r?r:null);w(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(i=u.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.zd)((0,s.pd)(e)).link,n=t?(0,s.zd)((0,s.pd)(t)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(e)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||t||e}(e);try{return new ut(t)}catch(n){return null}}}let ct=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Ye._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ut.parseLink(t);return w(n,"argument-error"),Ye._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class lt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ht extends lt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class dt extends ht{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return w("providerId"in t&&"signInMethod"in t,"argument-error"),et._fromParams(t)}credential(e){return this._credential(e)}_credential(e){return w(e.idToken||e.accessToken,"argument-error"),et._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return dt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return dt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!n&&!r&&!t&&!i||!o)return null;try{return new dt(o)._credential({idToken:t,accessToken:n,rawNonce:s,pendingToken:i})}catch(a){return null}}}let ft=(()=>{class e extends ht{constructor(){super("facebook.com")}static credential(t){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),pt=(()=>{class e extends ht{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),gt=(()=>{class e extends ht{constructor(){super("github.com")}static credential(t){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class mt extends Oe{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Je(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Je(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Je(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new mt(n,i):null}static _create(e,t){return new mt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let yt=(()=>{class e extends ht{constructor(){super("twitter.com")}static credential(t,n){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();function vt(e,t){return _t.apply(this,arguments)}function _t(){return(_t=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signUp",D(e,t))})).apply(this,arguments)}class wt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,r.Z)(function*(){const r=yield he._fromIdTokenResponse(e,n,i),s=bt(n);return new wt({user:r,providerId:s,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,r.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const r=bt(n);return new wt({user:e,providerId:r,_tokenResponse:n,operationType:t})})()}}function bt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function It(){return(It=(0,r.Z)(function*(e){var t;const n=Ae(e);if(yield n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new wt({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield vt(n,{returnSecureToken:!0}),i=yield wt._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Tt extends s.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,this.name="FirebaseError",Object.setPrototypeOf(this,Tt.prototype),this.appName=e.name,this.code=t.code,this.tenantId=null!==(i=e.tenantId)&&void 0!==i?i:void 0,this.serverResponse=t.customData.serverResponse}static _fromErrorAndOperation(e,t,n,r){return new Tt(e,t,n,r)}}function Et(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{throw"auth/multi-factor-auth-required"===n.code?Tt._fromErrorAndOperation(e,n,t,r):n})}function St(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}function Ct(){return(Ct=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);yield xt(!0,n,t);const{providerUserInfo:r}=yield Z(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[t]}),i=St(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function At(e,t){return kt.apply(this,arguments)}function kt(){return(kt=(0,r.Z)(function*(e,t,n=!1){const r=yield J(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return wt._forOperation(e,"link",r)})).apply(this,arguments)}function xt(e,t,n){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,r.Z)(function*(e,t,n){yield re(t);const r=!1===e?"provider-already-linked":"no-such-provider";w(St(t.providerData).has(n)===e,t.auth,r)})).apply(this,arguments)}function Ot(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,r.Z)(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=yield J(e,Et(r,i,t,e),n);w(s.idToken,r,"internal-error");const o=Y(s.idToken);w(o,r,"internal-error");const{sub:a}=o;return w(e.uid===a,r,"user-mismatch"),wt._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&g(r,"user-mismatch"),s}})).apply(this,arguments)}function Dt(e,t){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,r.Z)(function*(e,t,n=!1){const r="signIn",i=yield Et(e,r,t),s=yield wt._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Lt(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,r.Z)(function*(e,t){return Dt(Ae(e),t)})).apply(this,arguments)}function Vt(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);return yield xt(!1,n,t.providerId),At(n,t)})).apply(this,arguments)}function Ut(e,t){return jt.apply(this,arguments)}function jt(){return(jt=(0,r.Z)(function*(e,t){return Ot((0,s.m9)(e),t)})).apply(this,arguments)}function qt(e,t){return zt.apply(this,arguments)}function zt(){return(zt=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithCustomToken",D(e,t))})).apply(this,arguments)}function Bt(){return(Bt=(0,r.Z)(function*(e,t){const n=Ae(e),r=yield qt(n,{token:t,returnSecureToken:!0}),i=yield wt._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Zt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Ht._fromServerResponse(e,t):g(e,"internal-error")}}class Ht extends Zt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Ht(t)}}function $t(e,t,n){var r;w((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),w(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(w(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iosBundleId=n.iOS.bundleId),n.android&&(w(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Gt(){return(Gt=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"PASSWORD_RESET",email:t};n&&$t(r,i,n),yield Be(r,i)})).apply(this,arguments)}function Wt(){return(Wt=(0,r.Z)(function*(e,t,n){yield Re((0,s.m9)(e),{oobCode:t,newPassword:n})})).apply(this,arguments)}function Kt(){return(Kt=(0,r.Z)(function*(e,t){yield Me((0,s.m9)(e),{oobCode:t})})).apply(this,arguments)}function Qt(e,t){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r=yield Re(n,{oobCode:t}),i=r.requestType;switch(w(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":w(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":w(r.mfaInfo,n,"internal-error");default:w(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Zt._fromServerResponse(Ae(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})).apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)(function*(e,t){const{data:n}=yield Qt((0,s.m9)(e),t);return n.email})).apply(this,arguments)}function Xt(){return(Xt=(0,r.Z)(function*(e,t,n){const r=Ae(e),i=yield vt(r,{returnSecureToken:!0,email:t,password:n}),s=yield wt._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function en(){return(en=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"EMAIL_SIGNIN",email:t};w(n.handleCodeInApp,r,"argument-error"),n&&$t(r,i,n),yield He(r,i)})).apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=ct.credentialWithLink(t,n||S());return w(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Lt(r,i)})).apply(this,arguments)}function nn(e,t){return rn.apply(this,arguments)}function rn(){return(rn=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:createAuthUri",D(e,t))})).apply(this,arguments)}function sn(){return(sn=(0,r.Z)(function*(e,t){const n={identifier:t,continueUri:C()?S():"http://localhost"},{signinMethods:r}=yield nn((0,s.m9)(e),n);return r||[]})).apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:yield e.getIdToken()};t&&$t(n.auth,r,t);const{email:i}=yield qe(n.auth,r);i!==e.email&&(yield e.reload())})).apply(this,arguments)}function an(){return(an=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield e.getIdToken(),newEmail:t};n&&$t(r.auth,i,n);const{email:o}=yield Ge(r.auth,i);o!==e.email&&(yield e.reload())})).apply(this,arguments)}function un(e,t){return cn.apply(this,arguments)}function cn(){return(cn=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function ln(){return(ln=(0,r.Z)(function*(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,s.m9)(e),i={idToken:yield r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=yield J(r,un(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function hn(e,t,n){return dn.apply(this,arguments)}function dn(){return(dn=(0,r.Z)(function*(e,t,n){const{auth:r}=e,i={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=yield J(e,Pe(r,i));yield e._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class fn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class pn extends fn{constructor(e,t,n,r){super(e,t,n),this.username=r}}class gn extends fn{constructor(e,t){super(e,"facebook.com",t)}}class mn extends pn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class yn extends fn{constructor(e,t){super(e,"google.com",t)}}class vn extends pn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function _n(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Y(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new fn(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new gn(s,i);case"github.com":return new mn(s,i);case"google.com":return new yn(s,i);case"twitter.com":return new vn(s,i,e.screenName||null);case"custom":case"anonymous":return new fn(s,null);default:return new fn(s,r,i)}}(n)}class wn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new wn("enroll",e)}static _fromMfaPendingCredential(e){return new wn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return wn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return wn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class bn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Ae(e),i=(t.serverResponse.mfaInfo||[]).map(e=>Zt._fromServerResponse(n,e));w(t.serverResponse.mfaPendingCredential,n,"internal-error");const s=wn._fromMfaPendingCredential(t.serverResponse.mfaPendingCredential);return new bn(s,i,function(){var e=(0,r.Z)(function*(e){const r=yield e._process(n,s);delete t.serverResponse.mfaInfo,delete t.serverResponse.mfaPendingCredential;const i=Object.assign(Object.assign({},t.serverResponse),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=yield wt._fromIdTokenResponse(n,t.operationType,i);return yield n._updateCurrentUser(e.user),e;case"reauthenticate":return w(t.user,n,"internal-error"),wt._forOperation(t.user,t.operationType,i);default:g(n,"internal-error")}});return function(t){return e.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,r.Z)(function*(){return t.signInResolver(e)})()}}function In(e,t){return P(e,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:e.tenantId},t))}class Tn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>Zt._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new Tn(e)}getSession(){var e=this;return(0,r.Z)(function*(){return wn._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var n=this;return(0,r.Z)(function*(){const r=e,i=yield n.getSession(),s=yield J(n.user,r._process(n.user.auth,i,t));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(e){var t=this;return(0,r.Z)(function*(){const n="string"==typeof e?e:e.uid,r=yield t.user.getIdToken(),i=yield J(t.user,function(e,t){return P(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:e.tenantId},t))}(t.user.auth,{idToken:r,mfaEnrollmentId:n}));t.enrolledFactors=t.enrolledFactors.filter(({uid:e})=>e!==n),yield t.user._updateTokensIfNecessary(i);try{yield t.user.reload()}catch(s){if("auth/user-token-expired"!==s.code)throw s}})()}}const En=new WeakMap,Sn="__sak";class Cn{constructor(e,t){this.storage=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sn,"1"),this.storage.removeItem(Sn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}}const An=(()=>{class e extends Cn{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,s.z$)();return ye(e)||Te(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Ee(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);!t&&this.localCache[n]===e||this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,t){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,e,t),i.localCache[e]=JSON.stringify(t)})()}_get(e){var t=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield t().call(n,e);return n.localCache[e]=JSON.stringify(r),r})()}_remove(e){var t=()=>super._remove,n=this;return(0,r.Z)(function*(){yield t().call(n,e),delete n.localCache[e]})()}}return e.type="LOCAL",e})(),kn=(()=>{class e extends Cn{constructor(){super(window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let xn=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var t=this;return(0,r.Z)(function*(){const n=e,{eventId:i,eventType:s,data:o}=n.data,a=t.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(a).map(function(){var e=(0,r.Z)(function*(e){return e(n.origin,o)});return function(t){return e.apply(this,arguments)}}()),c=yield function(e){return Promise.all(e.map(function(){var e=(0,r.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}});return function(t){return e.apply(this,arguments)}}()))}(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})()}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function Nn(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class On{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=Nn("",20);r.port1.start();const l=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(l),clearTimeout(s),u(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function Rn(){return window}function Dn(){return void 0!==Rn().WorkerGlobalScope&&"function"==typeof Rn().importScripts}function Pn(){return(Pn=(0,r.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(hi){return null}})).apply(this,arguments)}const Ln="firebaseLocalStorageDb",Mn="firebaseLocalStorage",Vn="fbase_key";class Fn{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Un(e,t){return e.transaction([Mn],t?"readwrite":"readonly").objectStore(Mn)}function jn(){const e=indexedDB.open(Ln,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Mn,{keyPath:Vn})}catch(r){n(r)}}),e.addEventListener("success",(0,r.Z)(function*(){const n=e.result;n.objectStoreNames.contains(Mn)?t(n):(n.close(),yield function(){const e=indexedDB.deleteDatabase(Ln);return new Fn(e).toPromise()}(),t(yield jn()))}))})}function qn(e,t,n){return zn.apply(this,arguments)}function zn(){return(zn=(0,r.Z)(function*(e,t,n){const r=Un(e,!0).put({[Vn]:t,value:n});return new Fn(r).toPromise()})).apply(this,arguments)}function Bn(){return(Bn=(0,r.Z)(function*(e,t){const n=Un(e,!1).get(t),r=yield new Fn(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Zn(e,t){const n=Un(e,!0).delete(t);return new Fn(n).toPromise()}const Hn=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,r.Z)(function*(){return e.db||(e.db=yield jn()),e.db})()}_withRetries(e){var t=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield t._openDb();return yield e(n)}catch(r){if(n++>3)throw r;t.db&&(t.db.close(),t.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,r.Z)(function*(){return Dn()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,r.Z)(function*(){e.receiver=xn._getInstance(Dn()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,r.Z)(function*(t,n){return{keyProcessed:(yield e._poll()).includes(n.key)}});return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,r.Z)(function*(e,t){return["keyChanged"]});return function(t,n){return e.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,r.Z)(function*(){var t,n;if(e.activeServiceWorker=yield function(){return Pn.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new On(e.activeServiceWorker);const r=yield e.sender._send("ping",{},800);!r||(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var t=this;return(0,r.Z)(function*(){if(t.sender&&t.activeServiceWorker&&function(){var e;return(null===(e=null==navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===t.activeServiceWorker)try{yield t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const e=yield jn();return yield qn(e,Sn,"1"),yield Zn(e,Sn),!0}catch(e){}return!1})()}_withPendingWrite(e){var t=this;return(0,r.Z)(function*(){t.pendingWrites++;try{yield e()}finally{t.pendingWrites--}})()}_set(e,t){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>qn(n,e,t)),n.localCache[e]=t,n.notifyServiceWorker(e)}))})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=yield t._withRetries(t=>function(e,t){return Bn.apply(this,arguments)}(t,e));return t.localCache[e]=n,n})()}_remove(e){var t=this;return(0,r.Z)(function*(){return t._withPendingWrite((0,r.Z)(function*(){return yield t._withRetries(t=>Zn(t,e)),delete t.localCache[e],t.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,r.Z)(function*(){const t=yield e._withRetries(e=>{const t=Un(e,!1).getAll();return new Fn(t).toPromise()});if(!t)return[];if(0!==e.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(e.localCache[i])!==JSON.stringify(s)&&(e.notifyListeners(i,s),n.push(i));for(const i of Object.keys(e.localCache))e.localCache[i]&&!r.has(i)&&(e.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function $n(e,t){return P(e,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:e.tenantId},t))}function Gn(){return(Gn=(0,r.Z)(function*(e){return(yield P(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Wn(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=m("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Kn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Qn=1e12;class Yn{constructor(e){this.auth=e,this.counter=Qn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Jn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Qn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Qn))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,r.Z)(function*(){var n;return null===(n=t._widgets.get(e||Qn))||void 0===n||n.execute(),""})()}}class Jn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;w(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xn=Kn("rcb"),er=new k(3e4,6e4);class tr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Rn().grecaptcha}load(e,t=""){return w((n=t).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Rn().grecaptcha):new Promise((n,r)=>{const i=Rn().setTimeout(()=>{r(m(e,"network-request-failed"))},er.get());Rn()[Xn]=()=>{Rn().clearTimeout(i),delete Rn()[Xn];const s=Rn().grecaptcha;if(!s)return void r(m(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Wn(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Xn,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(m(e,"internal-error"))})});var n}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Rn().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nr{load(e){return(0,r.Z)(function*(){return new Yn(e)})()}clearedOneInstance(){}}const rr="recaptcha",ir={theme:"light",type:"image"};class sr{constructor(e,t=Object.assign({},ir),n){this.parameters=t,this.type=rr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ae(n),this.isInvisible="invisible"===this.parameters.size,w("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;w(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nr:new tr,this.validateStartingState()}verify(){var e=this;return(0,r.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(r=>{const i=t=>{!t||(e.tokenChangeListeners.delete(i),r(t))};e.tokenChangeListeners.add(i),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){w(!this.parameters.sitekey,this.auth,"argument-error"),w(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),w("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=Rn()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){w(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,r.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,r.Z)(function*(){w(C()&&!Dn(),e.auth,"internal-error"),yield function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(e){return Gn.apply(this,arguments)}(e.auth);w(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return w(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class or{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=at._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function ar(){return(ar=(0,r.Z)(function*(e,t,n){const r=Ae(e),i=yield lr(r,t,(0,s.m9)(n));return new or(i,e=>Lt(r,e))})).apply(this,arguments)}function ur(){return(ur=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);yield xt(!1,r,"phone");const i=yield lr(r.auth,t,(0,s.m9)(n));return new or(i,e=>Vt(r,e))})).apply(this,arguments)}function cr(){return(cr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=yield lr(r.auth,t,(0,s.m9)(n));return new or(i,e=>Ut(r,e))})).apply(this,arguments)}function lr(e,t,n){return hr.apply(this,arguments)}function hr(){return(hr=(0,r.Z)(function*(e,t,n){var r;const i=yield n.verify();try{let s;if(w("string"==typeof i,e,"argument-error"),w(n.type===rr,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return w("enroll"===t.type,e,"internal-error"),(yield In(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{w("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return w(n,e,"missing-multi-factor-info"),(yield $n(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=yield tt(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}})).apply(this,arguments)}function dr(){return(dr=(0,r.Z)(function*(e,t){yield At((0,s.m9)(e),t)})).apply(this,arguments)}let fr=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=Ae(t)}verifyPhoneNumber(e,t){return lr(this.auth,e,(0,s.m9)(t))}static credential(e,t){return at._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?at._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function pr(e,t){return t?E(t):(w(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class gr extends Oe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Je(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Je(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Je(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function mr(e){return Dt(e.auth,new gr(e),e.bypassAuthState)}function yr(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),Ot(n,new gr(e),e.bypassAuthState)}function vr(e){return _r.apply(this,arguments)}function _r(){return(_r=(0,r.Z)(function*(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),At(n,new gr(e),e.bypassAuthState)})).apply(this,arguments)}class wr{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,r.Z)(function*(t,n){e.pendingPromise={resolve:t,reject:n};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(r){e.reject(r)}});return function(e,n){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o)return void t.reject(o);const u={auth:t.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(a)(u))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mr;case"linkViaPopup":case"linkViaRedirect":return vr;case"reauthViaPopup":case"reauthViaRedirect":return yr;default:g(this.auth,"internal-error")}}resolve(e){I(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){I(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const br=new k(2e3,1e4);function Ir(){return(Ir=(0,r.Z)(function*(e,t,n){const r=Ae(e);v(e,t,lt);const i=pr(r,n);return new Sr(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}function Tr(){return(Tr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);v(r.auth,t,lt);const i=pr(r.auth,n);return new Sr(r.auth,"reauthViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}function Er(){return(Er=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);v(r.auth,t,lt);const i=pr(r.auth,n);return new Sr(r.auth,"linkViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}let Sr=(()=>{class e extends wr{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var e=this;return(0,r.Z)(function*(){const t=yield e.execute();return w(t,e.auth,"internal-error"),t})()}onExecution(){var e=this;return(0,r.Z)(function*(){I(1===e.filter.length,"Popup operations only handle one event");const t=Nn();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],t),e.authWindow.associatedEvent=t,e.resolver._originValidation(e.auth).catch(t=>{e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,t=>{t||e.reject(m(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(m(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(m(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,br.get())};e()}}return e.currentPopupAction=null,e})();const Cr=new Map;class Ar extends wr{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,r.Z)(function*(){let n=Cr.get(t.auth._key());if(!n){try{const r=(yield function(e,t){return kr.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}Cr.set(t.auth._key(),n)}return n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const r=yield n.auth._redirectUserForId(e.eventId);if(r)return n.user=r,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function kr(){return(kr=(0,r.Z)(function*(e,t){const n=Rr(t),r="true"===(yield Or(e)._get(n));return yield Or(e)._remove(n),r})).apply(this,arguments)}function xr(e,t){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,r.Z)(function*(e,t){return Or(e)._set(Rr(t),"true")})).apply(this,arguments)}function Or(e){return E(e._redirectPersistence)}function Rr(e){return fe("pendingRedirect",e.config.apiKey,e.name)}function Dr(){return(Dr=(0,r.Z)(function*(e,t,n){const r=Ae(e);v(e,t,lt);const i=pr(r,n);return yield xr(i,r),i._openRedirect(r,t,"signInViaRedirect")})).apply(this,arguments)}function Pr(){return(Pr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);v(r.auth,t,lt);const i=pr(r.auth,n);yield xr(i,r.auth);const o=yield Ur(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)})).apply(this,arguments)}function Lr(){return(Lr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);v(r.auth,t,lt);const i=pr(r.auth,n);yield xt(!1,r,t.providerId),yield xr(i,r.auth);const o=yield Ur(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)})).apply(this,arguments)}function Mr(){return(Mr=(0,r.Z)(function*(e,t){return yield Ae(e)._initializationPromise,Vr(e,t,!1)})).apply(this,arguments)}function Vr(e,t){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,r.Z)(function*(e,t,n=!1){const r=Ae(e),i=pr(r,t),s=yield new Ar(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})).apply(this,arguments)}function Ur(e){return jr.apply(this,arguments)}function jr(){return(jr=(0,r.Z)(function*(e){const t=Nn(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class qr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Br(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Br(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(m(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zr(e))}saveEventToCache(e){this.cachedEventUids.add(zr(e)),this.lastProcessedEventTime=Date.now()}}function zr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Br({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function Zr(e){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,r.Z)(function*(e,t={}){return P(e,"GET","/v1/projects",t)})).apply(this,arguments)}const $r=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gr=/^https?/;function Wr(){return(Wr=(0,r.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield Zr(e);for(const r of t)try{if(Kr(r))return}catch(n){}g(e,"unauthorized-domain")})).apply(this,arguments)}function Kr(e){const t=S(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Gr.test(n))return!1;if($r.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Qr=new k(3e4,6e4);function Yr(){const e=Rn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Jr=null;function Xr(e){return Jr=Jr||function(e){return new Promise((t,n)=>{var r,i,s;function o(){Yr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yr(),n(m(e,"network-request-failed"))},timeout:Qr.get()})}if(null===(i=null===(r=Rn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Rn().gapi)||void 0===s?void 0:s.load)){const t=Kn("iframefcb");return Rn()[t]=()=>{gapi.load?o():n(m(e,"network-request-failed"))},Wn(`https://apis.google.com/js/api.js?onload=${t}`)}o()}}).catch(e=>{throw Jr=null,e})}(e),Jr}const ei=new k(5e3,15e3),ti={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},ni=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ri(e){const t=e.config;w(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?x(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},i=ni.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}function ii(){return ii=(0,r.Z)(function*(e){const t=yield Xr(e),n=Rn().gapi;return w(n,e,"internal-error"),t.open({where:document.body,url:ri(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ti,dontclear:!0},t=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield t.restyle({setHideOnLeave:!1});const i=m(e,"network-request-failed"),s=Rn().setTimeout(()=>{r(i)},ei.get());function o(){Rn().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})});return function(e,t){return n.apply(this,arguments)}}()))}),ii.apply(this,arguments)}const si={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ai(e,t,n,r,i,a){w(e.config.authDomain,e,"auth-domain-config-required"),w(e.config.apiKey,e,"invalid-api-key");const u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:i};if(t instanceof lt){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",(0,s.xb)(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))u[e]=t}if(t instanceof ht){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(u.scopes=e.join(","))}e.tenantId&&(u.tid=e.tenantId);const c=u;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];return`${function({config:e}){return e.emulator?x(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.xO)(c).slice(1)}`}const ui="webStorageSupport";class ci extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return b("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ci(e)}_finalizeEnroll(e,t,n){return function(e,t){return P(e,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return P(e,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class li{constructor(){}static assertion(e){return ci._fromCredential(e)}}var hi;class di{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,r.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){w(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fi(){return window}function pi(){return pi=(0,r.Z)(function*(e,t,n){var r;const{BuildInfo:i}=fi();I(t.sessionId,"AuthEvent did not contain a session ID");const s=yield yi(t.sessionId),o={};return Te()?o.ibi=i.packageName:we()?o.apn=i.packageName:g(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,ai(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}),pi.apply(this,arguments)}function gi(){return gi=(0,r.Z)(function*(e){const{BuildInfo:t}=fi(),n={};Te()?n.iosBundleId=t.packageName:we()?n.androidPackageName=t.packageName:g(e,"operation-not-supported-in-this-environment"),yield Zr(e,n)}),gi.apply(this,arguments)}function mi(){return mi=(0,r.Z)(function*(e,t,n){const{cordova:r}=fi();let i=()=>{};try{yield new Promise((s,o)=>{let a=null;function u(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(m(e,"redirect-cancelled-by-user"))},2e3))}function l(){"visible"===(null==document?void 0:document.visibilityState)&&c()}t.addPassiveListener(u),document.addEventListener("resume",c,!1),we()&&document.addEventListener("visibilitychange",l,!1),i=()=>{t.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}})}finally{i()}}),mi.apply(this,arguments)}function yi(e){return vi.apply(this,arguments)}function vi(){return vi=(0,r.Z)(function*(e){const t=_i(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}),vi.apply(this,arguments)}function _i(e){if(I(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}hi="Browser",(0,o._registerComponent)(new c.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{w(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),w(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:hi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Se(hi)},s=new Ce(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(E);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new c.wA("auth-internal",e=>{const t=Ae(e.getProvider("auth").getImmediate());return new di(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)("@firebase/auth","0.17.2",void 0);class wi extends qr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,r.Z)(function*(){yield e.initPromise})()}}function bi(e){return Ii.apply(this,arguments)}function Ii(){return Ii=(0,r.Z)(function*(e){const t=yield Ei()._get(Si(e));return t&&(yield Ei()._remove(Si(e))),t}),Ii.apply(this,arguments)}function Ti(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Ei(){return E(An)}function Si(e){return fe("authEvent",e.config.apiKey,e.name)}function Ci(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}function Ai(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:m("no-auth-event")}}function ki(){var e;return(null===(e=null==self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function xi(e=(0,s.z$)()){return!("file:"!==ki()&&"ionic:"!==ki()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ni(){try{const e=self.localStorage,t=Nn();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,s.z$)()){return(0,s.w1)()&&11===(null==document?void 0:document.documentMode)||function(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,s.hl)()}catch(hi){return Oi()&&(0,s.hl)()}return!1}function Oi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ri(){return("http:"===ki()||"https:"===ki()||(0,s.ru)()||xi())&&!((0,s.b$)()||(0,s.UG)())&&Ni()&&!Oi()}function Di(){return xi()&&"undefined"!=typeof document}function Pi(){return Pi=(0,r.Z)(function*(){return!!Di()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})}),Pi.apply(this,arguments)}const Li={LOCAL:"local",NONE:"none",SESSION:"session"},Mi=w,Vi="persistence";function Fi(e){return Ui.apply(this,arguments)}function Ui(){return Ui=(0,r.Z)(function*(e){yield e._initializationPromise;const t=ji(),n=fe(Vi,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())}),Ui.apply(this,arguments)}function ji(){return"undefined"!=typeof window?window:null}const qi=w;class zi{constructor(){this.browserResolver=E(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kn,this._completeRedirectFn=Vr}_openPopup(e,t,n,i){var o=this;return(0,r.Z)(function*(){var r;I(null===(r=o.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=ai(e,t,n,S(),i);return function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},si),{width:r.toString(),height:i.toString(),top:o,left:a}),l=(0,s.z$)().toLowerCase();n&&(u=ve(l)?"_blank":n),me(l)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.z$)()){var t;return Te(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==u)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new oi(null);const d=window.open(t||"",u,h);w(d,e,"popup-blocked");try{d.focus()}catch(f){}return new oi(d)}(e,a,Nn())})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s._originValidation(e),r=ai(e,t,n,S(),i),Rn().location.href=r,new Promise(()=>{});var r})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(I(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}initAndGetManager(e){var t=this;return(0,r.Z)(function*(){const n=yield function(e){return ii.apply(this,arguments)}(e),r=new qr(e);return n.register("authEvent",t=>(w(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=n,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ui,{type:ui},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[ui];void 0!==i&&t(!!i),g(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Wr.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ee()||ye()||Te()}}),this.cordovaResolver=E(class{constructor(){this._redirectPersistence=kn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Vr}_initialize(e){var t=this;return(0,r.Z)(function*(){const n=e._key();let r=t.eventManagers.get(n);return r||(r=new wi(e),t.eventManagers.set(n,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){g(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,i){var o=this;return(0,r.Z)(function*(){!function(e){var t,n,r,i,s,o,a,u,c,l;const h=fi();w("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),w(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),w("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),w("function"==typeof(null===(u=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),w("function"==typeof(null===(l=null===(c=null==h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=yield o._initialize(e);yield r.initialized(),r.resetRedirect(),Cr.clear(),yield o._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Ti(),postBody:null,tenantId:e.tenantId,error:m(e,"no-auth-event")}}(e,n,i);yield function(e,t){return Ei()._set(Si(e),t)}(e,a);const u=yield function(e,t,n){return pi.apply(this,arguments)}(e,a,t),c=yield function(e){const{cordova:t}=fi();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(u);return function(e,t,n){return mi.apply(this,arguments)}(e,r,c)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return gi.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:s}=fi(),o=setTimeout((0,r.Z)(function*(){yield bi(e),t.onEvent(Ai())}),500),a=function(){var n=(0,r.Z)(function*(n){clearTimeout(o);const r=yield bi(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=Ci(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ci(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ci(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const s=Ci(i),o=s.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(s.firebaseError)):null,a=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=a?m(a):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||Ai())});return function(e){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const u=i,c=`${s.packageName.toLowerCase()}://`;fi().handleOpenURL=function(){var e=(0,r.Z)(function*(e){if(e.toLowerCase().startsWith(c)&&a({url:e}),"function"==typeof u)try{u(e)}catch(t){console.error(t)}});return function(t){return e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=kn,this._completeRedirectFn=Vr}_initialize(e){var t=this;return(0,r.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,n,i)})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,n,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Di()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,r.Z)(function*(){if(e.underlyingResolver)return;const t=yield function(){return Pi.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function Bi(e){return e.unwrap()}function Zi(e){return $i(e)}function Hi(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Yi(e,function(e,t){var n;const r=(0,s.m9)(e),i=t;return w(t.operationType,r,"argument-error"),w(null===(n=i.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),bn._fromError(r,i)}(e,t));else if(r){const e=$i(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function $i(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return fr.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=pt;break;case"facebook.com":r=ft;break;case"github.com":r=gt;break;case"twitter.com":r=yt;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?mt._create(n,o):et._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new dt(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof s.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function Gi(e,t){return Wi.apply(this,arguments)}function Wi(){return Wi=(0,r.Z)(function*(e,t){let n;try{n=yield t}catch(o){throw o instanceof s.ZR&&Hi(e,o),o}const{operationType:r,user:i}=n;return{operationType:r,credential:Zi(n),additionalUserInfo:_n(n),user:Ji.getOrCreate(i)}}),Wi.apply(this,arguments)}function Ki(e,t){return Qi.apply(this,arguments)}function Qi(){return Qi=(0,r.Z)(function*(e,t){const n=yield t;return{verificationId:n.verificationId,confirm:t=>Gi(e,n.confirm(t))}}),Qi.apply(this,arguments)}class Yi{constructor(e,t){this.resolver=t,this.auth=function(e){return e.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Gi(Bi(this.auth),this.resolver.resolveSignIn(e))}}class Ji{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,s.m9)(e);return En.has(t)||En.set(t,Tn._fromUser(t)),En.get(t)}(e)}static getOrCreate(e){return Ji.USER_MAP.has(e)||Ji.USER_MAP.set(e,new Ji(e)),Ji.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,r.Z)(function*(){return Gi(t.auth,Vt(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return(0,r.Z)(function*(){return Ki(n.auth,function(e,t,n){return ur.apply(this,arguments)}(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,r.Z)(function*(){return Gi(t.auth,function(e,t,n){return Er.apply(this,arguments)}(t._delegate,e,zi))})()}linkWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Fi(Ae(t.auth)),function(e,t,n){return function(e,t,n){return Lr.apply(this,arguments)}(e,t,n)}(t._delegate,e,zi)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,r.Z)(function*(){return Gi(t.auth,Ut(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return Ki(this.auth,function(e,t,n){return cr.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return Gi(this.auth,function(e,t,n){return Tr.apply(this,arguments)}(this._delegate,e,zi))}reauthenticateWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Fi(Ae(t.auth)),function(e,t,n){return function(e,t,n){return Pr.apply(this,arguments)}(e,t,n)}(t._delegate,e,zi)})()}sendEmailVerification(e){return function(e,t){return on.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,r.Z)(function*(){return yield function(e,t){return Ct.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function(e,t){return hn((0,s.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return hn((0,s.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return function(e,t){return dr.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function(e,t){return ln.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function(e,t,n){return an.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ji.USER_MAP=new WeakMap;const Xi=w;let es=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Xi(n,"invalid-api-key",{appName:e.name});let r=[de];if("undefined"!=typeof window){r=function(e,t){const n=ji();if(!(null==n?void 0:n.sessionStorage))return[];const r=fe(Vi,e,t);switch(n.sessionStorage.getItem(r)){case Li.NONE:return[de];case Li.LOCAL:return[Hn,kn];case Li.SESSION:return[kn];default:return[]}}(n,e.name);for(const e of[Hn,An,kn])r.includes(e)||r.push(e)}Xi(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?zi:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(l),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ji.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=Ae(e);w(r._canInitEmulator,r,"emulator-config-failed"),w(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=xe(t),{host:o,port:a}=function(e){const t=xe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ne(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ne(t)}}}(t);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),function(e){function t(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!e&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}(i)}(this._delegate,e,t)}applyActionCode(e){return function(e,t){return Kt.apply(this,arguments)}(this._delegate,e)}checkActionCode(e){return Qt(this._delegate,e)}confirmPasswordReset(e,t){return function(e,t,n){return Wt.apply(this,arguments)}(this._delegate,e,t)}createUserWithEmailAndPassword(e,t){var n=this;return(0,r.Z)(function*(){return Gi(n._delegate,function(e,t,n){return Xt.apply(this,arguments)}(n._delegate,e,t))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return function(e,t){return sn.apply(this,arguments)}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=ut.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}getRedirectResult(){var e=this;return(0,r.Z)(function*(){Xi(Ri(),e._delegate,"operation-not-supported-in-this-environment");const t=yield function(e,t){return Mr.apply(this,arguments)}(e._delegate,zi);return t?Gi(e._delegate,Promise.resolve(t)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function(e,t){Ae(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=ts(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=ts(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return function(e,t,n){return en.apply(this,arguments)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return function(e,t,n){return Gt.apply(this,arguments)}(this._delegate,e,t||void 0)}setPersistence(e){var t=this;return(0,r.Z)(function*(){let n;switch(function(e,t){Mi(Object.values(Li).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?Mi(t!==Li.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?Mi(t===Li.NONE,e,"unsupported-persistence-type"):Oi()?Mi(t===Li.NONE||t===Li.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):Mi(t===Li.NONE||Ni(),e,"unsupported-persistence-type")}(t._delegate,e),e){case Li.SESSION:n=kn;break;case Li.LOCAL:n=(yield E(Hn)._isAvailable())?Hn:An;break;case Li.NONE:n=de;break;default:return g("argument-error",{appName:t._delegate.name})}return t._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Gi(this._delegate,function(e){return It.apply(this,arguments)}(this._delegate))}signInWithCredential(e){return Gi(this._delegate,Lt(this._delegate,e))}signInWithCustomToken(e){return Gi(this._delegate,function(e,t){return Bt.apply(this,arguments)}(this._delegate,e))}signInWithEmailAndPassword(e,t){return Gi(this._delegate,function(e,t,n){return Lt((0,s.m9)(e),ct.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Gi(this._delegate,function(e,t,n){return tn.apply(this,arguments)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Ki(this._delegate,function(e,t,n){return ar.apply(this,arguments)}(this._delegate,e,t))}signInWithPopup(e){var t=this;return(0,r.Z)(function*(){return Xi(Ri(),t._delegate,"operation-not-supported-in-this-environment"),Gi(t._delegate,function(e,t,n){return Ir.apply(this,arguments)}(t._delegate,e,zi))})()}signInWithRedirect(e){var t=this;return(0,r.Z)(function*(){return Xi(Ri(),t._delegate,"operation-not-supported-in-this-environment"),yield Fi(t._delegate),function(e,t,n){return function(e,t,n){return Dr.apply(this,arguments)}(e,t,n)}(t._delegate,e,zi)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return function(e,t){return Jt.apply(this,arguments)}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=Li,e})();function ts(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Ji.getOrCreate(e)),error:t,complete:n}}class ns{constructor(){this.providerId="phone",this._delegate=new fr(Bi(i.Z.auth()))}static credential(e,t){return fr.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}ns.PHONE_SIGN_IN_METHOD=fr.PHONE_SIGN_IN_METHOD,ns.PROVIDER_ID=fr.PROVIDER_ID;const rs=w;class is{constructor(e,t,n=i.Z.app()){var r;rs(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new sr(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new c.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new es(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ct,FacebookAuthProvider:ft,GithubAuthProvider:gt,GoogleAuthProvider:pt,OAuthProvider:dt,PhoneAuthProvider:ns,PhoneMultiFactorGenerator:li,RecaptchaVerifier:is,TwitterAuthProvider:yt,Auth:es,AuthCredential:Oe,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.1.2")}(i.Z)},7574:function(e,t,n){"use strict";n.d(t,{y:function(){return c}});var r=n(7393),i=n(9181),s=n(6490),o=n(6554),a=n(4487);var u=n(2494);let c=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(s.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){u.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=l(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:function(e){return 0===e.length?a.y:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}}(e)(this)}toPromise(e){return new(e=l(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function l(e){if(e||(e=u.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},6490:function(e,t,n){"use strict";n.d(t,{c:function(){return s}});var r=n(2494),i=n(4449);const s={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},9765:function(e,t,n){"use strict";n.d(t,{Yc:function(){return c},xQ:function(){return l}});var r=n(7574),i=n(7393),s=n(5319),o=n(7971),a=n(8858),u=n(9181);class c extends i.L{constructor(e){super(e),this.destination=e}}let l=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends l{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.w.EMPTY}}},8858:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(5319);class i extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},7393:function(e,t,n){"use strict";n.d(t,{L:function(){return c}});var r=n(9105),i=n(6490),s=n(5319),o=n(9181),a=n(2494),u=n(4449);class c extends s.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new c(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class l extends c{constructor(e,t,n,s){super(),this._parentSubscriber=e;let o,a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,u.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,u.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},5319:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(9796),i=n(1555),s=n(9105);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:n,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let r=0;r<t.length;++r)t[r].remove(this);if((0,s.m)(u)){n&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if((0,r.k)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if((0,i.K)(n))try{n.unsubscribe()}catch(d){e=e||[],d instanceof o?e=e.concat(c(d.errors)):e.push(d)}}}if(e)throw new o(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof a){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var u;function c(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}a.EMPTY=((u=new a).closed=!0,u)},2494:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:function(e,t,n){"use strict";n.d(t,{IY:function(){return o},Ds:function(){return a},ft:function(){return u}});var r=n(7393),i=n(7574),s=n(7444);class o extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function u(e,t){if(t.closed)return;if(e instanceof i.y)return e.subscribe(t);let n;try{n=(0,s.s)(e)(t)}catch(r){t.error(r)}return n}},2441:function(e,t,n){"use strict";n.d(t,{c:function(){return a},N:function(){return u}});var r=n(9765),i=n(7574),s=n(5319),o=n(1307);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.w,e.add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const u=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class c extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},9193:function(e,t,n){"use strict";n.d(t,{E:function(){return i},c:function(){return s}});var r=n(7574);const i=new r.y(e=>e.complete());function s(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):i}},4402:function(e,t,n){"use strict";n.d(t,{D:function(){return h}});var r=n(7574),i=n(7444),s=n(5319),o=n(6554),a=n(4087),u=n(377),c=n(4072),l=n(9489);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>{const i=e[o.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,c.t)(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,l.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[u.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[u.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},6693:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var r=n(7574),i=n(5015),s=n(4087);function o(e,t){return t?(0,s.r)(e,t):new r.y((0,i.V)(e))}},6682:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(7574),i=n(4869),s=n(3282),o=n(6693);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,s.J)(t)((0,o.n)(e,n))}},5917:function(e,t,n){"use strict";n.d(t,{of:function(){return o}});var r=n(4869),i=n(6693),s=n(4087);function o(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,s.r)(e,t)):(0,i.n)(e)}},8002:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(7393);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},3282:function(e,t,n){"use strict";n.d(t,{J:function(){return s}});var r=n(9773),i=n(4487);function s(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},9773:function(e,t,n){"use strict";n.d(t,{zg:function(){return o}});var r=n(8002),i=n(4402),s=n(5345);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new u(e,this.project,this.concurrent))}}class u extends s.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new s.IY(this),n=this.destination;n.add(t);const r=(0,s.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:function(e,t,n){"use strict";n.d(t,{ht:function(){return l},QV:function(){return u}});var r=n(7393),i=n(9193),s=n(5917),o=n(7574);class a{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return e=this.error,new o.y(t=>t.error(e));case"C":return(0,i.c)()}var e;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new a("N",e):a.undefinedValueNotification}static createError(e){return new a("E",void 0,e)}static createComplete(){return a.completeNotification}}function u(e,t=0){return function(n){return n.lift(new c(e,t))}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);class c{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))}}class l extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(e,this.destination)))}_next(e){this.scheduleMessage(a.createNext(e))}_error(e){this.scheduleMessage(a.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(e,t){this.notification=e,this.destination=t}}},1307:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(7393);function i(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,r&&(!n||r===n)&&r.unsubscribe()}}},3101:function(e,t,n){"use strict";n.d(t,{R:function(){return p}});var r=n(7574);let i=1;const s=Promise.resolve(),o={};function a(e){return e in o&&(delete o[e],!0)}const u={setImmediate(e){const t=i++;return o[t]=!0,s.then(()=>a(t)&&e()),t},clearImmediate(e){a(e)}};var c=n(6465),l=n(6102);const h=new class extends l.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends c.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=u.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(u.clearImmediate(t),e.scheduled=void 0)}});var d=n(9796);class f extends r.y{constructor(e,t=0,n=h){var r;super(),this.source=e,this.delayTime=t,this.scheduler=n,(!(!(0,d.k)(r=t)&&r-parseFloat(r)+1>=0)||t<0)&&(this.delayTime=0),(!n||"function"!=typeof n.schedule)&&(this.scheduler=h)}static create(e,t=0,n=h){return new f(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(f.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function p(e,t=0){return function(n){return n.lift(new g(e,t))}}class g{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new f(t,this.delay,this.scheduler).subscribe(e)}}},3342:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(7393);function i(){}var s=n(9105);function o(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(e,t,n,r){super(e),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,s.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i,this._tapError=t.error||i,this._tapComplete=t.complete||i)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},4087:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});var r=n(7574),i=n(5319);function s(e,t){return new r.y(n=>{const r=new i.w;let s=0;return r.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:function(e,t,n){"use strict";n.d(t,{o:function(){return s}});var r=n(5319);class i extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class s extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},6102:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},3637:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(6465);const i=new(n(6102).v)(r.o)},7771:function(e,t,n){"use strict";n.d(t,{c:function(){return o},N:function(){return s}});var r=n(6465),i=n(6102);const s=new class extends i.v{}(class extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}),o=s},377:function(e,t,n){"use strict";n.d(t,{hZ:function(){return r}});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4449:function(e,t,n){"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:function(){return r}})},4487:function(e,t,n){"use strict";function r(e){return e}n.d(t,{y:function(){return r}})},9796:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});const r=Array.isArray||(e=>e&&"number"==typeof e.length)},9489:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},9105:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,{m:function(){return r}})},1555:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:function(){return r}})},4072:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:function(){return r}})},4869:function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:function(){return r}})},7444:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var r=n(5015),i=n(4449),s=n(377),o=n(6554),a=n(9489),u=n(4072),c=n(1555);const l=e=>{if(e&&"function"==typeof e[o.L])return(e=>t=>{const n=e[o.L]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)})(e);if((0,a.z)(e))return(0,r.V)(e);if((0,u.t)(e))return(e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t))(e);if(e&&"function"==typeof e[s.hZ])return(e=>t=>{const n=e[s.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t})(e);{const t=`You provided ${(0,c.K)(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}}},5015:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},7906:function(e,t,n){"use strict";var r=n(3018);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:u,token:e,providedIn:"platform"}),e})();function u(){return(0,r.LFG)(l)}const c=new r.OlP("Location Initialized");let l=(()=>{class e extends a{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){h()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){h()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:d,token:e,providedIn:"platform"}),e})();function h(){return!!window.history.pushState}function d(){return new l((0,r.LFG)(o))}function f(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function p(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function g(e){return e&&"?"!==e[0]?"?"+e:e}let m=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:y,token:e,providedIn:"root"}),e})();function y(e){const t=(0,r.LFG)(o).location;return new _((0,r.LFG)(a),t&&t.origin||"")}const v=new r.OlP("appBaseHref");let _=(()=>{class e extends m{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return f(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(v,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),w=(()=>{class e extends m{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=f(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(v,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),b=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=p(T(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+g(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,T(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(m),r.LFG(a))},e.normalizeQueryParams=g,e.joinWithSlash=f,e.stripTrailingSlash=p,e.\u0275prov=(0,r.Yz7)({factory:I,token:e,providedIn:"root"}),e})();function I(){return new b((0,r.LFG)(m),(0,r.LFG)(a))}function T(e){return e.replace(/\/index.html$/,"")}var E=(()=>((E=E||{})[E.Zero=0]="Zero",E[E.One=1]="One",E[E.Two=2]="Two",E[E.Few=3]="Few",E[E.Many=4]="Many",E[E.Other=5]="Other",E))();const S=r.kL8;class C{}let A=(()=>{class e extends C{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(S(t||this.locale)(e)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),k=(()=>{class e{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,r.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r.AaK)(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class x{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let N=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(e){return e.name||typeof e}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new x(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new O(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new O(e,i);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class O{constructor(e,t){this.record=e,this.view=t}}let R=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){P("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){P("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function P(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}let L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:C,useClass:A}]}),e})();function M(e){return"server"===e}let V=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new F((0,r.LFG)(o),window)}),e})();class F{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=U(this.window.history)||U(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function U(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class j extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new j,i||(i=e)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(z=z||document.querySelector("base"),z?z.getAttribute("href"):null);return null==t?null:function(e){q=q||document.createElement("a"),q.setAttribute("href",e);const t=q.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}(document.cookie,e)}}let q,z=null;const B=new r.OlP("TRANSITION_ID"),Z=[{provide:r.ip1,useFactory:function(e,t,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s(),r=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let e=0;e<r.length;e++)n.remove(r[e])})}},deps:[B,o,r.zs3],multi:!0}];class H{static init(){(0,r.VLi)(new H)}addToWindow(e){r.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(e=>{const t=r.dqk.getAllAngularTestabilities();let n=t.length,i=!1;const s=function(t){i=i||t,n--,0==n&&e(i)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?s().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let $=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const G=new r.OlP("EventManagerPlugins");let W=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(G),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class K{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=s().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let Q=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Y=(()=>{class e extends Q{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(J),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(J))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function J(e){s().remove(e)}const X={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ee=/%COMP%/g;function te(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?te(e,i,n):(i=i.replace(ee,e),n.push(i))}return n}function ne(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let re=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ie(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new se(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case r.ifc.ShadowDom:return new oe(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=te(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(W),r.LFG(Y),r.LFG(r.AFp))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class ie{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(X[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=X[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=X[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(r.JOm.DashCase|r.JOm.Important)?e.style.setProperty(t,n,i&r.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&r.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ne(n)):this.eventManager.addEventListener(e,t,ne(n))}}class se extends ie{constructor(e,t,n,r){super(e),this.component=n;const i=te(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ee,r+"-"+n.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(ee,e)}(r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class oe extends ie{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=te(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ae=(()=>{class e extends K{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const ue=["alt","control","meta","shift"],ce={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},le={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},he={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let de=(()=>{class e extends K{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let s="";if(ue.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&le.hasOwnProperty(t)&&(t=le[t]))}return ce[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ue.forEach(r=>{r!=n&&he[r](e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const fe=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){j.makeCurrent(),H.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),pe=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:G,useClass:ae,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:G,useClass:de,multi:!0,deps:[o]},[],{provide:re,useClass:re,deps:[W,Y,r.AFp]},{provide:r.FYo,useExisting:re},{provide:Q,useExisting:Y},{provide:Y,useClass:Y,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:W,useClass:W,deps:[G,r.R0b]},{provide:class{},useClass:$,deps:[]},[]];let ge=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:r.AFp,useValue:t.appId},{provide:B,useExisting:r.AFp},Z]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(e,12))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:pe,imports:[L,r.hGG]}),e})();"undefined"!=typeof window&&window;var me=n(8939),ye=n(3637),ve=n(7574),_e=n(4402),we=n(5917),be=n(7667),Ie=n(3282);function Te(...e){return(0,Ie.J)(1)((0,we.of)(...e))}var Ee=n(4869);function Se(...e){const t=e[e.length-1];return(0,Ee.K)(t)?(e.pop(),n=>Te(e,n,t)):t=>Te(e,t)}var Ce=n(7393);function Ae(){return e=>e.lift(new ke)}class ke{call(e,t){return t.subscribe(new xe(e))}}class xe extends Ce.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var Ne=n(8002);function Oe(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Re(e,t,n))}}class Re{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new De(e,this.accumulator,this.seed,this.hasSeed))}}class De extends Ce.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class Pe{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Le(e,this.compare,this.keySelector))}}class Le extends Ce.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}function Me(e,t){return function(n){return n.lift(new Ve(e,t))}}class Ve{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Fe(e,this.predicate,this.thisArg))}}class Fe extends Ce.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}n(6780);var Ue=n(4486),je=n(8239),qe=n(5452),ze=n(6034),Be=n(300),Ze=n(4685),He=function(e,t){return(He=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function $e(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ge,We="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ke=Ke||{},Qe=We||self;function Ye(){}function Je(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Xe(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var et="closure_uid_"+(1e9*Math.random()>>>0),tt=0;function nt(e,t,n){return e.call.apply(e.bind,arguments)}function rt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function it(e,t,n){return(it=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nt:rt).apply(null,arguments)}function st(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ot(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function at(){this.s=this.s,this.o=this.o}var ut={};at.prototype.s=!1,at.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,et)&&e[et]||(e[et]=++tt)}(this);delete ut[e]}},at.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ct=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},lt=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function ht(e){return Array.prototype.concat.apply([],arguments)}function dt(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ft(e){return/^[\s\xa0]*$/.test(e)}var pt,gt=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function mt(e,t){return-1!=e.indexOf(t)}function yt(e,t){return e<t?-1:e>t?1:0}e:{var vt=Qe.navigator;if(vt){var _t=vt.userAgent;if(_t){pt=_t;break e}}pt=""}function wt(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function bt(e){var t={};for(var n in e)t[n]=e[n];return t}var It="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tt(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var s=0;s<It.length;s++)n=It[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Et(e){return Et[" "](e),e}Et[" "]=Ye;var St,Ct,At=mt(pt,"Opera"),kt=mt(pt,"Trident")||mt(pt,"MSIE"),xt=mt(pt,"Edge"),Nt=xt||kt,Ot=mt(pt,"Gecko")&&!(mt(pt.toLowerCase(),"webkit")&&!mt(pt,"Edge"))&&!(mt(pt,"Trident")||mt(pt,"MSIE"))&&!mt(pt,"Edge"),Rt=mt(pt.toLowerCase(),"webkit")&&!mt(pt,"Edge");function Dt(){var e=Qe.document;return e?e.documentMode:void 0}e:{var Pt="",Lt=(Ct=pt,Ot?/rv:([^\);]+)(\)|;)/.exec(Ct):xt?/Edge\/([\d\.]+)/.exec(Ct):kt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ct):Rt?/WebKit\/(\S+)/.exec(Ct):At?/(?:Version)[ \/]?(\S+)/.exec(Ct):void 0);if(Lt&&(Pt=Lt?Lt[1]:""),kt){var Mt=Dt();if(null!=Mt&&Mt>parseFloat(Pt)){St=String(Mt);break e}}St=Pt}var Vt={};function Ft(){return e=Vt,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=gt(String(St)).split("."),n=gt("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var s=t[i]||"",o=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;e=yt(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||yt(0==s[2].length,0==o[2].length)||yt(s[2],o[2]),s=s[3],o=o[3]}while(0==e)}return 0<=e}();var e}var Ut=Qe.document&&kt&&(Dt()||parseInt(St,10))||void 0,jt=function(){if(!Qe.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Qe.addEventListener("test",Ye,t),Qe.removeEventListener("test",Ye,t)}catch(n){}return e}();function qt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function zt(e,t){if(qt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ot){e:{try{Et(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Bt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&zt.Z.h.call(this)}}qt.prototype.h=function(){this.defaultPrevented=!0},ot(zt,qt);var Bt={2:"touch",3:"pen",4:"mouse"};zt.prototype.h=function(){zt.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Zt="closure_listenable_"+(1e6*Math.random()|0),Ht=0;function $t(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ht,this.ca=this.fa=!1}function Gt(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Wt(e){this.src=e,this.g={},this.h=0}function Kt(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=ct(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Gt(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Qt(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}Wt.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Qt(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new $t(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Yt="closure_lm_"+(1e6*Math.random()|0),Jt={};function Xt(e,t,n,r,i){if(r&&r.once)return tn(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Xt(e,t[s],n,r,i);return null}return n=cn(n),e&&e[Zt]?e.N(t,n,Xe(r)?!!r.capture:!!r,i):en(e,t,n,!1,r,i)}function en(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Xe(i)?!!i.capture:!!i,a=an(e);if(a||(e[Yt]=a=new Wt(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=on;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)jt||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(sn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function tn(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)tn(e,t[s],n,r,i);return null}return n=cn(n),e&&e[Zt]?e.O(t,n,Xe(r)?!!r.capture:!!r,i):en(e,t,n,!0,r,i)}function nn(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)nn(e,t[s],n,r,i);else r=Xe(r)?!!r.capture:!!r,n=cn(n),e&&e[Zt]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Qt(s=e.g[t],n,r,i))&&(Gt(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=an(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Qt(t,n,r,i)),(n=-1<e?t[e]:null)&&rn(n))}function rn(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Zt])Kt(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(sn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=an(t))?(Kt(n,e),0==n.h&&(n.src=null,t[Yt]=null)):Gt(e)}}}function sn(e){return e in Jt?Jt[e]:Jt[e]="on"+e}function on(e,t){if(e.ca)e=!0;else{t=new zt(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&rn(e),e=n.call(r,t)}return e}function an(e){return(e=e[Yt])instanceof Wt?e:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function cn(e){return"function"==typeof e?e:(e[un]||(e[un]=function(t){return e.handleEvent(t)}),e[un])}function ln(){at.call(this),this.i=new Wt(this),this.P=this,this.I=null}function hn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new qt(t,e);else if(t instanceof qt)t.target=t.target||e;else{var i=t;Tt(t=new qt(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=dn(o,r,!0,t)&&i}if(i=dn(o=t.g=e,r,!0,t)&&i,i=dn(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=dn(o=t.g=n[s],r,!1,t)&&i}function dn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&Kt(e.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ot(ln,at),ln.prototype[Zt]=!0,ln.prototype.removeEventListener=function(e,t,n,r){nn(this,e,t,n,r)},ln.prototype.M=function(){if(ln.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Gt(n[r]);delete t.g[e],t.h--}}this.I=null},ln.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ln.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var fn=Qe.JSON.stringify;function pn(){var e=In,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var gn,mn=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=yn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),yn=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},e}())(function(){return new vn},function(e){return e.reset()}),vn=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function _n(e){Qe.setTimeout(function(){throw e},0)}function wn(e,t){gn||function(){var e=Qe.Promise.resolve(void 0);gn=function(){e.then(Tn)}}(),bn||(gn(),bn=!0),In.add(e,t)}var bn=!1,In=new mn;function Tn(){for(var e;e=pn();){try{e.h.call(e.g)}catch(n){_n(n)}var t=yn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}bn=!1}function En(e,t){ln.call(this),this.h=e||1,this.g=t||Qe,this.j=it(this.kb,this),this.l=Date.now()}function Sn(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Cn(e,t,n){if("function"==typeof e)n&&(e=it(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=it(e.handleEvent,e)}return 2147483647<Number(t)?-1:Qe.setTimeout(e,t||0)}function An(e){e.g=Cn(function(){e.g=null,e.i&&(e.i=!1,An(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ot(En,ln),(Ge=En.prototype).da=!1,Ge.S=null,Ge.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),hn(this,"tick"),this.da&&(Sn(this),this.start()))}},Ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ge.M=function(){En.Z.M.call(this),Sn(this),delete this.g};var kn=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}He(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:An(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Qe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(at);function xn(e){at.call(this),this.h=e,this.g={}}ot(xn,at);var Nn=[];function On(e,t,n,r){Array.isArray(n)||(n&&(Nn[0]=n.toString()),n=Nn);for(var i=0;i<n.length;i++){var s=Xt(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Rn(e){wt(e.g,function(e,t){this.g.hasOwnProperty(t)&&rn(e)},e),e.g={}}function Dn(){this.g=!0}function Pn(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return fn(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}xn.prototype.M=function(){xn.Z.M.call(this),Rn(this)},xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dn.prototype.Aa=function(){this.g=!1},Dn.prototype.info=function(){};var Ln={},Mn=null;function Vn(){return Mn=Mn||new ln}function Fn(e){qt.call(this,Ln.Ma,e)}function Un(e){var t=Vn();hn(t,new Fn(t,e))}function jn(e,t){qt.call(this,Ln.STAT_EVENT,e),this.stat=t}function qn(e){var t=Vn();hn(t,new jn(t,e))}function zn(e,t){qt.call(this,Ln.Na,e),this.size=t}function Bn(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Qe.setTimeout(function(){e()},t)}Ln.Ma="serverreachability",ot(Fn,qt),Ln.STAT_EVENT="statevent",ot(jn,qt),Ln.Na="timingevent",ot(zn,qt);var Zn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Hn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $n(){}function Gn(){}$n.prototype.h=null;var Wn,Kn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Qn(){qt.call(this,"d")}function Yn(){qt.call(this,"c")}function Jn(){}function Xn(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new xn(this),this.P=tr,this.W=new En(e=Nt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new er}function er(){this.i=null,this.g="",this.h=!1}ot(Qn,qt),ot(Yn,qt),ot(Jn,$n),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Wn=new Jn;var tr=45e3,nr={},rr={};function ir(e,t,n){e.K=1,e.v=Ar(br(t)),e.s=n,e.U=!0,sr(e,null)}function sr(e,t){e.F=Date.now(),cr(e),e.A=br(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),jr(n.h,"t",r),e.C=0,n=e.l.H,e.h=new er,e.g=qi(e.l,n?t:null,!e.s),0<e.O&&(e.L=new kn(it(e.Ia,e,e.g),e.O)),On(e.V,e.g,"readystatechange",e.gb),t=e.H?bt(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Un(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function or(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function ar(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ur(e,n))==rr){4==t&&(e.o=4,qn(14),i=!1),Pn(e.j,e.m,null,"[Incomplete Response]");break}if(r==nr){e.o=4,qn(15),Pn(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Pn(e.j,e.m,r,null),pr(e,r)}or(e)&&r!=rr&&r!=nr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,qn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Di(t),t.L=!0,qn(11))):(Pn(e.j,e.m,n,"[Invalid Chunked Response]"),fr(e),dr(e))}function ur(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?rr:(n=Number(t.substring(n,r)),isNaN(n)?nr:(r+=1)+n>t.length?rr:(t=t.substr(r,n),e.C=r+n,t))}function cr(e){e.Y=Date.now()+e.P,lr(e,e.P)}function lr(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Bn(it(e.eb,e),t)}function hr(e){e.B&&(Qe.clearTimeout(e.B),e.B=null)}function dr(e){0==e.l.G||e.I||Mi(e.l,e)}function fr(e){hr(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Sn(e.W),Rn(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function pr(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Gr(n.i,e)))if(n.I=e.N,!e.J&&Gr(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Bn(it(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<e.F))break e;Li(n),Ei(n)}Ri(n),qn(18)}if(1>=$r(n.i)&&n.ka){try{n.ka()}catch(m){}n.ka=void 0}}else Fi(n,11)}else if((e.J||n.g==e)&&Li(n),!ft(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var o=s[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=s[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=s[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(mt(l,"spdy")||mt(l,"quic")||mt(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Wr(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Cr(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=e;if((r=n).oa=ji(r,r.H?r.la:null,r.W),f.J){Kr(r.i,f);var p=f,g=r.K;g&&p.setTimeout(g),p.B&&(hr(p),cr(p)),r.g=f}else Oi(r);0<n.l.length&&Ai(n)}else"stop"!=s[0]&&"close"!=s[0]||Fi(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?Fi(n,7):Ti(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}Un(4)}catch(m){}}function gr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Je(e)||"string"==typeof e)lt(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Je(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Je(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function mr(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof mr)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function yr(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];vr(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)vr(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function vr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ge=Xn.prototype).setTimeout=function(e){this.P=e},Ge.gb=function(e){e=e.target;var t=this.L;t&&3==vi(e)?t.l():this.Ia(e)},Ge.Ia=function(e){try{if(e==this.g)e:{var t=vi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Nt||this.g&&(this.h.h||this.g.ga()||_i(this.g)))){this.I||4!=t||7==n||Un(8==n||0>=r?3:2),hr(this);var i=this.g.ba();this.N=i;t:if(or(this)){var s=_i(this.g);e="";var o=s.length,a=4==vi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){fr(this),dr(this);var u="";break t}this.h.i=new Qe.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ft(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,qn(12),fr(this),dr(this);break e}Pn(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,pr(this,i)}this.U?(ar(this,t,u),Nt&&this.i&&3==t&&(On(this.V,this.W,"tick",this.fb),this.W.start())):(Pn(this.j,this.m,u,null),pr(this,u)),4==t&&fr(this),this.i&&!this.I&&(4==t?Mi(this.l,this):(this.i=!1,cr(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,qn(12)):(this.o=0,qn(13)),fr(this),dr(this)}}}catch(d){}},Ge.fb=function(){if(this.g){var e=vi(this.g),t=this.g.ga();this.C<t.length&&(hr(this),ar(this,e,t),this.i&&4!=e&&cr(this))}},Ge.cancel=function(){this.I=!0,fr(this)},Ge.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Un(3),qn(17)),fr(this),this.o=2,dr(this)):lr(this,this.Y-e)},(Ge=mr.prototype).R=function(){yr(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ge.T=function(){return yr(this),this.g.concat()},Ge.get=function(e,t){return vr(this.h,e)?this.h[e]:t},Ge.set=function(e,t){vr(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ge.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var _r=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wr(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof wr){this.g=void 0!==t?t:e.g,Ir(this,e.j),this.s=e.s,Tr(this,e.i),Er(this,e.m),this.l=e.l,t=e.h;var n=new Mr;n.i=t.i,t.g&&(n.g=new mr(t.g),n.h=t.h),Sr(this,n),this.o=e.o}else e&&(n=String(e).match(_r))?(this.g=!!t,Ir(this,n[1]||"",!0),this.s=kr(n[2]||""),Tr(this,n[3]||"",!0),Er(this,n[4]),this.l=kr(n[5]||"",!0),Sr(this,n[6]||"",!0),this.o=kr(n[7]||"")):(this.g=!!t,this.h=new Mr(null,this.g))}function br(e){return new wr(e)}function Ir(e,t,n){e.j=n?kr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Tr(e,t,n){e.i=n?kr(t,!0):t}function Er(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Sr(e,t,n){t instanceof Mr?(e.h=t,function(e,t){t&&!e.j&&(Vr(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Fr(this,t),jr(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=xr(t,Pr)),e.h=new Mr(t,e.g))}function Cr(e,t,n){e.h.set(t,n)}function Ar(e){return Cr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function kr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xr(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Nr),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Nr(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}wr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xr(t,Or,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(xr(t,Or,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(xr(n,"/"==n.charAt(0)?Dr:Rr,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",xr(n,Lr)),e.join("")};var Or=/[#\/\?@]/g,Rr=/[#\?:]/g,Dr=/[#\?]/g,Pr=/[#\?@]/g,Lr=/#/g;function Mr(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Vr(e){e.g||(e.g=new mr,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Fr(e,t){Vr(e),t=qr(e,t),vr(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,vr((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&yr(e)))}function Ur(e,t){return Vr(e),t=qr(e,t),vr(e.g.h,t)}function jr(e,t,n){Fr(e,t),0<n.length&&(e.i=null,e.g.set(qr(e,t),dt(n)),e.h+=n.length)}function qr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ge=Mr.prototype).add=function(e,t){Vr(this),this.i=null,e=qr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ge.forEach=function(e,t){Vr(this),this.g.forEach(function(n,r){lt(n,function(n){e.call(t,n,r,this)},this)},this)},Ge.T=function(){Vr(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},Ge.R=function(e){Vr(this);var t=[];if("string"==typeof e)Ur(this,e)&&(t=ht(t,this.g.get(qr(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ht(t,e[n])}return t},Ge.set=function(e,t){return Vr(this),this.i=null,Ur(this,e=qr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ge.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var zr=function(e,t){this.h=e,this.g=t};function Br(e){this.l=e||Zr,e=Qe.PerformanceNavigationTiming?0<(e=Qe.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Qe.g&&Qe.g.Ea&&Qe.g.Ea()&&Qe.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Zr=10;function Hr(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $r(e){return e.h?1:e.g?e.g.size:0}function Gr(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Wr(e,t){e.g?e.g.add(t):e.h=t}function Kr(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Qr(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=$e(e.g.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.D)}catch(o){t={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return dt(e.i)}function Yr(){}function Jr(){this.g=new Yr}function Xr(e,t,n){var r=n||"";try{gr(e,function(e,n){var i=e;Xe(e)&&(i=fn(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ei(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function ti(e){this.l=e.$b||null,this.j=e.ib||!1}function ni(e,t){ln.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ri,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Br.prototype.cancel=function(){var e,t;if(this.i=Qr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=$e(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Yr.prototype.stringify=function(e){return Qe.JSON.stringify(e,void 0)},Yr.prototype.parse=function(e){return Qe.JSON.parse(e,void 0)},ot(ti,$n),ti.prototype.g=function(){return new ni(this.l,this.j)},ti.prototype.i=function(e){return function(){return e}}({}),ot(ni,ln);var ri=0;function ii(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function si(e){e.readyState=4,e.l=null,e.j=null,e.A=null,oi(e)}function oi(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ge=ni.prototype).open=function(e,t){if(this.readyState!=ri)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,oi(this)},Ge.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Qe).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,si(this)),this.readyState=ri},Ge.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Qe.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ii(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ge.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?si(this):oi(this),3==this.readyState&&ii(this)}},Ge.Ua=function(e){this.g&&(this.response=this.responseText=e,si(this))},Ge.Ta=function(e){this.g&&(this.response=e,si(this))},Ge.ha=function(){this.g&&si(this)},Ge.setRequestHeader=function(e,t){this.v.append(e,t)},Ge.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ge.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ni.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ai=Qe.JSON.parse;function ui(e){ln.call(this),this.headers=new mr,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ci,this.K=this.L=!1}ot(ui,ln);var ci="",li=/^https?$/i,hi=["POST","PUT"];function di(e){return"content-type"==e.toLowerCase()}function fi(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,pi(e),mi(e)}function pi(e){e.D||(e.D=!0,hn(e,"complete"),hn(e,"error"))}function gi(e){if(e.h&&void 0!==Ke&&(!e.C[1]||4!=vi(e)||2!=e.ba()))if(e.v&&4==vi(e))Cn(e.Fa,0,e);else if(hn(e,"readystatechange"),4==vi(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var s=String(e.H).match(_r)[1]||null;if(!s&&Qe.self&&Qe.self.location){var o=Qe.self.location.protocol;s=o.substr(0,o.length-1)}i=!li.test(s?s.toLowerCase():"")}t=i}if(t)hn(e,"complete"),hn(e,"success");else{e.m=6;try{var a=2<vi(e)?e.g.statusText:""}catch(u){a=""}e.j=a+" ["+e.ba()+"]",pi(e)}}finally{mi(e)}}}function mi(e,t){if(e.g){yi(e);var n=e.g,r=e.C[0]?Ye:null;e.g=null,e.C=null,t||hn(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function yi(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Qe.clearTimeout(e.A),e.A=null)}function vi(e){return e.g?e.g.readyState:0}function _i(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ci:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function wi(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return wt(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Cr(e,t,n))}function bi(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ii(e){this.za=0,this.l=[],this.h=new Dn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=bi("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=bi("baseRetryDelayMs",5e3,e),this.$a=bi("retryDelaySeedMs",1e4,e),this.Ya=bi("forwardChannelMaxRetries",2,e),this.ra=bi("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Br(e&&e.concurrentRequestLimit),this.Ca=new Jr,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ti(e){if(Si(e),3==e.G){var t=e.V++,n=br(e.F);Cr(n,"SID",e.J),Cr(n,"RID",t),Cr(n,"TYPE","terminate"),xi(e,n),(t=new Xn(e,e.h,t,void 0)).K=2,t.v=Ar(br(n)),n=!1,Qe.navigator&&Qe.navigator.sendBeacon&&(n=Qe.navigator.sendBeacon(t.v.toString(),"")),!n&&Qe.Image&&((new Image).src=t.v,n=!0),n||(t.g=qi(t.l,null),t.g.ea(t.v)),t.F=Date.now(),cr(t)}Ui(e)}function Ei(e){e.g&&(Di(e),e.g.cancel(),e.g=null)}function Si(e){Ei(e),e.u&&(Qe.clearTimeout(e.u),e.u=null),Li(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Qe.clearTimeout(e.m),e.m=null)}function Ci(e,t){e.l.push(new zr(e.Za++,t)),3==e.G&&Ai(e)}function Ai(e){Hr(e.i)||e.m||(e.m=!0,wn(e.Ha,e),e.C=0)}function ki(e,t){var n;n=t?t.m:e.V++;var r=br(e.F);Cr(r,"SID",e.J),Cr(r,"RID",n),Cr(r,"AID",e.U),xi(e,r),e.o&&e.s&&wi(r,e.o,e.s),n=new Xn(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Ni(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Wr(e.i,n),ir(n,r,t)}function xi(e,t){e.j&&gr({},function(e,n){Cr(t,n,e)})}function Ni(e,t,n){n=Math.min(e.l.length,n);var r=e.j?it(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].h)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=s))s=Math.max(0,i[u].h-100),a=!1;else try{Xr(l,o,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Oi(e){e.g||e.u||(e.Y=1,wn(e.Ga,e),e.A=0)}function Ri(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Bn(it(e.Ga,e),Vi(e,e.A)),e.A++,0))}function Di(e){null!=e.B&&(Qe.clearTimeout(e.B),e.B=null)}function Pi(e){e.g=new Xn(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=br(e.oa);Cr(t,"RID","rpc"),Cr(t,"SID",e.J),Cr(t,"CI",e.N?"0":"1"),Cr(t,"AID",e.U),xi(e,t),Cr(t,"TYPE","xmlhttp"),e.o&&e.s&&wi(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ar(br(t)),n.s=null,n.U=!0,sr(n,e)}function Li(e){null!=e.v&&(Qe.clearTimeout(e.v),e.v=null)}function Mi(e,t){var n=null;if(e.g==t){Li(e),Di(e),e.g=null;var r=2}else{if(!Gr(e.i,t))return;n=t.D,Kr(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;hn(r=Vn(),new zn(r,n,t,i)),Ai(e)}else Oi(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!($r(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Bn(it(e.Ha,e,t),Vi(e,e.C)),e.C++,0)))}(e,t)||2==r&&Ri(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Fi(e,5);break;case 4:Fi(e,10);break;case 3:Fi(e,6);break;default:Fi(e,2)}}function Vi(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Fi(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=it(e.jb,e);n||(n=new wr("//www.google.com/images/cleardot.gif"),Qe.location&&"http"==Qe.location.protocol||Ir(n,"https"),Ar(n)),function(e,t){var n=new Dn;if(Qe.Image){var r=new Image;r.onload=st(ei,n,r,"TestLoadImage: loaded",!0,t),r.onerror=st(ei,n,r,"TestLoadImage: error",!1,t),r.onabort=st(ei,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=st(ei,n,r,"TestLoadImage: timeout",!1,t),Qe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else qn(2);e.G=0,e.j&&e.j.va(t),Ui(e),Si(e)}function Ui(e){e.G=0,e.I=-1,e.j&&((0!=Qr(e.i).length||0!=e.l.length)&&(e.i.i.length=0,dt(e.l),e.l.length=0),e.j.ua())}function ji(e,t,n){var r=function(e){return e instanceof wr?br(e):new wr(e,void 0)}(n);if(""!=r.i)t&&Tr(r,t+"."+r.i),Er(r,r.m);else{var i=Qe.location;r=function(e,t,n,r){var i=new wr(null,void 0);return e&&Ir(i,e),t&&Tr(i,t),n&&Er(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&wt(e.aa,function(e,t){Cr(r,t,e)}),n=e.sa,(t=e.D)&&n&&Cr(r,t,n),Cr(r,"VER",e.ma),xi(e,r),r}function qi(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ui(n&&e.Ba&&!e.qa?new ti({ib:!0}):e.qa)).L=e.H,t}function zi(){}function Bi(){if(kt&&!(10<=Number(Ut)))throw Error("Environmental error: no available transport.")}function Zi(e,t){ln.call(this),this.g=new Ii(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ft(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ft(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Gi(this)}function Hi(e){Qn.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function $i(){Yn.call(this),this.status=1}function Gi(e){this.g=e}(Ge=ui.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Wn.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:Wn),this.g.onreadystatechange=it(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void fi(this,s)}e=n||"";var i=new mr(this.headers);r&&gr(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=di,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Qe.FormData&&e instanceof Qe.FormData,!(0<=ct(hi,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yi(this),0<this.B&&((this.K=function(e){return kt&&Ft()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=it(this.pa,this)):this.A=Cn(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){fi(this,s)}},Ge.pa=function(){void 0!==Ke&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hn(this,"timeout"),this.abort(8))},Ge.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,hn(this,"complete"),hn(this,"abort"),mi(this))},Ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mi(this,!0)),ui.Z.M.call(this)},Ge.Fa=function(){this.s||(this.F||this.v||this.l?gi(this):this.cb())},Ge.cb=function(){gi(this)},Ge.ba=function(){try{return 2<vi(this)?this.g.status:-1}catch(Ct){return-1}},Ge.ga=function(){try{return this.g?this.g.responseText:""}catch(Ct){return""}},Ge.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ai(t)}},Ge.Da=function(){return this.m},Ge.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ge=Ii.prototype).ma=8,Ge.G=1,Ge.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Ge.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Xn(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Tt(n=bt(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var s=this.l[i];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(r+=s)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ni(this,t,r),Cr(i=br(this.F),"RID",e),Cr(i,"CVER",22),this.D&&Cr(i,"X-HTTP-Session-Id",this.D),xi(this,i),this.o&&n&&wi(i,this.o,n),Wr(this.i,t),this.Ra&&Cr(i,"TYPE","init"),this.ja?(Cr(i,"$req",r),Cr(i,"SID","null"),t.$=!0,ir(t,i,null)):ir(t,i,r),this.G=2}}else 3==this.G&&(e?ki(this,e):0==this.l.length||Hr(this.i)||ki(this))},Ge.Ga=function(){if(this.u=null,Pi(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Bn(it(this.bb,this),e)}},Ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qn(10),Ei(this),Pi(this))},Ge.ab=function(){null!=this.v&&(this.v=null,Ei(this),Ri(this),qn(19))},Ge.jb=function(e){e?(this.h.info("Successfully pinged google.com"),qn(2)):(this.h.info("Failed to ping google.com"),qn(1))},(Ge=zi.prototype).xa=function(){},Ge.wa=function(){},Ge.va=function(){},Ge.ua=function(){},Ge.Oa=function(){},Bi.prototype.g=function(e,t){return new Zi(e,t)},ot(Zi,ln),Zi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),wn(it(e.hb,e,t))),qn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ji(e,null,e.W),Ai(e)},Zi.prototype.close=function(){Ti(this.g)},Zi.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Ci(this.g,t)}else this.v?((t={}).__data__=fn(e),Ci(this.g,t)):Ci(this.g,e)},Zi.prototype.M=function(){this.g.j=null,delete this.j,Ti(this.g),delete this.g,Zi.Z.M.call(this)},ot(Hi,Qn),ot($i,Yn),ot(Gi,zi),Gi.prototype.xa=function(){hn(this.g,"a")},Gi.prototype.wa=function(e){hn(this.g,new Hi(e))},Gi.prototype.va=function(e){hn(this.g,new $i(e))},Gi.prototype.ua=function(){hn(this.g,"b")},Bi.prototype.createWebChannel=Bi.prototype.g,Zi.prototype.send=Zi.prototype.u,Zi.prototype.open=Zi.prototype.m,Zi.prototype.close=Zi.prototype.close,Zn.NO_ERROR=0,Zn.TIMEOUT=8,Zn.HTTP_ERROR=6,Hn.COMPLETE="complete",Gn.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",ln.prototype.listen=ln.prototype.N,ui.prototype.listenOnce=ui.prototype.O,ui.prototype.getLastError=ui.prototype.La,ui.prototype.getLastErrorCode=ui.prototype.Da,ui.prototype.getStatus=ui.prototype.ba,ui.prototype.getResponseJson=ui.prototype.Qa,ui.prototype.getResponseText=ui.prototype.ga,ui.prototype.send=ui.prototype.ea;var Wi=Zn,Ki=Hn,Qi=Ln,Yi=10,Ji=11,Xi=ti,es=Gn,ts=ui;class ns{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ns.UNAUTHENTICATED=new ns(null),ns.GOOGLE_CREDENTIALS=new ns("google-credentials-uid"),ns.FIRST_PARTY=new ns("first-party-uid"),ns.MOCK_USER=new ns("mock-user");let rs="9.0.2";const is=new Be.Yd("@firebase/firestore");function ss(){return is.logLevel}function os(e,...t){if(is.logLevel<=Be.in.DEBUG){const n=t.map(cs);is.debug(`Firestore (${rs}): ${e}`,...n)}}function as(e,...t){if(is.logLevel<=Be.in.ERROR){const n=t.map(cs);is.error(`Firestore (${rs}): ${e}`,...n)}}function us(e,...t){if(is.logLevel<=Be.in.WARN){const n=t.map(cs);is.warn(`Firestore (${rs}): ${e}`,...n)}}function cs(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function ls(e="Unexpected state"){const t=`FIRESTORE (${rs}) INTERNAL ASSERTION FAILED: `+e;throw as(t),new Error(t)}function hs(e,t){e||ls()}function ds(e,t){return e}const fs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ps extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ms{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class ys{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ns.UNAUTHENTICATED))}shutdown(){}}class vs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _s{constructor(e){this.t=e,this.currentUser=ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let r=this.i;const i=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let s=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const t=s;e.enqueueRetryable((0,je.Z)(function*(){yield t.promise,yield i(n.currentUser)}))},a=e=>{os("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(os("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gs)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(os("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(hs("string"==typeof t.accessToken),new ms(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return hs(null===e||"string"==typeof e),new ns(e)}}class ws{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=ns.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class bs{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new ws(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ns.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Is{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function Ts(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Is.T=-1;class Es{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Ts(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Ss(e,t){return e<t?-1:e>t?1:0}function Cs(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function As(e){return e+"\0"}class ks{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ps(fs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ps(fs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ps(fs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ps(fs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ks.fromMillis(Date.now())}static fromDate(e){return ks.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ks(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ss(this.nanoseconds,e.nanoseconds):Ss(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xs{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xs(e)}static min(){return new xs(new ks(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ns(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Os(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Rs(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ds{constructor(e,t,n){void 0===t?t=0:t>e.length&&ls(),void 0===n?n=e.length-t:n>e.length-t&&ls(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ds.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ds?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ps extends Ds{construct(e,t,n){return new Ps(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ps(fs.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new Ps(t)}static emptyPath(){return new Ps([])}}const Ls=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ms extends Ds{construct(e,t,n){return new Ms(e,t,n)}static isValidIdentifier(e){return Ls.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ms.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ms(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ps(fs.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ps(fs.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ps(fs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new ps(fs.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ms(t)}static emptyPath(){return new Ms([])}}class Vs{constructor(e){this.fields=e,e.sort(Ms.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cs(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Fs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Fs(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Fs(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ss(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fs.EMPTY_BYTE_STRING=new Fs("");const Us=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(e){if(hs(!!e),"string"==typeof e){let t=0;const n=Us.exec(e);if(hs(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:qs(e.seconds),nanos:qs(e.nanos)}}function qs(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function zs(e){return"string"==typeof e?Fs.fromBase64String(e):Fs.fromUint8Array(e)}function Bs(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Zs(e){const t=e.mapValue.fields.__previous_value__;return Bs(t)?Zs(t):t}function Hs(e){const t=js(e.mapValue.fields.__local_write_time__.timestampValue);return new ks(t.seconds,t.nanos)}function $s(e){return null==e}function Gs(e){return 0===e&&1/e==-1/0}function Ws(e){return"number"==typeof e&&Number.isInteger(e)&&!Gs(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Ks{constructor(e){this.path=e}static fromPath(e){return new Ks(Ps.fromString(e))}static fromName(e){return new Ks(Ps.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Ps.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ps.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ks(new Ps(e.slice()))}}function Qs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bs(e)?4:10:ls()}function Ys(e,t){const n=Qs(e);if(n!==Qs(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Hs(e).isEqual(Hs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=js(e.timestampValue),r=js(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,zs(e.bytesValue).isEqual(zs(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return qs(e.geoPointValue.latitude)===qs(t.geoPointValue.latitude)&&qs(e.geoPointValue.longitude)===qs(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return qs(e.integerValue)===qs(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=qs(e.doubleValue),r=qs(t.doubleValue);return n===r?Gs(n)===Gs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Cs(e.arrayValue.values||[],t.arrayValue.values||[],Ys);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ns(n)!==Ns(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ys(n[i],r[i])))return!1;return!0}(e,t);default:return ls()}var r}function Js(e,t){return void 0!==(e.values||[]).find(e=>Ys(e,t))}function Xs(e,t){const n=Qs(e),r=Qs(t);if(n!==r)return Ss(n,r);switch(n){case 0:return 0;case 1:return Ss(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=qs(e.integerValue||e.doubleValue),r=qs(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return eo(e.timestampValue,t.timestampValue);case 4:return eo(Hs(e),Hs(t));case 5:return Ss(e.stringValue,t.stringValue);case 6:return function(e,t){const n=zs(e),r=zs(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ss(n[i],r[i]);if(0!==e)return e}return Ss(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ss(qs(e.latitude),qs(t.latitude));return 0!==n?n:Ss(qs(e.longitude),qs(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Xs(n[i],r[i]);if(e)return e}return Ss(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Ss(r[o],s[o]);if(0!==e)return e;const t=Xs(n[r[o]],i[s[o]]);if(0!==t)return t}return Ss(r.length,s.length)}(e.mapValue,t.mapValue);default:throw ls()}}function eo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ss(e,t);const n=js(e),r=js(t),i=Ss(n.seconds,r.seconds);return 0!==i?i:Ss(n.nanos,r.nanos)}function to(e){return no(e)}function no(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=js(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?zs(e.bytesValue).toBase64():"referenceValue"in e?Ks.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=no(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${no(e.fields[i])}`;return n+"}"}(e.mapValue):ls();var t}function ro(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function io(e){return!!e&&"integerValue"in e}function so(e){return!!e&&"arrayValue"in e}function oo(e){return!!e&&"nullValue"in e}function ao(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function uo(e){return!!e&&"mapValue"in e}function co(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Os(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=co(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=co(e.arrayValue.values[n]);return t}return Object.assign({},e)}class lo{constructor(e){this.value=e}static empty(){return new lo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!uo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=co(t)}setAll(e){let t=Ms.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=co(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());uo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ys(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];uo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Os(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new lo(co(this.value))}}function ho(e){const t=[];return Os(e.fields,(e,n)=>{const r=new Ms([e]);if(uo(n)){const e=ho(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Vs(t)}class fo{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new fo(e,0,xs.min(),lo.empty(),0)}static newFoundDocument(e,t,n){return new fo(e,1,t,n,0)}static newNoDocument(e,t){return new fo(e,2,t,lo.empty(),0)}static newUnknownDocument(e,t){return new fo(e,3,t,lo.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new fo(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class po{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function go(e,t=null,n=[],r=[],i=null,s=null,o=null){return new po(e,t,n,r,i,s,o)}function mo(e){const t=ds(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+to(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),$s(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=xo(t.startAt)),t.endAt&&(e+="|ub:",e+=xo(t.endAt)),t.A=e}return t.A}function yo(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!Oo(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if((n=e.filters[i]).op!==(r=t.filters[i]).op||!n.field.isEqual(r.field)||!Ys(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Do(e.startAt,t.startAt)&&Do(e.endAt,t.endAt)}function vo(e){return Ks.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class _o extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new wo(e,t,n):"array-contains"===t?new Eo(e,n):"in"===t?new So(e,n):"not-in"===t?new Co(e,n):"array-contains-any"===t?new Ao(e,n):new _o(e,t,n)}static R(e,t,n){return"in"===t?new bo(e,n):new Io(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Xs(t,this.value)):null!==t&&Qs(this.value)===Qs(t)&&this.P(Xs(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ls()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class wo extends _o{constructor(e,t,n){super(e,t,n),this.key=Ks.fromName(n.referenceValue)}matches(e){const t=Ks.comparator(e.key,this.key);return this.P(t)}}class bo extends _o{constructor(e,t){super(e,"in",t),this.keys=To(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Io extends _o{constructor(e,t){super(e,"not-in",t),this.keys=To(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function To(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Ks.fromName(e.referenceValue))}class Eo extends _o{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return so(t)&&Js(t.arrayValue,this.value)}}class So extends _o{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Js(this.value.arrayValue,t)}}class Co extends _o{constructor(e,t){super(e,"not-in",t)}matches(e){if(Js(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Js(this.value.arrayValue,t)}}class Ao extends _o{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!so(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Js(this.value.arrayValue,e))}}class ko{constructor(e,t){this.position=e,this.before=t}}function xo(e){return`${e.before?"b":"a"}:${e.position.map(e=>to(e)).join(",")}`}class No{constructor(e,t="asc"){this.field=e,this.dir=t}}function Oo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ro(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Ks.comparator(Ks.fromName(o.referenceValue),n.key):Xs(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Do(e,t){if(null===e)return null===t;if(null===t||e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ys(e.position[n],t.position[n]))return!1;return!0}class Po{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function Lo(e,t,n,r,i,s,o,a){return new Po(e,t,n,r,i,s,o,a)}function Mo(e){return new Po(e)}function Vo(e){return!$s(e.limit)&&"F"===e.limitType}function Fo(e){return!$s(e.limit)&&"L"===e.limitType}function Uo(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function jo(e){for(const t of e.filters)if(t.v())return t.field;return null}function qo(e){return null!==e.collectionGroup}function zo(e){const t=ds(e);if(null===t.V){t.V=[];const e=jo(t),n=Uo(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new No(e)),t.V.push(new No(Ms.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new No(Ms.keyField(),e))}}}return t.V}function Bo(e){const t=ds(e);if(!t.S)if("F"===t.limitType)t.S=go(t.path,t.collectionGroup,zo(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of zo(t))e.push(new No(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new ko(t.endAt.position,!t.endAt.before):null,r=t.startAt?new ko(t.startAt.position,!t.startAt.before):null;t.S=go(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function Zo(e,t,n){return new Po(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ho(e,t){return yo(Bo(e),Bo(t))&&e.limitType===t.limitType}function $o(e){return`${mo(Bo(e))}|lt:${e.limitType}`}function Go(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${to(t.value)}`;var t}).join(", ")}]`),$s(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: "+xo(e.startAt)),e.endAt&&(t+=", endAt: "+xo(e.endAt)),`Target(${t})`}(Bo(e))}; limitType=${e.limitType})`}function Wo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ks.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!Ro(n.startAt,zo(n),r)||n.endAt&&Ro(n.endAt,zo(n),r)));var n,r}function Ko(e){return(t,n)=>{let r=!1;for(const i of zo(e)){const e=Qo(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Qo(e,t,n){const r=e.field.isKeyField()?Ks.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Xs(r,i):ls()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ls()}}function Yo(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gs(t)?"-0":t}}function Jo(e){return{integerValue:""+e}}function Xo(e,t){return Ws(t)?Jo(t):Yo(e,t)}class ea{constructor(){this._=void 0}}function ta(e,t,n){return e instanceof ia?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof sa?oa(e,t):e instanceof aa?ua(e,t):function(e,t){const n=ra(e,t),r=la(n)+la(e.C);return io(n)&&io(e.C)?Jo(r):Yo(e.N,r)}(e,t)}function na(e,t,n){return e instanceof sa?oa(e,t):e instanceof aa?ua(e,t):n}function ra(e,t){return e instanceof ca?io(r=t)||(n=r)&&"doubleValue"in n?t:{integerValue:0}:null;var n,r}class ia extends ea{}class sa extends ea{constructor(e){super(),this.elements=e}}function oa(e,t){const n=ha(t);for(const r of e.elements)n.some(e=>Ys(e,r))||n.push(r);return{arrayValue:{values:n}}}class aa extends ea{constructor(e){super(),this.elements=e}}function ua(e,t){let n=ha(t);for(const r of e.elements)n=n.filter(e=>!Ys(e,r));return{arrayValue:{values:n}}}class ca extends ea{constructor(e,t){super(),this.N=e,this.C=t}}function la(e){return qs(e.integerValue||e.doubleValue)}function ha(e){return so(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class da{constructor(e,t){this.field=e,this.transform=t}}class fa{constructor(e,t){this.version=e,this.transformResults=t}}class pa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pa}static exists(e){return new pa(void 0,e)}static updateTime(e){return new pa(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ga(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ma{}function ya(e,t,n){e instanceof Ia?function(e,t,n){const r=e.value.clone(),i=Sa(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ta?function(e,t,n){if(!ga(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Sa(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ea(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}function va(e,t,n){var r;e instanceof Ia?function(e,t,n){if(!ga(e.precondition,t))return;const r=e.value.clone(),i=Ca(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(ba(t),r).setHasLocalMutations()}(e,t,n):e instanceof Ta?function(e,t,n){if(!ga(e.precondition,t))return;const r=Ca(e.fieldTransforms,n,t),i=t.data;i.setAll(Ea(e)),i.setAll(r),t.convertToFoundDocument(ba(t),i).setHasLocalMutations()}(e,t,n):ga(e.precondition,r=t)&&r.convertToNoDocument(xs.min())}function _a(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ra(r.transform,e||null);null!=i&&(null==n&&(n=lo.empty()),n.set(r.field,i))}return n||null}function wa(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(n=e.fieldTransforms)&&void 0===r||n&&r&&Cs(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(r=t.transform,(n=e.transform)instanceof sa&&r instanceof sa||n instanceof aa&&r instanceof aa?Cs(n.elements,r.elements,Ys):n instanceof ca&&r instanceof ca?Ys(n.C,r.C):n instanceof ia&&r instanceof ia);var n,r}(e,t))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function ba(e){return e.isFoundDocument()?e.version:xs.min()}class Ia extends ma{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Ta extends ma{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Ea(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Sa(e,t,n){const r=new Map;hs(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,na(o,a,n[i]))}return r}function Ca(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,ta(e,s,t))}return r}class Aa extends ma{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class ka extends ma{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class xa{constructor(e){this.count=e}}var Na,Oa;function Ra(e){switch(e){case fs.OK:return ls();case fs.CANCELLED:case fs.UNKNOWN:case fs.DEADLINE_EXCEEDED:case fs.RESOURCE_EXHAUSTED:case fs.INTERNAL:case fs.UNAVAILABLE:case fs.UNAUTHENTICATED:return!1;case fs.INVALID_ARGUMENT:case fs.NOT_FOUND:case fs.ALREADY_EXISTS:case fs.PERMISSION_DENIED:case fs.FAILED_PRECONDITION:case fs.ABORTED:case fs.OUT_OF_RANGE:case fs.UNIMPLEMENTED:case fs.DATA_LOSS:return!0;default:return ls()}}function Da(e){if(void 0===e)return as("GRPC error has no .code"),fs.UNKNOWN;switch(e){case Na.OK:return fs.OK;case Na.CANCELLED:return fs.CANCELLED;case Na.UNKNOWN:return fs.UNKNOWN;case Na.DEADLINE_EXCEEDED:return fs.DEADLINE_EXCEEDED;case Na.RESOURCE_EXHAUSTED:return fs.RESOURCE_EXHAUSTED;case Na.INTERNAL:return fs.INTERNAL;case Na.UNAVAILABLE:return fs.UNAVAILABLE;case Na.UNAUTHENTICATED:return fs.UNAUTHENTICATED;case Na.INVALID_ARGUMENT:return fs.INVALID_ARGUMENT;case Na.NOT_FOUND:return fs.NOT_FOUND;case Na.ALREADY_EXISTS:return fs.ALREADY_EXISTS;case Na.PERMISSION_DENIED:return fs.PERMISSION_DENIED;case Na.FAILED_PRECONDITION:return fs.FAILED_PRECONDITION;case Na.ABORTED:return fs.ABORTED;case Na.OUT_OF_RANGE:return fs.OUT_OF_RANGE;case Na.UNIMPLEMENTED:return fs.UNIMPLEMENTED;case Na.DATA_LOSS:return fs.DATA_LOSS;default:return ls()}}(Oa=Na||(Na={}))[Oa.OK=0]="OK",Oa[Oa.CANCELLED=1]="CANCELLED",Oa[Oa.UNKNOWN=2]="UNKNOWN",Oa[Oa.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oa[Oa.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oa[Oa.NOT_FOUND=5]="NOT_FOUND",Oa[Oa.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oa[Oa.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oa[Oa.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oa[Oa.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oa[Oa.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oa[Oa.ABORTED=10]="ABORTED",Oa[Oa.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oa[Oa.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oa[Oa.INTERNAL=13]="INTERNAL",Oa[Oa.UNAVAILABLE=14]="UNAVAILABLE",Oa[Oa.DATA_LOSS=15]="DATA_LOSS";class Pa{constructor(e,t){this.comparator=e,this.root=t||Ma.EMPTY}insert(e,t){return new Pa(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ma.BLACK,null,null))}remove(e){return new Pa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ma.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new La(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new La(this.root,e,this.comparator,!1)}getReverseIterator(){return new La(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new La(this.root,e,this.comparator,!0)}}class La{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ma{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ma.RED,this.left=null!=r?r:Ma.EMPTY,this.right=null!=i?i:Ma.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ma(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ma.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ma.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ma.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ma.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ls();const e=this.left.check();if(e!==this.right.check())throw ls();return e+(this.isRed()?0:1)}}Ma.EMPTY=null,Ma.RED=!0,Ma.BLACK=!1,Ma.EMPTY=new class{constructor(){this.size=0}get key(){throw ls()}get value(){throw ls()}get color(){throw ls()}get left(){throw ls()}get right(){throw ls()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ma(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Va{constructor(e){this.comparator=e,this.data=new Pa(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fa(this.data.getIterator())}getIteratorFrom(e){return new Fa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Va)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Va(this.comparator);return t.data=e,t}}class Fa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Ua=new Pa(Ks.comparator);function ja(){return Ua}const qa=new Pa(Ks.comparator);function za(){return qa}const Ba=new Pa(Ks.comparator);function Za(){return Ba}const Ha=new Va(Ks.comparator);function $a(...e){let t=Ha;for(const n of e)t=t.add(n);return t}const Ga=new Va(Ss);function Wa(){return Ga}class Ka{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Qa.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ka(xs.min(),n,Wa(),ja(),$a())}}class Qa{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Qa(Fs.EMPTY_BYTE_STRING,t,$a(),$a(),$a())}}class Ya{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class Ja{constructor(e,t){this.targetId=e,this.O=t}}class Xa{constructor(e,t,n=Fs.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class eu{constructor(){this.F=0,this.M=ru(),this.L=Fs.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=$a(),t=$a(),n=$a();return this.M.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ls()}}),new Qa(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=ru()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class tu{constructor(e){this.tt=e,this.et=new Map,this.nt=ja(),this.st=nu(),this.it=new Va(Ss)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:ls()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((e,n)=>{this.ht(n)&&t(n)})}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(vo(e))if(0===n){const n=new Ks(e.path);this.at(t,n,fo.newNoDocument(n,xs.min()))}else hs(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((n,r)=>{const i=this.dt(r);if(i){if(n.current&&vo(i.target)){const t=new Ks(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,fo.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}});let n=$a();this.st.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))});const r=new Ka(e,t,this.it,this.nt,n);return this.nt=ja(),this.st=nu(),this.it=new Va(Ss),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new eu,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new Va(Ss),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||os("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Et(e)}lt(e){this.et.set(e,new eu),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function nu(){return new Pa(Ks.comparator)}function ru(){return new Pa(Ks.comparator)}const iu={asc:"ASCENDING",desc:"DESCENDING"},su={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ou{constructor(e,t){this.databaseId=e,this.D=t}}function au(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uu(e,t){return e.D?t.toBase64():t.toUint8Array()}function cu(e,t){return au(e,t.toTimestamp())}function lu(e){return hs(!!e),xs.fromTimestamp(function(e){const t=js(e);return new ks(t.seconds,t.nanos)}(e))}function hu(e,t){return(n=e,new Ps(["projects",n.projectId,"databases",n.database])).child("documents").child(t).canonicalString();var n}function du(e){const t=Ps.fromString(e);return hs(Mu(t)),t}function fu(e,t){return hu(e.databaseId,t.path)}function pu(e,t){const n=du(t);if(n.get(1)!==e.databaseId.projectId)throw new ps(fs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ps(fs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ks(vu(n))}function gu(e,t){return hu(e.databaseId,t)}function mu(e){const t=du(e);return 4===t.length?Ps.emptyPath():vu(t)}function yu(e){return new Ps(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vu(e){return hs(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function _u(e,t,n){return{name:fu(e,t),fields:n.value.mapValue.fields}}function wu(e,t,n){const r=pu(e,t.name),i=lu(t.updateTime),s=new lo({mapValue:{fields:t.fields}}),o=fo.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function bu(e,t){let n;if(t instanceof Ia)n={update:_u(e,t.key,t.value)};else if(t instanceof Aa)n={delete:fu(e,t.key)};else if(t instanceof Ta)n={update:_u(e,t.key,t.data),updateMask:Lu(t.fieldMask)};else{if(!(t instanceof ka))return ls();n={verify:fu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ia)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sa)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof aa)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ca)return{fieldPath:t.field.canonicalString(),increment:n.C};throw ls()}(0,e))),t.precondition.isNone||(n.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:cu(e,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ls()),n;var r}function Iu(e,t){const n=t.currentDocument?void 0!==(i=t.currentDocument).updateTime?pa.updateTime(lu(i.updateTime)):void 0!==i.exists?pa.exists(i.exists):pa.none():pa.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(hs("REQUEST_TIME"===t.setToServerValue),n=new ia):"appendMissingElements"in t?n=new sa(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new aa(t.removeAllFromArray.values||[]):"increment"in t?n=new ca(e,t.increment):ls();const r=Ms.fromServerFormat(t.fieldPath);return new da(r,n)}(e,t)):[];var i;if(t.update){const i=pu(e,t.update.name),s=new lo({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=new Vs((t.updateMask.fieldPaths||[]).map(e=>Ms.fromServerFormat(e)));return new Ta(i,s,e,n,r)}return new Ia(i,s,n,r)}if(t.delete){const r=pu(e,t.delete);return new Aa(r,n)}if(t.verify){const r=pu(e,t.verify);return new ka(r,n)}return ls()}function Tu(e,t){return{documents:[gu(e,t.path)]}}function Eu(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=gu(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=gu(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(ao(e.value))return{unaryFilter:{field:Ou(e.field),op:"IS_NAN"}};if(oo(e.value))return{unaryFilter:{field:Ou(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ao(e.value))return{unaryFilter:{field:Ou(e.field),op:"IS_NOT_NAN"}};if(oo(e.value))return{unaryFilter:{field:Ou(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ou(e.field),op:Nu(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>{return{field:Ou((t=e).field),direction:xu(t.dir)};var t})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(a=t.limit,e.D||$s(a)?a:{value:a});var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Au(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Au(t.endAt)),n}function Su(e){let t=mu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){hs(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Cu(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>{return new No(Ru((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,$s(t)?null:t}(n.limit));let u=null;n.startAt&&(u=ku(n.startAt));let c=null;return n.endAt&&(c=ku(n.endAt)),Lo(t,i,o,s,a,"F",u,c)}function Cu(e){return e?void 0!==e.unaryFilter?[Pu(e)]:void 0!==e.fieldFilter?[Du(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>Cu(e)).reduce((e,t)=>e.concat(t)):ls():[]}function Au(e){return{before:e.before,values:e.position}}function ku(e){return new ko(e.values||[],!!e.before)}function xu(e){return iu[e]}function Nu(e){return su[e]}function Ou(e){return{fieldPath:e.canonicalString()}}function Ru(e){return Ms.fromServerFormat(e.fieldPath)}function Du(e){return _o.create(Ru(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ls()}}(e.fieldFilter.op),e.fieldFilter.value)}function Pu(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ru(e.unaryFilter.field);return _o.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ru(e.unaryFilter.field);return _o.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ru(e.unaryFilter.field);return _o.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ru(e.unaryFilter.field);return _o.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ls()}}function Lu(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Mu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Vu(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Uu(t)),t=Fu(e.get(n),t);return Uu(t)}function Fu(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Uu(e){return e+"\x01\x01"}function ju(e){const t=e.length;if(hs(t>=2),2===t)return hs("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ps.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&ls(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:ls()}s=t+2}return new Ps(r)}class qu{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class zu{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}zu.store="owner",zu.key="owner";class Bu{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}Bu.store="mutationQueues",Bu.keyPath="userId";class Zu{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Zu.store="mutations",Zu.keyPath="batchId",Zu.userMutationsIndex="userMutationsIndex",Zu.userMutationsKeyPath=["userId","batchId"];class Hu{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Vu(t)]}static key(e,t,n){return[e,Vu(t),n]}}Hu.store="documentMutations",Hu.PLACEHOLDER=new Hu;class $u{constructor(e,t){this.path=e,this.readTime=t}}class Gu{constructor(e,t){this.path=e,this.version=t}}class Wu{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}Wu.store="remoteDocuments",Wu.readTimeIndex="readTimeIndex",Wu.readTimeIndexPath="readTime",Wu.collectionReadTimeIndex="collectionReadTimeIndex",Wu.collectionReadTimeIndexPath=["parentPath","readTime"];class Ku{constructor(e){this.byteSize=e}}Ku.store="remoteDocumentGlobal",Ku.key="remoteDocumentGlobalKey";class Qu{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Qu.store="targets",Qu.keyPath="targetId",Qu.queryTargetsIndexName="queryTargetsIndex",Qu.queryTargetsKeyPath=["canonicalId","targetId"];class Yu{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Yu.store="targetDocuments",Yu.keyPath=["targetId","path"],Yu.documentTargetsIndex="documentTargetsIndex",Yu.documentTargetsKeyPath=["path","targetId"];class Ju{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}Ju.key="targetGlobalKey",Ju.store="targetGlobal";class Xu{constructor(e,t){this.collectionId=e,this.parent=t}}Xu.store="collectionParents",Xu.keyPath=["collectionId","parent"];class ec{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}ec.store="clientMetadata",ec.keyPath="clientId";class tc{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}tc.store="bundles",tc.keyPath="bundleId";class nc{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}nc.store="namedQueries",nc.keyPath="name";const rc=[Bu.store,Zu.store,Hu.store,Wu.store,Qu.store,zu.store,Ju.store,Yu.store,ec.store,Ku.store,Xu.store,tc.store,nc.store],ic="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class oc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ls(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oc((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oc?t:oc.resolve(t)}catch(t){return oc.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oc.reject(t)}static resolve(e){return new oc((t,n)=>{t(e)})}static reject(e){return new oc((t,n)=>{n(e)})}static waitFor(e){return new oc((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=oc.resolve(!1);for(const n of e)t=t.next(e=>e?oc.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class ac{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Tt=new gs,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{t.error?this.Tt.reject(new lc(e,t.error)):this.Tt.resolve()},this.transaction.onerror=t=>{const n=gc(t.target.error);this.Tt.reject(new lc(e,n))}}static open(e,t,n,r){try{return new ac(t,e.transaction(r,n))}catch(i){throw new lc(t,i)}}get It(){return this.Tt.promise}abort(e){e&&this.Tt.reject(e),this.aborted||(os("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new dc(t)}}class uc{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===uc.Rt((0,Ze.z$)())&&as("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return os("SimpleDb","Removing database:",e),fc(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(uc.Pt())return!0;const e=(0,Ze.z$)(),t=uc.Rt(e),n=0<t&&t<10,r=uc.vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Dt(e){var t=this;return(0,je.Z)(function*(){return t.db||(os("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,r)=>{const i=indexedDB.open(t.name,t.version);i.onsuccess=e=>{n(e.target.result)},i.onblocked=()=>{r(new lc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const n=t.target.error;r("VersionError"===n.name?new ps(fs.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new ps(fs.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new lc(e,n))},i.onupgradeneeded=e=>{os("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.At.Ct(e.target.result,i.transaction,e.oldVersion,t.version).next(()=>{os("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=e=>t.Nt(e)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,r){var i=this;return(0,je.Z)(function*(){const s="readonly"===t;let o=0;for(;;){++o;try{i.db=yield i.Dt(e);const t=ac.open(i.db,e,s?"readonly":"readwrite",n),o=r(t).catch(e=>(t.abort(e),oc.reject(e))).toPromise();return o.catch(()=>{}),yield t.It,o}catch(a){const e="FirebaseError"!==a.name&&o<3;if(os("SimpleDb","Transaction failed with error:",a.message,"Retrying:",e),i.close(),!e)return Promise.reject(a)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class cc{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return fc(this.kt.delete())}}class lc extends ps{constructor(e,t){super(fs.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function hc(e){return"IndexedDbTransactionError"===e.name}class dc{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(os("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(os("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),fc(n)}add(e){return os("SimpleDb","ADD",this.store.name,e,e),fc(this.store.add(e))}get(e){return fc(this.store.get(e)).next(t=>(void 0===t&&(t=null),os("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return os("SimpleDb","DELETE",this.store.name,e),fc(this.store.delete(e))}count(){return os("SimpleDb","COUNT",this.store.name),fc(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(e,t)=>{r.push(t)}).next(()=>r)}Ut(e,t){os("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;const r=this.cursor(n);return this.Bt(r,(e,t,n)=>n.delete())}Kt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Bt(r,t)}jt(e){const t=this.cursor({});return new oc((n,r)=>{t.onerror=e=>{const t=gc(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Bt(e,t){const n=[];return new oc((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new cc(i),o=t(i.primaryKey,i.value,s);if(o instanceof oc){const e=o.catch(e=>(s.done(),oc.reject(e)));n.push(e)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}}).next(()=>oc.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function fc(e){return new oc((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=gc(e.target.error);n(t)}})}let pc=!1;function gc(e){const t=uc.Rt((0,Ze.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new ps("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return pc||(pc=!0,setTimeout(()=>{throw e},0)),e}}return e}class mc extends sc{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function yc(e,t){const n=ds(e);return uc.St(n.Qt,t)}class vc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ya(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&va(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&va(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(xs.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$a())}isEqual(e){return this.batchId===e.batchId&&Cs(this.mutations,e.mutations,(e,t)=>wa(e,t))&&Cs(this.baseMutations,e.baseMutations,(e,t)=>wa(e,t))}}class _c{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){hs(e.mutations.length===n.length);let r=Za();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new _c(e,t,n,r)}}class wc{constructor(e,t,n,r,i=xs.min(),s=xs.min(),o=Fs.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new wc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new wc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new wc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class bc{constructor(e){this.Wt=e}}function Ic(e,t){if(t.document)return wu(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Ks.fromSegments(t.noDocument.path),n=Ac(t.noDocument.readTime),r=fo.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=Ks.fromSegments(t.unknownDocument.path),n=Ac(t.unknownDocument.version);return fo.newUnknownDocument(e,n)}return ls()}function Tc(e,t,n){const r=Ec(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n={name:fu(s=e.Wt,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:au(s,o.version.toTimestamp())};return new Wu(null,null,n,t.hasCommittedMutations,r,i)}var s,o;if(t.isNoDocument()){const e=t.key.path.toArray(),n=Cc(t.version),s=t.hasCommittedMutations;return new Wu(null,new $u(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=Cc(t.version);return new Wu(new Gu(e,n),null,null,!0,r,i)}return ls()}function Ec(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Sc(e){const t=new ks(e[0],e[1]);return xs.fromTimestamp(t)}function Cc(e){const t=e.toTimestamp();return new qu(t.seconds,t.nanoseconds)}function Ac(e){const t=new ks(e.seconds,e.nanoseconds);return xs.fromTimestamp(t)}function kc(e,t){const n=(t.baseMutations||[]).map(t=>Iu(e.Wt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(e.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(t=>Iu(e.Wt,t)),i=ks.fromMillis(t.localWriteTimeMs);return new vc(t.batchId,i,n,r)}function xc(e){const t=Ac(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Ac(e.lastLimboFreeSnapshotVersion):xs.min();let r;var i;return void 0!==e.query.documents?(hs(1===(i=e.query).documents.length),r=Bo(Mo(mu(i.documents[0])))):r=Bo(Su(e.query)),new wc(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Fs.fromBase64String(e.resumeToken))}function Nc(e,t){const n=Cc(t.snapshotVersion),r=Cc(t.lastLimboFreeSnapshotVersion);let i;i=vo(t.target)?Tu(e.Wt,t.target):Eu(e.Wt,t.target);const s=t.resumeToken.toBase64();return new Qu(t.targetId,mo(t.target),n,s,t.sequenceNumber,r,i)}function Oc(e){const t=Su({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Zo(t,t.limit,"L"):t}class Rc{getBundleMetadata(e,t){return Dc(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:Ac(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return Dc(e).put({bundleId:(n=t).id,createTime:Cc(lu(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Pc(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:Oc(t.bundledQuery),readTime:Ac(t.readTime)};var t})}saveNamedQuery(e,t){return Pc(e).put({name:(n=t).name,readTime:Cc(lu(n.readTime)),bundledQuery:n.bundledQuery});var n}}function Dc(e){return yc(e,tc.store)}function Pc(e){return yc(e,nc.store)}class Lc{constructor(){this.Gt=new Mc}addToCollectionParentIndex(e,t){return this.Gt.add(t),oc.resolve()}getCollectionParents(e,t){return oc.resolve(this.Gt.getEntries(t))}}class Mc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Va(Ps.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Va(Ps.comparator)).toArray()}}class Vc{constructor(){this.zt=new Mc}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const i={collectionId:n,parent:Vu(r)};return Fc(e).put(i)}return oc.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[As(t),""],!1,!0);return Fc(e).Lt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(ju(r.parent))}return n})}}function Fc(e){return yc(e,Xu.store)}const Uc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class jc{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new jc(e,jc.DEFAULT_COLLECTION_PERCENTILE,jc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qc(e,t,n){const r=e.store(Zu.store),i=e.store(Hu.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Kt({range:o},(e,t,n)=>(a++,n.delete()));s.push(u.next(()=>{hs(1===a)}));const c=[];for(const l of n.mutations){const e=Hu.key(t,l.key.path,n.batchId);s.push(i.delete(e)),c.push(l.key)}return oc.waitFor(s).next(()=>c)}function zc(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ls();t=e.noDocument}return JSON.stringify(t).length}jc.DEFAULT_COLLECTION_PERCENTILE=10,jc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jc.DEFAULT=new jc(41943040,jc.DEFAULT_COLLECTION_PERCENTILE,jc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jc.DISABLED=new jc(-1,0,0);class Bc{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){hs(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Bc(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hc(e).Kt({index:Zu.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=$c(e),s=Hc(e);return s.add({}).next(o=>{hs("number"==typeof o);const a=new vc(o,t,n,r),u=function(e,t,n){const r=n.baseMutations.map(t=>bu(e.Wt,t)),i=n.mutations.map(t=>bu(e.Wt,t));return new Zu(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),c=[];let l=new Va((e,t)=>Ss(e.canonicalString(),t.canonicalString()));for(const e of r){const t=Hu.key(this.userId,e.key.path,o);l=l.add(e.key.path.popLast()),c.push(s.put(u)),c.push(i.put(t,Hu.PLACEHOLDER))}return l.forEach(t=>{c.push(this.Ht.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),oc.waitFor(c).next(()=>a)})}lookupMutationBatch(e,t){return Hc(e).get(t).next(e=>e?(hs(e.userId===this.userId),kc(this.N,e)):null)}Xt(e,t){return this.Jt[t]?oc.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Jt[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Hc(e).Kt({index:Zu.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(hs(t.batchId>=n),i=kc(this.N,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Hc(e).Kt({index:Zu.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hc(e).Lt(Zu.userMutationsIndex,t).next(e=>e.map(e=>kc(this.N,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Hu.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return $c(e).Kt({range:r},(n,r,s)=>{const[o,a,u]=n,c=ju(a);if(o===this.userId&&t.path.isEqual(c))return Hc(e).get(u).next(e=>{if(!e)throw ls();hs(e.userId===this.userId),i.push(kc(this.N,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Va(Ss);const r=[];return t.forEach(t=>{const i=Hu.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=$c(e).Kt({range:s},(e,r,i)=>{const[s,o,a]=e,u=ju(o);s===this.userId&&t.path.isEqual(u)?n=n.add(a):i.done()});r.push(o)}),oc.waitFor(r).next(()=>this.Zt(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Hu.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Va(Ss);return $c(e).Kt({range:s},(e,t,i)=>{const[s,a,u]=e,c=ju(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(u)):i.done()}).next(()=>this.Zt(e,o))}Zt(e,t){const n=[],r=[];return t.forEach(t=>{r.push(Hc(e).get(t).next(e=>{if(null===e)throw ls();hs(e.userId===this.userId),n.push(kc(this.N,e))}))}),oc.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return qc(e.Qt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),oc.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return oc.resolve();const n=IDBKeyRange.lowerBound(Hu.prefixForUser(this.userId)),r=[];return $c(e).Kt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=ju(e[1]);r.push(t)}else n.done()}).next(()=>{hs(0===r.length)})})}containsKey(e,t){return Zc(e,this.userId,t)}ee(e){return Gc(e).get(this.userId).next(e=>e||new Bu(this.userId,-1,""))}}function Zc(e,t,n){const r=Hu.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return $c(e).Kt({range:s,qt:!0},(e,n,r)=>{const[s,a,u]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function Hc(e){return yc(e,Zu.store)}function $c(e){return yc(e,Hu.store)}function Gc(e){return yc(e,Bu.store)}class Wc{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Wc(0)}static ie(){return new Wc(-1)}}class Kc{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const n=new Wc(t.highestTargetId);return t.highestTargetId=n.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(e=>xs.fromTimestamp(new ks(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.re(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.oe(e,r)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(n=>(n.targetCount+=1,this.ce(t,n),this.oe(e,n))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Qc(e).delete(t.targetId)).next(()=>this.re(e)).next(t=>(hs(t.targetCount>0),t.targetCount-=1,this.oe(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return Qc(e).Kt((s,o)=>{const a=xc(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>oc.waitFor(i)).next(()=>r)}forEachTarget(e,t){return Qc(e).Kt((e,n)=>{const r=xc(n);t(r)})}re(e){return Yc(e).get(Ju.key).next(e=>(hs(null!==e),e))}oe(e,t){return Yc(e).put(Ju.key,t)}ae(e,t){return Qc(e).put(Nc(this.N,t))}ce(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next(e=>e.targetCount)}getTargetData(e,t){const n=mo(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Qc(e).Kt({range:r,index:Qu.queryTargetsIndexName},(e,n,r)=>{const s=xc(n);yo(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=Jc(e);return t.forEach(t=>{const s=Vu(t.path);r.push(i.put(new Yu(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))}),oc.waitFor(r)}removeMatchingKeys(e,t,n){const r=Jc(e);return oc.forEach(t,t=>{const i=Vu(t.path);return oc.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=Jc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Jc(e);let i=$a();return r.Kt({range:n,qt:!0},(e,t,n)=>{const r=ju(e[1]),s=new Ks(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=Vu(t.path),r=IDBKeyRange.bound([n],[As(n)],!1,!0);let i=0;return Jc(e).Kt({index:Yu.documentTargetsIndex,qt:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}Et(e,t){return Qc(e).get(t).next(e=>e?xc(e):null)}}function Qc(e){return yc(e,Qu.store)}function Yc(e){return yc(e,Ju.store)}function Jc(e){return yc(e,Yu.store)}function Xc(e){return el.apply(this,arguments)}function el(){return el=(0,je.Z)(function*(e){if(e.code!==fs.FAILED_PRECONDITION||e.message!==ic)throw e;os("LocalStore","Unexpectedly lost primary lease")}),el.apply(this,arguments)}function tl([e,t],[n,r]){const i=Ss(e,n);return 0===i?Ss(t,r):i}class nl{constructor(e){this.ue=e,this.buffer=new Va(tl),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();tl(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rl{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const n=this.de?3e5:6e4;os("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,je.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(n){hc(n)?os("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Xc(n)}yield t._e(e)}))}}class il{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return oc.resolve(Is.T);const n=new nl(t);return this.me.forEachTarget(e,e=>n.fe(e.sequenceNumber)).next(()=>this.me.ye(e,e=>n.fe(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(os("LruGarbageCollector","Garbage collection skipped; disabled"),oc.resolve(Uc)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(os("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uc):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let n,r,i,s,o,a,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(os("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(u=Date.now(),ss()<=Be.in.DEBUG&&os("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+`ms\n\tRemoved ${i} targets in `+(a-o)+`ms\n\tRemoved ${e} documents in `+(u-a)+`ms\nTotal Duration: ${u-c}ms`),oc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class sl{constructor(e,t){this.db=e,this.garbageCollector=new il(this,t)}ge(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Ee(e){let t=0;return this.ye(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Te(e,(e,n)=>t(n))}addReference(e,t,n){return ol(e,n)}removeReference(e,t,n){return ol(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return ol(e,t)}Ie(e,t){return function(e,t){let n=!1;return Gc(e).jt(r=>Zc(e,r,t).next(e=>(e&&(n=!0),oc.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Te(e,(s,o)=>{if(o<=t){const t=this.Ie(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s),Jc(e).delete([0,Vu(s.path)])))});r.push(t)}}).next(()=>oc.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return ol(e,t)}Te(e,t){const n=Jc(e);let r,i=Is.T;return n.Kt({index:Yu.documentTargetsIndex},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==Is.T&&t(new Ks(ju(r)),i),i=o,r=s):i=Is.T}).next(()=>{i!==Is.T&&t(new Ks(ju(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ol(e,t){return Jc(e).put((n=e.currentSequenceNumber,new Yu(0,Vu(t.path),n)));var n}class al{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){Os(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Rs(this.inner)}}class ul{constructor(){this.changes=new al(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:xs.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:fo.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?oc.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cl{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return dl(e).put(fl(t),n)}removeEntry(e,t){const n=dl(e),r=fl(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Ae(e,n)))}getEntry(e,t){return dl(e).get(fl(t)).next(e=>this.Re(t,e))}be(e,t){return dl(e).get(fl(t)).next(e=>({document:this.Re(t,e),size:zc(e)}))}getEntries(e,t){let n=ja();return this.Pe(e,t,(e,t)=>{const r=this.Re(e,t);n=n.insert(e,r)}).next(()=>n)}ve(e,t){let n=ja(),r=new Pa(Ks.comparator);return this.Pe(e,t,(e,t)=>{const i=this.Re(e,t);n=n.insert(e,i),r=r.insert(e,zc(t))}).next(()=>({documents:n,Ve:r}))}Pe(e,t,n){if(t.isEmpty())return oc.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return dl(e).Kt({range:r},(e,t,r)=>{const o=Ks.fromSegments(e);for(;s&&Ks.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(e,t,n){let r=ja();const i=t.path.length+1,s={};if(n.isEqual(xs.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=Ec(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=Wu.collectionReadTimeIndex}return dl(e).Kt(s,(e,n,s)=>{if(e.length!==i)return;const o=Ic(this.N,n);t.path.isPrefixOf(o.key.path)?Wo(t,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(e){return new ll(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return hl(e).get(Ku.key).next(e=>(hs(!!e),e))}Ae(e,t){return hl(e).put(Ku.key,t)}Re(e,t){if(t){const e=Ic(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(xs.min()))return e}return fo.newInvalidDocument(e)}}class ll extends ul{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new al(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new Va((e,t)=>Ss(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=Tc(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast()),n+=zc(a)-o,t.push(this.Se.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=Tc(this.Se.N,fo.newNoDocument(i,xs.min()),this.getReadTime(i));t.push(this.Se.addEntry(e,i,n))}else t.push(this.Se.removeEntry(e,i))}),r.forEach(n=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,n))}),t.push(this.Se.updateMetadata(e,n)),oc.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(e=>(this.De.set(t,e.size),e.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:e,Ve:t})=>(t.forEach((e,t)=>{this.De.set(e,t)}),e))}}function hl(e){return yc(e,Ku.store)}function dl(e){return yc(e,Wu.store)}function fl(e){return e.path.toArray()}class pl{constructor(e){this.N=e}Ct(e,t,n,r){hs(n<r&&n>=0&&r<=11);const i=new ac("createOrUpgrade",t);var s;n<1&&r>=1&&(e.createObjectStore(zu.store),(s=e).createObjectStore(Bu.store,{keyPath:Bu.keyPath}),s.createObjectStore(Zu.store,{keyPath:Zu.keyPath,autoIncrement:!0}).createIndex(Zu.userMutationsIndex,Zu.userMutationsKeyPath,{unique:!0}),s.createObjectStore(Hu.store),gl(e),function(e){e.createObjectStore(Wu.store)}(e));let o=oc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Yu.store),e.deleteObjectStore(Qu.store),e.deleteObjectStore(Ju.store)}(e),gl(e)),o=o.next(()=>function(e){const t=e.store(Ju.store),n=new Ju(0,0,xs.min().toTimestamp(),0);return t.put(Ju.key,n)}(i))),n<4&&r>=4&&(0!==n&&(o=o.next(()=>function(e,t){return t.store(Zu.store).Lt().next(n=>{e.deleteObjectStore(Zu.store),e.createObjectStore(Zu.store,{keyPath:Zu.keyPath,autoIncrement:!0}).createIndex(Zu.userMutationsIndex,Zu.userMutationsKeyPath,{unique:!0});const r=t.store(Zu.store),i=n.map(e=>r.put(e));return oc.waitFor(i)})}(e,i))),o=o.next(()=>{!function(e){e.createObjectStore(ec.store,{keyPath:ec.keyPath})}(e)})),n<5&&r>=5&&(o=o.next(()=>this.Ce(i))),n<6&&r>=6&&(o=o.next(()=>(function(e){e.createObjectStore(Ku.store)}(e),this.Ne(i)))),n<7&&r>=7&&(o=o.next(()=>this.xe(i))),n<8&&r>=8&&(o=o.next(()=>this.ke(e,i))),n<9&&r>=9&&(o=o.next(()=>{(function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")})(e),function(e){const t=e.objectStore(Wu.store);t.createIndex(Wu.readTimeIndex,Wu.readTimeIndexPath,{unique:!1}),t.createIndex(Wu.collectionReadTimeIndex,Wu.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(o=o.next(()=>this.$e(i))),n<11&&r>=11&&(o=o.next(()=>{(function(e){e.createObjectStore(tc.store,{keyPath:tc.keyPath})})(e),function(e){e.createObjectStore(nc.store,{keyPath:nc.keyPath})}(e)})),o}Ne(e){let t=0;return e.store(Wu.store).Kt((e,n)=>{t+=zc(n)}).next(()=>{const n=new Ku(t);return e.store(Ku.store).put(Ku.key,n)})}Ce(e){const t=e.store(Bu.store),n=e.store(Zu.store);return t.Lt().next(t=>oc.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Lt(Zu.userMutationsIndex,r).next(n=>oc.forEach(n,n=>{hs(n.userId===t.userId);const r=kc(this.N,n);return qc(e,t.userId,r).next(()=>{})}))}))}xe(e){const t=e.store(Yu.store),n=e.store(Wu.store);return e.store(Ju.store).get(Ju.key).next(e=>{const r=[];return n.Kt((n,i)=>{const s=new Ps(n),o=[0,Vu(s)];r.push(t.get(o).next(n=>n?oc.resolve():t.put(new Yu(0,Vu(s),e.highestListenSequenceNumber))))}).next(()=>oc.waitFor(r))})}ke(e,t){e.createObjectStore(Xu.store,{keyPath:Xu.keyPath});const n=t.store(Xu.store),r=new Mc,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Vu(r)})}};return t.store(Wu.store).Kt({qt:!0},(e,t)=>{const n=new Ps(e);return i(n.popLast())}).next(()=>t.store(Hu.store).Kt({qt:!0},([e,t,n],r)=>{const s=ju(t);return i(s.popLast())}))}$e(e){const t=e.store(Qu.store);return t.Kt((e,n)=>{const r=xc(n),i=Nc(this.N,r);return t.put(i)})}}function gl(e){e.createObjectStore(Yu.store,{keyPath:Yu.keyPath}).createIndex(Yu.documentTargetsIndex,Yu.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Qu.store,{keyPath:Qu.keyPath}).createIndex(Qu.queryTargetsIndexName,Qu.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Ju.store)}const ml="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yl{constructor(e,t,n,r,i,s,o,a,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=u,this.Me=c,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!yl.bt())throw new ps(fs.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sl(this,r),this.We=t+"main",this.N=new bc(a),this.Ge=new uc(this.We,11,new pl(this.N)),this.ze=new Kc(this.referenceDelegate,this.N),this.Ht=new Vc,this.He=new cl(this.N,this.Ht),this.Je=new Rc,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===c&&as("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ps(fs.FAILED_PRECONDITION,ml);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Is(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var n=(0,je.Z)(function*(n){if(t.started)return e(n)});return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,je.Z)(function*(t){null===t.newVersion&&(yield e())});return function(e){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,je.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>_l(e).put(new ec(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(hc(e))return os("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return os("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return vl(e).get(zu.key).next(e=>oc.resolve(this.cn(e)))}un(e){return _l(e).delete(this.clientId)}hn(){var e=this;return(0,je.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=yc(t,ec.store);return n.Lt().next(t=>{const r=e.fn(t,18e5),i=t.filter(e=>-1===r.indexOf(e));return oc.forEach(i,e=>n.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(e.Ye)for(const n of t)e.Ye.removeItem(e.dn(n.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?oc.resolve(!0):vl(e).get(zu.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new ps(fs.FAILED_PRECONDITION,ml);return!1}}return!(!this.networkEnabled||!this.inForeground)||_l(e).Lt().next(e=>void 0===this.fn(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&os("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var e=this;return(0,je.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[zu.store,ec.store],t=>{const n=new mc(t,Is.T);return e.on(n).next(()=>e.un(n))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>_l(e).Lt().next(e=>this.fn(e,18e5).map(e=>e.clientId)))}get started(){return this.Be}getMutationQueue(e){return Bc.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,n){let r;return os("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",rc,i=>(r=new mc(i,this.Le?this.Le.next():Is.T),"readwrite-primary"===t?this.sn(r).next(e=>!!e||this.rn(r)).next(t=>{if(!t)throw as(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new ps(fs.FAILED_PRECONDITION,ic);return n(r)}).next(e=>this.an(r).next(()=>e)):this.En(r).next(()=>n(r)))).then(e=>(r.raiseOnCommittedEvent(),e))}En(e){return vl(e).get(zu.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.cn(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ps(fs.FAILED_PRECONDITION,ml)})}an(e){const t=new zu(this.clientId,this.allowTabSynchronization,Date.now());return vl(e).put(zu.key,t)}static bt(){return uc.bt()}on(e){const t=vl(e);return t.get(zu.key).next(e=>this.cn(e)?(os("IndexedDbPersistence","Releasing primary lease."),t.delete(zu.key)):oc.resolve())}ln(e,t){const n=Date.now();return!(e<n-t||e>n&&(as(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Ze.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return os("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return as("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){as("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vl(e){return yc(e,zu.store)}function _l(e){return yc(e,ec.store)}function wl(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class bl{constructor(e,t){this.progress=e,this.Tn=t}}class Il{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Rn(e,t,n))}Rn(e,t,n){return this.He.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}bn(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}Pn(e,t){return this.He.getEntries(e,t).next(t=>this.vn(e,t).next(()=>t))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.bn(t,e))}getDocumentsMatchingQuery(e,t,n){return Ks.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.Vn(e,t.path):qo(t)?this.Sn(e,t,n):this.Dn(e,t,n);var r}Vn(e,t){return this.An(e,new Ks(t)).next(e=>{let t=za();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Sn(e,t,n){const r=t.collectionGroup;let i=za();return this.Ht.getCollectionParents(e,r).next(s=>oc.forEach(s,s=>{const o=(a=t,u=s.child(r),new Po(u,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));var a,u;return this.Dn(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(i=t,this.Cn(e,i,r).next(e=>{r=e;for(const t of i)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=fo.newInvalidDocument(n),r=r.insert(n,i)),va(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{Wo(t,n)||(r=r.remove(e))}),r))}Cn(e,t,n){let r=$a();for(const s of t)for(const e of s.mutations)e instanceof Ta&&null===n.get(e.key)&&(r=r.add(e.key));let i=n;return this.He.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class Tl{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=$a(),r=$a();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Tl(e,t.fromCache,n,r)}}class El{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return 0===(i=t).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(xs.min())?this.Fn(e,t):this.On.Pn(e,r).next(i=>{const s=this.Mn(t,i);return(Vo(t)||Fo(t))&&this.Ln(t.limitType,s,r,n)?this.Fn(e,t):(ss()<=Be.in.DEBUG&&os("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Go(t)),this.On.getDocumentsMatchingQuery(e,t,n).next(e=>(s.forEach(t=>{e=e.insert(t.key,t)}),e)))});var i}Mn(e,t){let n=new Va(Ko(e));return t.forEach((t,r)=>{Wo(e,r)&&(n=n.add(r))}),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return ss()<=Be.in.DEBUG&&os("QueryEngine","Using full collection scan to execute query:",Go(t)),this.On.getDocumentsMatchingQuery(e,t,xs.min())}}class Sl{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new Pa(Ss),this.qn=new al(e=>mo(e),yo),this.Kn=xs.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Il(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function Cl(e,t,n,r){return new Sl(e,t,n,r)}function Al(e,t){return kl.apply(this,arguments)}function kl(){return kl=(0,je.Z)(function*(e,t){const n=ds(e);let r=n.In,i=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.In.getAllMutationBatches(e).next(o=>(s=o,r=n.persistence.getMutationQueue(t),i=new Il(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=$a();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.Pn(e,o).next(e=>({Wn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s}),kl.apply(this,arguments)}function xl(e,t){const n=ds(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=oc.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);hs(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.In.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}function Nl(e){const t=ds(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function Ol(e,t){const n=ds(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];t.targetChanges.forEach((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,s).next(()=>n.ze.addMatchingKeys(e,t.addedDocuments,s)));const u=t.resumeToken;if(u.approximateByteSize()>0){const d=a.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,d),c=a,h=t,hs((l=d).resumeToken.approximateByteSize()>0),(0===c.resumeToken.approximateByteSize()||l.snapshotVersion.toMicroseconds()-c.snapshotVersion.toMicroseconds()>=3e8||h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size>0)&&o.push(n.ze.updateTargetData(e,d))}var c,l,h});let a=ja();if(t.documentUpdates.forEach((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Rl(e,s,t.documentUpdates,r,void 0).next(e=>{a=e})),!r.isEqual(xs.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next(t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return oc.waitFor(o).next(()=>s.apply(e)).next(()=>n.Qn.vn(e,a)).next(()=>a)}).then(e=>(n.Un=i,e))}function Rl(e,t,n,r,i){let s=$a();return n.forEach(e=>s=s.add(e)),t.getEntries(e,s).next(e=>{let s=ja();return n.forEach((n,o)=>{const a=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(xs.min())?(t.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,u),s=s.insert(n,o)):os("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Dl(e,t){const n=ds(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)))}function Pl(e,t){const n=ds(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.ze.getTargetData(e,t).next(i=>i?(r=i,oc.resolve(r)):n.ze.allocateTargetId(e).next(i=>(r=new wc(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e})}function Ll(e,t,n){return Ml.apply(this,arguments)}function Ml(){return Ml=(0,je.Z)(function*(e,t,n){const r=ds(e),i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(o){if(!hc(o))throw o;os("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)}),Ml.apply(this,arguments)}function Vl(e,t,n){const r=ds(e);let i=xs.min(),s=$a();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=ds(e),i=r.qn.get(n);return void 0!==i?oc.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,Bo(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:xs.min(),n?s:$a())).next(e=>({documents:e,Gn:s})))}function Fl(e,t){const n=ds(e),r=ds(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Et(e,t).next(e=>e?e.target:null))}function Ul(e){const t=ds(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=ds(e);let i=ja(),s=Ec(n);const o=dl(t),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:Wu.readTimeIndex,range:a},(e,t)=>{const n=Ic(r.N,t);i=i.insert(n.key,n),s=t.readTime}).next(()=>({Tn:i,readTime:Sc(s)}))}(t.jn,e,t.Kn)).then(({Tn:e,readTime:n})=>(t.Kn=n,e))}function jl(){return jl=(0,je.Z)(function*(e){const t=ds(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=dl(e);let n=xs.min();return t.Kt({index:Wu.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=Sc(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.Kn=e})}),jl.apply(this,arguments)}function ql(){return ql=(0,je.Z)(function*(e,t,n,r){const i=ds(e);let s=$a(),o=ja(),a=Za();for(const h of n){const e=t.zn(h.metadata.name);h.document&&(s=s.add(e)),o=o.insert(e,t.Hn(h)),a=a.insert(e,t.Jn(h.metadata.readTime))}const u=i.jn.newChangeBuffer({trackRemovals:!0}),c=yield Pl(i,(l=r,Bo(Mo(Ps.fromString(`__bundle__/docs/${l}`)))));var l;return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>Rl(e,u,o,xs.min(),a).next(t=>(u.apply(e),t)).next(t=>i.ze.removeMatchingKeysForTargetId(e,c.targetId).next(()=>i.ze.addMatchingKeys(e,s,c.targetId)).next(()=>i.Qn.vn(e,t)).next(()=>t)))}),ql.apply(this,arguments)}function zl(e,t){return Bl.apply(this,arguments)}function Bl(){return Bl=(0,je.Z)(function*(e,t,n=$a()){const r=yield Pl(e,Bo(Oc(t.bundledQuery))),i=ds(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=lu(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Je.saveNamedQuery(e,t);const o=r.withResumeToken(Fs.EMPTY_BYTE_STRING,s);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(e,o).next(()=>i.ze.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.ze.addMatchingKeys(e,n,r.targetId)).next(()=>i.Je.saveNamedQuery(e,t))})}),Bl.apply(this,arguments)}class Zl{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return oc.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:lu(n.createTime)}),oc.resolve()}getNamedQuery(e,t){return oc.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(n=t).name,query:Oc(n.bundledQuery),readTime:lu(n.readTime)}),oc.resolve();var n}}class Hl{constructor(){this.Zn=new Va($l.ts),this.es=new Va($l.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new $l(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.rs(new $l(e,t))}os(e,t){e.forEach(e=>this.removeReference(e,t))}cs(e){const t=new Ks(new Ps([])),n=new $l(t,e),r=new $l(t,e+1),i=[];return this.es.forEachInRange([n,r],e=>{this.rs(e),i.push(e.key)}),i}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Ks(new Ps([])),n=new $l(t,e),r=new $l(t,e+1);let i=$a();return this.es.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new $l(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class $l{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Ks.comparator(e.key,t.key)||Ss(e.ls,t.ls)}static ns(e,t){return Ss(e.ls,t.ls)||Ks.comparator(e.key,t.key)}}class Gl{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new Va($l.ts)}checkEmpty(e){return oc.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++;const s=new vc(i,t,n,r);this.In.push(s);for(const o of r)this.ds=this.ds.add(new $l(o.key,i)),this.Ht.addToCollectionParentIndex(e,o.key.path.popLast());return oc.resolve(s)}lookupMutationBatch(e,t){return oc.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=this._s(t+1),r=n<0?0:n;return oc.resolve(this.In.length>r?this.In[r]:null)}getHighestUnacknowledgedBatchId(){return oc.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return oc.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new $l(t,0),r=new $l(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],e=>{const t=this.ws(e.ls);i.push(t)}),oc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Va(Ss);return t.forEach(e=>{const t=new $l(e,0),r=new $l(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],e=>{n=n.add(e.ls)})}),oc.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ks.isDocumentKey(i)||(i=i.child(""));const s=new $l(new Ks(i),0);let o=new Va(Ss);return this.ds.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},s),oc.resolve(this.gs(o))}gs(e){const t=[];return e.forEach(e=>{const n=this.ws(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){hs(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return oc.forEach(t.mutations,r=>{const i=new $l(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=n})}te(e){}containsKey(e,t){const n=new $l(t,0),r=this.ds.firstAfterOrEqual(n);return oc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return oc.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class Wl{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Pa(Ks.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return oc.resolve(n?n.document.clone():fo.newInvalidDocument(t))}getEntries(e,t){let n=ja();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():fo.newInvalidDocument(e))}),oc.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=ja();const i=new Ks(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||Wo(t,i)&&(r=r.insert(i.key,i.clone()))}return oc.resolve(r)}Es(e,t){return oc.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Kl(this)}getSize(e){return oc.resolve(this.size)}}class Kl extends ul{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)}),oc.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class Ql{constructor(e){this.persistence=e,this.Ts=new al(e=>mo(e),yo),this.lastRemoteSnapshotVersion=xs.min(),this.highestTargetId=0,this.Is=0,this.As=new Hl,this.targetCount=0,this.Rs=Wc.se()}forEachTarget(e,t){return this.Ts.forEach((e,n)=>t(n)),oc.resolve()}getLastRemoteSnapshotVersion(e){return oc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oc.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),oc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),oc.resolve()}ae(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Wc(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,oc.resolve()}updateTargetData(e,t){return this.ae(t),oc.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,oc.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Ts.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Ts.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),oc.waitFor(i).next(()=>r)}getTargetCount(e){return oc.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return oc.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),oc.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),oc.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),oc.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return oc.resolve(n)}containsKey(e,t){return oc.resolve(this.As.containsKey(t))}}class Yl{constructor(e,t){this.bs={},this.Le=new Is(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new Ql(this),this.Ht=new Lc,this.He=new Wl(this.Ht,e=>this.referenceDelegate.Ps(e)),this.N=new bc(t),this.Je=new Zl(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new Gl(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){os("MemoryPersistence","Starting transaction:",e);const r=new Jl(this.Le.next());return this.referenceDelegate.vs(),n(r).next(e=>this.referenceDelegate.Vs(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ss(e,t){return oc.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,t)))}}class Jl extends sc{constructor(e){super(),this.currentSequenceNumber=e}}class Xl{constructor(e){this.persistence=e,this.Ds=new Hl,this.Cs=null}static Ns(e){return new Xl(e)}get xs(){if(this.Cs)return this.Cs;throw ls()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),oc.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),oc.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),oc.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oc.forEach(this.xs,n=>{const r=Ks.fromPath(n);return this.ks(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return oc.or([()=>oc.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function eh(e,t){return`firestore_clients_${e}_${t}`}function th(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function nh(e,t){return`firestore_targets_${e}_${t}`}class rh{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ps(r.error.code,r.error.message))),s?new rh(e,t,r.state,i):(as("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ih{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new ps(n.error.code,n.error.message))),i?new ih(e,n.state,r):(as("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Wa();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Ws(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new sh(e,i):(as("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class oh{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new oh(t.clientId,t.onlineState):(as("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ah{constructor(){this.activeTargetIds=Wa()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uh{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Pa(Ss),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=eh(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new ah),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,je.Z)(function*(){const t=yield e.syncEngine.pn();for(const r of t){if(r===e.Ls)continue;const t=e.getItem(eh(e.persistenceKey,r));if(t){const n=sh.$s(r,t);n&&(e.qs=e.qs.insert(n.clientId,n))}}e.Ys();const n=e.storage.getItem(e.Hs);if(n){const t=e.Xs(n);t&&e.Zs(t)}for(const r of e.Ks)e.Us(r);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,n){this.ei(e,t,n),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(nh(this.persistenceKey,e));if(n){const r=ih.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(nh(this.persistenceKey,e))}updateQueryState(e,t,n){this.ii(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.ni(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return os("SharedClientState","READ",e,t),t}setItem(e,t){os("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){os("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const n=e;if(n.storageArea===this.storage){if(os("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void as("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,je.Z)(function*(){if(t.started){if(null!==n.key)if(t.Ws.test(n.key)){if(null==n.newValue){const e=t.ai(n.key);return t.ci(e,null)}{const e=t.ui(n.key,n.newValue);if(e)return t.ci(e.clientId,e)}}else if(t.Gs.test(n.key)){if(null!==n.newValue){const e=t.hi(n.key,n.newValue);if(e)return t.li(e)}}else if(t.zs.test(n.key)){if(null!==n.newValue){const e=t.fi(n.key,n.newValue);if(e)return t.di(e)}}else if(n.key===t.Hs){if(null!==n.newValue){const e=t.Xs(n.newValue);if(e)return t.Zs(e)}}else if(n.key===t.Qs){const e=function(e){let t=Is.T;if(null!=e)try{const n=JSON.parse(e);hs("number"==typeof n),t=n}catch(n){as("SharedClientState","Failed to read sequence number from WebStorage",n)}return t}(n.newValue);e!==Is.T&&t.sequenceNumberHandler(e)}else if(n.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(n)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,n){const r=new rh(this.currentUser,e,t,n),i=th(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}ni(e){const t=th(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,n){const r=nh(this.persistenceKey,e),i=new ih(e,t,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const n=this.ai(e);return sh.$s(n,t)}hi(e,t){const n=this.Gs.exec(e),r=Number(n[1]);return rh.$s(new ns(void 0!==n[2]?n[2]:null),r,t)}fi(e,t){const n=this.zs.exec(e),r=Number(n[1]);return ih.$s(r,t)}Xs(e){return oh.$s(e)}li(e){var t=this;return(0,je.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);os("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const n=t?this.qs.insert(e,t):this.qs.remove(e),r=this.ti(this.qs),i=this.ti(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.gi(s,o).then(()=>{this.qs=n})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Wa();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class ch{constructor(){this.yi=new ah,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new ah,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class lh{Ei(e){}shutdown(){}}class hh{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){os("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){os("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const dh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class fh{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class ph extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);os("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(e,i,s,n).then(e=>(os("RestConnection","Received: ",e),e),t=>{throw us("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t})}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+rs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){return`${this.Fi}/v1/${t}:${dh[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise((i,s)=>{const o=new ts;o.listenOnce(Ki.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Wi.NO_ERROR:const t=o.getResponseJson();os("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Wi.TIMEOUT:os("Connection",'RPC "'+e+'" timed out'),s(new ps(fs.DEADLINE_EXCEEDED,"Request time out"));break;case Wi.HTTP_ERROR:const n=o.getStatus();if(os("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(fs).indexOf(t)>=0?t:fs.UNKNOWN}(e.status);s(new ps(t,e.message))}else s(new ps(fs.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new ps(fs.UNAVAILABLE,"Connection failed."));break;default:ls()}}finally{os("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new Bi,i=Vn(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Xi({})),this.Ui(s.initMessageHeaders,t),(0,Ze.uI)()||(0,Ze.b$)()||(0,Ze.d)()||(0,Ze.w1)()||(0,Ze.Mn)()||(0,Ze.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");os("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let u=!1,c=!1;const l=new fh({vi:e=>{c?os("Connection","Not sending because WebChannel is closed:",e):(u||(os("Connection","Opening WebChannel transport."),a.open(),u=!0),os("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(t){setTimeout(()=>{throw t},0)}})};return h(a,es.EventType.OPEN,()=>{c||os("Connection","WebChannel transport opened.")}),h(a,es.EventType.CLOSE,()=>{c||(c=!0,os("Connection","WebChannel transport closed"),l.$i())}),h(a,es.EventType.ERROR,e=>{c||(c=!0,us("Connection","WebChannel transport errored:",e),l.$i(new ps(fs.UNAVAILABLE,"The operation could not be completed")))}),h(a,es.EventType.MESSAGE,e=>{var t;if(!c){const n=e.data[0];hs(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){os("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Na[e];if(void 0!==t)return Da(t)}(e),n=i.message;void 0===t&&(t=fs.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,l.$i(new ps(t,n)),a.close()}else os("Connection","WebChannel received:",n),l.Oi(n)}}),h(i,Qi.STAT_EVENT,e=>{e.stat===Yi?os("Connection","Detected buffering proxy"):e.stat===Ji&&os("Connection","Detected no buffering proxy")}),setTimeout(()=>{l.ki()},0),l}}function gh(){return"undefined"!=typeof window?window:null}function mh(){return"undefined"!=typeof document?document:null}function yh(e){return new ou(e,!0)}class vh{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&os("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class _h{constructor(e,t,n,r,i,s){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new vh(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,je.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,je.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,t){var n=this;return(0,je.Z)(function*(){n._r(),n.rr.cancel(),n.sr++,3!==e?n.rr.reset():t&&t.code===fs.RESOURCE_EXHAUSTED?(as(t.toString()),as("Using maximum backoff delay to prevent overloading the backend."),n.rr.Yi()):t&&t.code===fs.UNAUTHENTICATED&&n.credentialsProvider.invalidateToken(),null!==n.stream&&(n.mr(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.Ci(t)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(e=>{this.sr===t&&this.yr(e)},t=>{e(()=>{const e=new ps(fs.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Er(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(e=>{t(()=>this.pr(e))}),this.stream.onMessage(e=>{t(()=>this.onMessage(e))})}ur(){var e=this;this.state=4,this.rr.Xi((0,je.Z)(function*(){e.state=0,e.start()}))}pr(e){return os("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(os("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wh extends _h{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.N=r}Er(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:ls(),s=t.targetChange.targetIds||[],o=function(e,t){return e.D?(hs(void 0===t||"string"==typeof t),Fs.fromBase64String(t||"")):(hs(void 0===t||t instanceof Uint8Array),Fs.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,u=a&&function(e){const t=void 0===e.code?fs.UNKNOWN:Da(e.code);return new ps(t,e.message||"")}(a);n=new Xa(i,s,o,u||null)}else if("documentChange"in t){const r=t.documentChange,i=pu(e,r.document.name),s=lu(r.document.updateTime),o=new lo({mapValue:{fields:r.document.fields}}),a=fo.newFoundDocument(i,s,o);n=new Ya(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,i=pu(e,r.document),s=r.readTime?lu(r.readTime):xs.min(),o=fo.newNoDocument(i,s);n=new Ya([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=pu(e,r.document);n=new Ya([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return ls();{const e=t.filter,r=new xa(e.count||0);n=new Ja(e.targetId,r)}}var r;return n}(this.N,e),n=function(e){if(!("targetChange"in e))return xs.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?xs.min():t.readTime?lu(t.readTime):xs.min()}(e);return this.listener.Tr(t,n)}Ir(e){const t={};t.database=yu(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=vo(r)?{documents:Tu(e,r)}:{query:Eu(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=uu(e,t.resumeToken):t.snapshotVersion.compareTo(xs.min())>0&&(n.readTime=au(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ls()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=yu(this.N),t.removeTarget=e,this.wr(t)}}class bh extends _h{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.N=r,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(e){return this.nr.ji("Write",e)}onMessage(e){if(hs(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?(hs(void 0!==t),e.map(e=>function(e,t){let n=lu(e.updateTime?e.updateTime:t);return n.isEqual(xs.min())&&(n=lu(t)),new fa(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=lu(e.commitTime);return this.listener.vr(n,t)}return hs(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=yu(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>bu(this.N,e))};this.wr(t)}}class Ih extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new ps(fs.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Li(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===fs.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new ps(fs.UNKNOWN,e.toString())})}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Ki(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===fs.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new ps(fs.UNKNOWN,e.toString())})}terminate(){this.Dr=!0}}class Th{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(as(t),this.$r=!1):os("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Eh{constructor(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ei(e=>{n.enqueueAndForget((0,je.Z)(function*(){var e;Lh(s)&&(os("RemoteStore","Restarting streams for network reachability change."),yield(e=(0,je.Z)(function*(e){const t=ds(e);t.Kr.add(4),yield Ah(t),t.Wr.set("Unknown"),t.Kr.delete(4),yield Sh(t)}),function(t){return e.apply(this,arguments)})(s))}))}),this.Wr=new Th(n,r)}}function Sh(e){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,je.Z)(function*(e){if(Lh(e))for(const t of e.jr)yield t(!0)}),Ch.apply(this,arguments)}function Ah(e){return kh.apply(this,arguments)}function kh(){return kh=(0,je.Z)(function*(e){for(const t of e.jr)yield t(!1)}),kh.apply(this,arguments)}function xh(e,t){const n=ds(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),Ph(n)?Dh(n):ud(n).cr()&&Oh(n,t))}function Nh(e,t){const n=ds(e),r=ud(n);n.qr.delete(t),r.cr()&&Rh(n,t),0===n.qr.size&&(r.cr()?r.lr():Lh(n)&&n.Wr.set("Unknown"))}function Oh(e,t){e.Gr.Y(t.targetId),ud(e).Ir(t)}function Rh(e,t){e.Gr.Y(t),ud(e).Ar(t)}function Dh(e){e.Gr=new tu({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.qr.get(t)||null}),ud(e).start(),e.Wr.Or()}function Ph(e){return Lh(e)&&!ud(e).ar()&&e.qr.size>0}function Lh(e){return 0===ds(e).Kr.size}function Mh(e){e.Gr=void 0}function Vh(e){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,je.Z)(function*(e){e.qr.forEach((t,n)=>{Oh(e,t)})}),Fh.apply(this,arguments)}function Uh(e,t){return jh.apply(this,arguments)}function jh(){return jh=(0,je.Z)(function*(e,t){Mh(e),Ph(e)?(e.Wr.Lr(t),Dh(e)):e.Wr.set("Unknown")}),jh.apply(this,arguments)}function qh(e,t,n){return zh.apply(this,arguments)}function zh(){return zh=(0,je.Z)(function*(e,t,n){if(e.Wr.set("Online"),t instanceof Xa&&2===t.state&&t.cause)try{yield(r=(0,je.Z)(function*(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(yield e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}),function(e,t){return r.apply(this,arguments)})(e,t)}catch(r){os("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield Bh(e,r)}else if(t instanceof Ya?e.Gr.rt(t):t instanceof Ja?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(xs.min()))try{const t=yield Nl(e.localStore);n.compareTo(t)>=0&&(yield function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(Fs.EMPTY_BYTE_STRING,n.snapshotVersion)),Rh(e,t);const r=new wc(n.target,t,1,n.sequenceNumber);Oh(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n))}catch(r){os("RemoteStore","Failed to raise snapshot:",r),yield Bh(e,r)}var r}),zh.apply(this,arguments)}function Bh(e,t,n){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,je.Z)(function*(e,t,n){if(!hc(t))throw t;e.Kr.add(1),yield Ah(e),e.Wr.set("Offline"),n||(n=()=>Nl(e.localStore)),e.asyncQueue.enqueueRetryable((0,je.Z)(function*(){os("RemoteStore","Retrying IndexedDB access"),yield n(),e.Kr.delete(1),yield Sh(e)}))}),Zh.apply(this,arguments)}function Hh(e,t){return t().catch(n=>Bh(e,n,t))}function $h(e){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,je.Z)(function*(e){const t=ds(e),n=cd(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;Wh(t);)try{const e=yield Dl(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,Kh(t,e)}catch(i){yield Bh(t,i)}Qh(t)&&Yh(t)}),Gh.apply(this,arguments)}function Wh(e){return Lh(e)&&e.Ur.length<10}function Kh(e,t){e.Ur.push(t);const n=cd(e);n.cr()&&n.br&&n.Pr(t.mutations)}function Qh(e){return Lh(e)&&!cd(e).ar()&&e.Ur.length>0}function Yh(e){cd(e).start()}function Jh(e){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,je.Z)(function*(e){cd(e).Sr()}),Xh.apply(this,arguments)}function ed(e){return td.apply(this,arguments)}function td(){return td=(0,je.Z)(function*(e){const t=cd(e);for(const n of e.Ur)t.Pr(n.mutations)}),td.apply(this,arguments)}function nd(e,t,n){return rd.apply(this,arguments)}function rd(){return rd=(0,je.Z)(function*(e,t,n){const r=e.Ur.shift(),i=_c.from(r,t,n);yield Hh(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield $h(e)}),rd.apply(this,arguments)}function id(e,t){return sd.apply(this,arguments)}function sd(){return sd=(0,je.Z)(function*(e,t){var n;t&&cd(e).br&&(yield(n=(0,je.Z)(function*(e,t){if(Ra(n=t.code)&&n!==fs.ABORTED){const n=e.Ur.shift();cd(e).hr(),yield Hh(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),yield $h(e)}var n}),function(e,t){return n.apply(this,arguments)})(e,t)),Qh(e)&&Yh(e)}),sd.apply(this,arguments)}function od(e,t){return ad.apply(this,arguments)}function ad(){return ad=(0,je.Z)(function*(e,t){const n=ds(e);t?(n.Kr.delete(2),yield Sh(n)):t||(n.Kr.add(2),yield Ah(n),n.Wr.set("Unknown"))}),ad.apply(this,arguments)}function ud(e){return e.zr||(e.zr=function(e,t,n){const r=ds(e);return r.Cr(),new wh(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Vh.bind(null,e),Ci:Uh.bind(null,e),Tr:qh.bind(null,e)}),e.jr.push(function(){var t=(0,je.Z)(function*(t){t?(e.zr.hr(),Ph(e)?Dh(e):e.Wr.set("Unknown")):(yield e.zr.stop(),Mh(e))});return function(e){return t.apply(this,arguments)}}())),e.zr}function cd(e){return e.Hr||(e.Hr=function(e,t,n){const r=ds(e);return r.Cr(),new bh(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Jh.bind(null,e),Ci:id.bind(null,e),Vr:ed.bind(null,e),vr:nd.bind(null,e)}),e.jr.push(function(){var t=(0,je.Z)(function*(t){t?(e.Hr.hr(),yield $h(e)):(yield e.Hr.stop(),e.Ur.length>0&&(os("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))});return function(e){return t.apply(this,arguments)}}())),e.Hr}class ld{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new ld(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ps(fs.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hd(e,t){if(as("AsyncQueue",`${t}: ${e}`),hc(e))return new ps(fs.UNAVAILABLE,`${t}: ${e}`);throw e}class dd{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ks.comparator(t.key,n.key):(e,t)=>Ks.comparator(e.key,t.key),this.keyedMap=za(),this.sortedSet=new Pa(this.comparator)}static emptySet(e){return new dd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new dd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class fd{constructor(){this.Jr=new Pa(Ks.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):ls():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,n)=>{e.push(n)}),e}}class pd{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new pd(e,t,dd.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ho(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class gd{constructor(){this.Xr=void 0,this.listeners=[]}}class md{constructor(){this.queries=new al(e=>$o(e),Ho),this.onlineState="Unknown",this.Zr=new Set}}function yd(e,t){return vd.apply(this,arguments)}function vd(){return vd=(0,je.Z)(function*(e,t){const n=ds(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new gd),i)try{s.Xr=yield n.onListen(r)}catch(o){const e=hd(o,`Initialization of query '${Go(t.query)}' failed`);return void t.onError(e)}n.queries.set(r,s),s.listeners.push(t),t.eo(n.onlineState),s.Xr&&t.no(s.Xr)&&Td(n)}),vd.apply(this,arguments)}function _d(e,t){return wd.apply(this,arguments)}function wd(){return wd=(0,je.Z)(function*(e,t){const n=ds(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),wd.apply(this,arguments)}function bd(e,t){const n=ds(e);let r=!1;for(const i of t){const e=n.queries.get(i.query);if(e){for(const t of e.listeners)t.no(i)&&(r=!0);e.Xr=i}}r&&Td(n)}function Id(e,t,n){const r=ds(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Td(e){e.Zr.forEach(e=>{e.next()})}class Ed{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new pd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=pd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class Sd{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class Cd{constructor(e){this.N=e}zn(e){return pu(this.N,e)}Hn(e){return e.metadata.exists?wu(this.N,e.document,!1):fo.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return lu(e)}}class Ad{constructor(e,t,n){this.lo=e,this.localStore=t,this.N=n,this.queries=[],this.documents=[],this.progress=kd(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,n=new Cd(this.N);for(const r of e)if(r.metadata.queries){const e=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||$a()).add(e);t.set(n,r)}}return t}complete(){var e=this;return(0,je.Z)(function*(){const t=yield function(e,t,n,r){return ql.apply(this,arguments)}(e.localStore,new Cd(e.N),e.documents,e.lo.id),n=e.wo(e.documents);for(const r of e.queries)yield zl(e.localStore,r,n.get(r.name));return e.progress.taskState="Success",new bl(Object.assign({},e.progress),t)})()}}function kd(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class xd{constructor(e){this.key=e}}class Nd{constructor(e){this.key=e}}class Od{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=$a(),this.mutatedKeys=$a(),this.po=Ko(e),this.Eo=new dd(this.po)}get To(){return this._o}Io(e,t){const n=t?t.Ao:new fd,r=t?t.Eo:this.Eo;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=Vo(this.query)&&r.size===this.query.limit?r.last():null,u=Fo(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),l=Wo(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;c&&l?c.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Ro(c,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.po(l,a)>0||u&&this.po(l,u)<0)&&(o=!0)):!c&&l?(n.track({type:0,doc:l}),f=!0):c&&!l&&(n.track({type:1,doc:c}),f=!0,(a||u)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),Vo(this.query)||Fo(this.query))for(;s.size>this.query.limit;){const e=Vo(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Eo:s,Ao:n,Ln:o,mutatedKeys:i}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;const i=e.Ao.Yr();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ls()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc)),this.bo(n);const s=t?this.Po():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==i.length||a?{snapshot:new pd(this.query,e.Eo,r,i,e.mutatedKeys,0===o,a,!1),vo:s}:{vo:s}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new fd,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(e=>this._o=this._o.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this._o=this._o.delete(e)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=$a(),this.Eo.forEach(e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))});const t=[];return e.forEach(e=>{this.yo.has(e)||t.push(new Nd(e))}),this.yo.forEach(n=>{e.has(n)||t.push(new xd(n))}),t}So(e){this._o=e.Gn,this.yo=$a();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return pd.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class Rd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Dd{constructor(e){this.key=e,this.Co=!1}}class Pd{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.No={},this.xo=new al(e=>$o(e),Ho),this.ko=new Map,this.$o=new Set,this.Oo=new Pa(Ks.comparator),this.Fo=new Map,this.Mo=new Hl,this.Lo={},this.Bo=new Map,this.Uo=Wc.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Ld(e,t){return Md.apply(this,arguments)}function Md(){return Md=(0,je.Z)(function*(e,t){const n=Cf(e);let r,i;const s=n.xo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Do();else{const e=yield Pl(n.localStore,Bo(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=yield Vd(n,t,r,"current"===s),n.isPrimaryClient&&xh(n.remoteStore,e)}return i}),Md.apply(this,arguments)}function Vd(e,t,n,r){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,je.Z)(function*(e,t,n,r){e.Ko=(t,n,r)=>{return(i=(0,je.Z)(function*(e,t,n,r){let i=t.view.Io(n);i.Ln&&(i=yield Vl(e.localStore,t.query,!1).then(({documents:e})=>t.view.Io(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return nf(e,t.targetId,o.vo),o.snapshot}),function(e,t,n,r){return i.apply(this,arguments)})(e,t,n,r);var i};const i=yield Vl(e.localStore,t,!0),s=new Od(t,i.Gn),o=s.Io(i.documents),a=Qa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=s.applyChanges(o,e.isPrimaryClient,a);nf(e,n,u.vo);const c=new Rd(t,n,s);return e.xo.set(t,c),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),u.snapshot}),Fd.apply(this,arguments)}function Ud(e,t){return jd.apply(this,arguments)}function jd(){return jd=(0,je.Z)(function*(e,t){const n=ds(e),r=n.xo.get(t),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter(e=>!Ho(e,t))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ll(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Nh(n.remoteStore,r.targetId),ef(n,r.targetId)}).catch(Xc))):(ef(n,r.targetId),yield Ll(n.localStore,r.targetId,!0))}),jd.apply(this,arguments)}function qd(){return qd=(0,je.Z)(function*(e,t,n){const r=Af(e);try{const e=yield function(e,t){const n=ds(e),r=ks.now(),i=t.reduce((e,t)=>e.add(t.key),$a());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Qn.Pn(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=_a(e,s.get(e.key));null!=t&&o.push(new Ta(e.key,t,ho(t.value.mapValue),pa.exists(!0)))}return n.In.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new Pa(Ss)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),yield of(r,e.changes),yield $h(r.remoteStore)}catch(i){const e=hd(i,"Failed to persist write");n.reject(e)}}),qd.apply(this,arguments)}function zd(e,t){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,je.Z)(function*(e,t){const n=ds(e);try{const e=yield Ol(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Fo.get(t);r&&(hs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?hs(r.Co):e.removedDocuments.size>0&&(hs(r.Co),r.Co=!1))}),yield of(n,e,t)}catch(r){yield Xc(r)}}),Bd.apply(this,arguments)}function Zd(e,t,n){const r=ds(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach((n,r)=>{const i=r.view.eo(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=ds(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.eo(t)&&(r=!0)}),r&&Td(n)}(r.eventManager,t),e.length&&r.No.Tr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Hd(e,t,n){return $d.apply(this,arguments)}function $d(){return $d=(0,je.Z)(function*(e,t,n){const r=ds(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fo.get(t),s=i&&i.key;if(s){let e=new Pa(Ks.comparator);e=e.insert(s,fo.newNoDocument(s,xs.min()));const n=$a().add(s),i=new Ka(xs.min(),new Map,new Va(Ss),e,n);yield zd(r,i),r.Oo=r.Oo.remove(s),r.Fo.delete(t),sf(r)}else yield Ll(r.localStore,t,!1).then(()=>ef(r,t,n)).catch(Xc)}),$d.apply(this,arguments)}function Gd(e,t){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,je.Z)(function*(e,t){const n=ds(e),r=t.batch.batchId;try{const e=yield xl(n.localStore,t);Xd(n,r,null),Jd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield of(n,e)}catch(i){yield Xc(i)}}),Wd.apply(this,arguments)}function Kd(e,t,n){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,je.Z)(function*(e,t,n){const r=ds(e);try{const e=yield function(e,t){const n=ds(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.In.lookupMutationBatch(e,t).next(t=>(hs(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t))).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}(r.localStore,t);Xd(r,t,n),Jd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield of(r,e)}catch(i){yield Xc(i)}}),Qd.apply(this,arguments)}function Yd(){return Yd=(0,je.Z)(function*(e,t){const n=ds(e);Lh(n.remoteStore)||os("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=yield function(e){const t=ds(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.In.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Bo.get(e)||[];r.push(t),n.Bo.set(e,r)}catch(r){const e=hd(r,"Initialization of waitForPendingWrites() operation failed");t.reject(e)}}),Yd.apply(this,arguments)}function Jd(e,t){(e.Bo.get(t)||[]).forEach(e=>{e.resolve()}),e.Bo.delete(t)}function Xd(e,t,n){const r=ds(e);let i=r.Lo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function ef(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach(t=>{e.Mo.containsKey(t)||tf(e,t)})}function tf(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(Nh(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),sf(e))}function nf(e,t,n){for(const r of n)r instanceof xd?(e.Mo.addReference(r.key,t),rf(e,r)):r instanceof Nd?(os("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||tf(e,r.key)):ls()}function rf(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(os("SyncEngine","New document in limbo: "+n),e.$o.add(r),sf(e))}function sf(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new Ks(Ps.fromString(t)),r=e.Uo.next();e.Fo.set(r,new Dd(n)),e.Oo=e.Oo.insert(n,r),xh(e.remoteStore,new wc(Bo(Mo(n.path)),r,2,Is.T))}}function of(e,t,n){return af.apply(this,arguments)}function af(){return af=(0,je.Z)(function*(e,t,n){const r=ds(e),i=[],s=[],o=[];var a;r.xo.isEmpty()||(r.xo.forEach((e,a)=>{o.push(r.Ko(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Tl.kn(a.targetId,e);s.push(t)}}))}),yield Promise.all(o),r.No.Tr(i),yield(a=(0,je.Z)(function*(e,t){const n=ds(e);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>oc.forEach(t,t=>oc.forEach(t.Nn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>oc.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(r){if(!hc(r))throw r;os("LocalStore","Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.Un.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.Un=n.Un.insert(e,r)}}}),function(e,t){return a.apply(this,arguments)})(r.localStore,s))}),af.apply(this,arguments)}function uf(e,t){return cf.apply(this,arguments)}function cf(){return cf=(0,je.Z)(function*(e,t){const n=ds(e);if(!n.currentUser.isEqual(t)){os("SyncEngine","User change. New user:",t.toKey());const e=yield Al(n.localStore,t);n.currentUser=t,(r=n).Bo.forEach(e=>{e.forEach(e=>{e.reject(new ps(fs.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Bo.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield of(n,e.Wn)}var r}),cf.apply(this,arguments)}function lf(e,t){const n=ds(e),r=n.Fo.get(t);if(r&&r.Co)return $a().add(r.key);{let e=$a();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.To)}return e}}function hf(e,t){return df.apply(this,arguments)}function df(){return df=(0,je.Z)(function*(e,t){const n=ds(e),r=yield Vl(n.localStore,t.query,!0),i=t.view.So(r);return n.isPrimaryClient&&nf(n,t.targetId,i.vo),i}),df.apply(this,arguments)}function ff(e){return pf.apply(this,arguments)}function pf(){return pf=(0,je.Z)(function*(e){const t=ds(e);return Ul(t.localStore).then(e=>of(t,e))}),pf.apply(this,arguments)}function gf(e,t,n,r){return mf.apply(this,arguments)}function mf(){return mf=(0,je.Z)(function*(e,t,n,r){const i=ds(e),s=yield function(e,t){const n=ds(e),r=ds(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Xt(e,t).next(t=>t?n.Qn.Pn(e,t):oc.resolve(null)))}(i.localStore,t);var o;null!==s?("pending"===n?yield $h(i.remoteStore):"acknowledged"===n||"rejected"===n?(Xd(i,t,r||null),Jd(i,t),o=t,ds(ds(i.localStore).In).te(o)):ls(),yield of(i,s)):os("SyncEngine","Cannot apply mutation batch with id: "+t)}),mf.apply(this,arguments)}function yf(){return yf=(0,je.Z)(function*(e,t){const n=ds(e);if(Cf(n),Af(n),!0===t&&!0!==n.qo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=yield vf(n,e.toArray());n.qo=!0,yield od(n.remoteStore,!0);for(const r of t)xh(n.remoteStore,r)}else if(!1===t&&!1!==n.qo){const e=[];let t=Promise.resolve();n.ko.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(ef(n,i),Ll(n.localStore,i,!0))),Nh(n.remoteStore,i)}),yield t,yield vf(n,e),function(e){const t=ds(e);t.Fo.forEach((e,n)=>{Nh(t.remoteStore,n)}),t.Mo.us(),t.Fo=new Map,t.Oo=new Pa(Ks.comparator)}(n),n.qo=!1,yield od(n.remoteStore,!1)}}),yf.apply(this,arguments)}function vf(e,t,n){return _f.apply(this,arguments)}function _f(){return _f=(0,je.Z)(function*(e,t,n){const r=ds(e),i=[],s=[];for(const o of t){let e;const t=r.ko.get(o);if(t&&0!==t.length){e=yield Pl(r.localStore,Bo(t[0]));for(const e of t){const t=r.xo.get(e),n=yield hf(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=yield Fl(r.localStore,o);e=yield Pl(r.localStore,t),yield Vd(r,wf(t),o,!1)}i.push(e)}return r.No.Tr(s),i}),_f.apply(this,arguments)}function wf(e){return Lo(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function bf(e){const t=ds(e);return ds(ds(t.localStore).persistence).pn()}function If(e,t,n,r){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,je.Z)(function*(e,t,n,r){const i=ds(e);if(i.qo)os("SyncEngine","Ignoring unexpected query state notification.");else if(i.ko.has(t))switch(n){case"current":case"not-current":{const e=yield Ul(i.localStore),r=Ka.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);yield of(i,e,r);break}case"rejected":yield Ll(i.localStore,t,!0),ef(i,t,r);break;default:ls()}}),Tf.apply(this,arguments)}function Ef(e,t,n){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,je.Z)(function*(e,t,n){const r=Cf(e);if(r.qo){for(const e of t){if(r.ko.has(e)){os("SyncEngine","Adding an already active target "+e);continue}const t=yield Fl(r.localStore,e),n=yield Pl(r.localStore,t);yield Vd(r,wf(t),n.targetId,!1),xh(r.remoteStore,n)}for(const e of n)r.ko.has(e)&&(yield Ll(r.localStore,e,!1).then(()=>{Nh(r.remoteStore,e),ef(r,e)}).catch(Xc))}}),Sf.apply(this,arguments)}function Cf(e){const t=ds(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=zd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Hd.bind(null,t),t.No.Tr=bd.bind(null,t.eventManager),t.No.jo=Id.bind(null,t.eventManager),t}function Af(e){const t=ds(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Gd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Kd.bind(null,t),t}class kf{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,je.Z)(function*(){t.N=yh(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),yield t.persistence.start(),t.gcScheduler=t.zo(e),t.localStore=t.Ho(e)})()}zo(e){return null}Ho(e){return Cl(this.persistence,new El,e.initialUser,this.N)}Go(e){return new Yl(Xl.Ns,this.N)}Wo(e){return new ch}terminate(){var e=this;return(0,je.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xf extends kf{constructor(e,t,n){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,je.Z)(function*(){yield t().call(n,e),yield function(e){return jl.apply(this,arguments)}(n.localStore),yield n.Jo.initialize(n,e),yield Af(n.Jo.syncEngine),yield $h(n.Jo.remoteStore),yield n.persistence.nn(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Ho(e){return Cl(this.persistence,new El,e.initialUser,this.N)}zo(e){return new rl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=wl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?jc.withCacheSize(this.cacheSizeBytes):jc.DEFAULT;return new yl(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,gh(),mh(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new ch}}class Nf extends xf{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,je.Z)(function*(){yield t().call(n,e);const r=n.Jo.syncEngine;n.sharedClientState instanceof uh&&(n.sharedClientState.syncEngine={_i:gf.bind(null,r),mi:If.bind(null,r),gi:Ef.bind(null,r),pn:bf.bind(null,r),wi:ff.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.nn(function(){var e=(0,je.Z)(function*(e){yield function(e,t){return yf.apply(this,arguments)}(n.Jo.syncEngine,e),n.gcScheduler&&(e&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):e||n.gcScheduler.stop())});return function(t){return e.apply(this,arguments)}}())})()}Wo(e){const t=gh();if(!uh.bt(t))throw new ps(fs.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=wl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new uh(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Of{initialize(e,t){var n=this;return(0,je.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=e=>Zd(n.syncEngine,e,1),n.remoteStore.remoteSyncer.handleCredentialChange=uf.bind(null,n.syncEngine),yield od(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new md}createDatastore(e){const t=yh(e.databaseInfo.databaseId),n=new ph(e.databaseInfo);return new Ih(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Zd(this.syncEngine,e,0),s=hh.bt()?new hh:new lh,new Eh(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Pd(e,t,n,r,i,s);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,je.Z)(function*(e){const t=ds(e);os("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),yield Ah(t),t.Qr.shutdown(),t.Wr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Rf(e,t=10240){let n=0;return{read:()=>(0,je.Z)(function*(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}})(),cancel:()=>(0,je.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Df{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Pf{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new gs,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(e=>{e&&e.ho()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,je.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,je.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,je.Z)(function*(){const t=yield e.na();if(null===t)return null;const n=e.ta.decode(t),r=Number(n);isNaN(r)&&e.sa(`length string (${n}) is not valid number`);const i=yield e.ia(r);return new Sd(JSON.parse(i),t.length+r)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,je.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const t=e.ra();t<0&&e.sa("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}ia(e){var t=this;return(0,je.Z)(function*(){for(;t.buffer.length<e;)(yield t.oa())&&t.sa("Reached the end of bundle when more is expected.");const n=t.ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,je.Z)(function*(){const t=yield e.Zo.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class Lf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,je.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ps(fs.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,je.Z)(function*(e,t){const n=ds(e),r=yu(n.N)+"/documents",i={documents:t.map(e=>fu(n.N,e))},s=yield n.Ki("BatchGetDocuments",r,i),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){hs(!!t.found);const n=pu(e,t.found.name),r=lu(t.found.updateTime),i=new lo({mapValue:{fields:t.found.fields}});return fo.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){hs(!!t.missing),hs(!!t.readTime);const n=pu(e,t.missing),r=lu(t.readTime);return fo.newNoDocument(n,r)}(e,t):ls()}(n.N,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());hs(!!t),a.push(t)}),a}),function(e,t){return r.apply(this,arguments)})(t.datastore,e);var r;return n.forEach(e=>t.recordVersion(e)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new Aa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,je.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,n)=>{const r=Ks.fromPath(n);e.mutations.push(new ka(r,e.precondition(r)))}),yield(n=(0,je.Z)(function*(e,t){const n=ds(e),r=yu(n.N)+"/documents",i={writes:t.map(e=>bu(n.N,e))};yield n.Li("Commit",r,i)}),function(e,t){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ls();t=xs.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ps(fs.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?pa.updateTime(t):pa.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xs.min()))throw new ps(fs.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pa.updateTime(t)}return pa.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Mf{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.aa=5,this.rr=new vh(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,je.Z)(function*(){const t=new Lf(e.datastore),n=e.ua(t);n&&n.then(n=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(n)}).catch(t=>{e.ha(t)}))}).catch(t=>{e.ha(t)})}))}ua(e){try{const t=this.updateFunction(e);return!$s(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Ra(t)}return!1}}class Vf{constructor(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=ns.UNAUTHENTICATED,this.clientId=Es.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var e=(0,je.Z)(function*(e){os("FirestoreClient","Received user=",e.uid),yield r.credentialListener(e),r.user=e});return function(t){return e.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,je.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ps(fs.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,je.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(n){const e=hd(n,"Failed to shutdown persistence");t.reject(e)}})),t.promise}}function Ff(e,t){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,je.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),os("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(function(){var e=(0,je.Z)(function*(e){r.isEqual(e)||(yield Al(t.localStore,e),r=e)});return function(t){return e.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}),Uf.apply(this,arguments)}function jf(e,t){return qf.apply(this,arguments)}function qf(){return qf=(0,je.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield zf(e);os("FirestoreClient","Initializing OnlineComponentProvider");const r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(e=>{return(n=(0,je.Z)(function*(e,t){const n=ds(e);n.asyncQueue.verifyOperationInProgress(),os("RemoteStore","RemoteStore received new credentials");const r=Lh(n);n.Kr.add(3),yield Ah(n),r&&n.Wr.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),yield Sh(n)}),function(e,t){return n.apply(this,arguments)})(t.remoteStore,e);var n}),e.onlineComponents=t}),qf.apply(this,arguments)}function zf(e){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,je.Z)(function*(e){return e.offlineComponents||(os("FirestoreClient","Using default OfflineComponentProvider"),yield Ff(e,new kf)),e.offlineComponents}),Bf.apply(this,arguments)}function Zf(e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,je.Z)(function*(e){return e.onlineComponents||(os("FirestoreClient","Using default OnlineComponentProvider"),yield jf(e,new Of)),e.onlineComponents}),Hf.apply(this,arguments)}function $f(e){return zf(e).then(e=>e.persistence)}function Gf(e){return zf(e).then(e=>e.localStore)}function Wf(e){return Zf(e).then(e=>e.remoteStore)}function Kf(e){return Zf(e).then(e=>e.syncEngine)}function Qf(e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,je.Z)(function*(e){const t=yield Zf(e),n=t.eventManager;return n.onListen=Ld.bind(null,t.syncEngine),n.onUnlisten=Ud.bind(null,t.syncEngine),n}),Yf.apply(this,arguments)}function Jf(e,t,n={}){const r=new gs;return e.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return function(e,t,n,r,i){const s=new Df({next:s=>{t.enqueueAndForget(()=>_d(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new ps(fs.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new ps(fs.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Ed(Mo(n.path),s,{includeMetadataChanges:!0,uo:!0});return yd(e,o)}(yield Qf(e),e.asyncQueue,t,n,r)})),r.promise}function Xf(e,t,n={}){const r=new gs;return e.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return function(e,t,n,r,i){const s=new Df({next:n=>{t.enqueueAndForget(()=>_d(e,o)),n.fromCache&&"server"===r.source?i.reject(new ps(fs.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Ed(n,s,{includeMetadataChanges:!0,uo:!0});return yd(e,o)}(yield Qf(e),e.asyncQueue,t,n,r)})),r.promise}class ep{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class tp{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof tp&&e.projectId===this.projectId&&e.database===this.database}}const np=new Map;function rp(e,t,n){if(!n)throw new ps(fs.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ip(e,t,n,r){if(!0===t&&!0===r)throw new ps(fs.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function sp(e){if(!Ks.isDocumentKey(e))throw new ps(fs.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function op(e){if(Ks.isDocumentKey(e))throw new ps(fs.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ap(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){if(e.constructor){const t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":ls()}function up(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ps(fs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ap(e);throw new ps(fs.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function cp(e,t){if(t<=0)throw new ps(fs.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class lp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ps(fs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ps(fs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ip("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hp{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lp({}),this._settingsFrozen=!1,e instanceof tp?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ps(fs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tp(e.options.projectId)}(e))}get app(){if(!this._app)throw new ps(fs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ps(fs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lp(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new ys;switch(e.type){case"gapi":const t=e.client;return hs(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new bs(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ps(fs.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=np.get(e);t&&(os("ComponentProvider","Removing Datastore"),np.delete(e),t.terminate())}(this),Promise.resolve()}}class dp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dp(this.firestore,e,this._key)}}class fp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new fp(this.firestore,e,this._query)}}class pp extends fp{constructor(e,t,n){super(e,t,Mo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dp(this.firestore,null,new Ks(e))}withConverter(e){return new pp(this.firestore,e,this._path)}}function gp(e,t,...n){if(e=(0,Ze.m9)(e),rp("collection","path",t),e instanceof hp){const r=Ps.fromString(t,...n);return op(r),new pp(e,null,r)}{if(!(e instanceof dp||e instanceof pp))throw new ps(fs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ps.fromString(t,...n));return op(r),new pp(e.firestore,null,r)}}function mp(e,t,...n){if(e=(0,Ze.m9)(e),1===arguments.length&&(t=Es.I()),rp("doc","path",t),e instanceof hp){const r=Ps.fromString(t,...n);return sp(r),new dp(e,null,new Ks(r))}{if(!(e instanceof dp||e instanceof pp))throw new ps(fs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ps.fromString(t,...n));return sp(r),new dp(e.firestore,e instanceof pp?e.converter:null,new Ks(r))}}function yp(e,t){return e=(0,Ze.m9)(e),t=(0,Ze.m9)(t),(e instanceof dp||e instanceof pp)&&(t instanceof dp||t instanceof pp)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function vp(e,t){return e=(0,Ze.m9)(e),t=(0,Ze.m9)(t),e instanceof fp&&t instanceof fp&&e.firestore===t.firestore&&Ho(e._query,t._query)&&e.converter===t.converter}class _p{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new vh(this,"async_queue_retry"),this.Ea=()=>{const e=mh();e&&os("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=mh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ta(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=mh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ea)}}enqueue(e){if(this.Ta(),this.wa)return new Promise(()=>{});const t=new gs;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,je.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(t){if(!hc(t))throw t;os("AsyncQueue","Operation failed with retryable error: "+t)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(e=>{throw this.ma=e,this.ga=!1,as("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.ga=!1,e))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ta(),this.pa.indexOf(e)>-1&&(t=0);const r=ld.createAndSchedule(this,e,t,n,e=>this.Ra(e));return this._a.push(r),r}Ta(){this.ma&&ls()}verifyOperationInProgress(){}ba(){var e=this;return(0,je.Z)(function*(){let t;do{t=e.fa,yield t}while(t!==e.fa)})()}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function wp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class bp{constructor(){this._progressObserver={},this._taskCompletionResolver=new gs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ip extends hp{constructor(e,t){super(e,t),this.type="firestore",this._queue=new _p,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ep(this),this._firestoreClient.terminate()}}function Tp(e){return e._firestoreClient||Ep(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ep(e){var t;const n=e._freezeSettings(),r=(i=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",new ep(e._databaseId,i,e._persistenceKey,(s=n).host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams));var i,s;e._firestoreClient=new Vf(e._credentials,e._queue,r)}function Sp(e,t,n){const r=new gs;return e.asyncQueue.enqueue((0,je.Z)(function*(){try{yield Ff(e,n),yield jf(e,t),r.resolve()}catch(s){if(!("FirebaseError"===(i=s).name?i.code===fs.FAILED_PRECONDITION||i.code===fs.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var i})).then(()=>r.promise)}function Cp(e){if(e._initialized||e._terminated)throw new ps(fs.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ap{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ps(fs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ms(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kp(Fs.fromBase64String(e))}catch(t){throw new ps(fs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new kp(Fs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xp{constructor(e){this._methodName=e}}class Np{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ps(fs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ps(fs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ss(this._lat,e._lat)||Ss(this._long,e._long)}}const Op=/^__.*__$/;class Rp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ia(e,this.data,t,this.fieldTransforms)}}class Dp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Pp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ls()}}class Lp{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new Lp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return tg(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(Pp(this.Da)&&Op.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class Mp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||yh(e)}Ba(e,t,n,r=!1){return new Lp({Da:e,methodName:t,La:n,path:Ms.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Vp(e){const t=e._freezeSettings(),n=yh(e._databaseId);return new Mp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Fp(e,t,n,r,i,s={}){const o=e.Ba(s.merge||s.mergeFields?2:0,t,n,i);Yp("Data must be an object, but it was:",o,r);const a=Kp(r,o);let u,c;if(s.merge)u=new Vs(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Jp(t,r,n);if(!o.contains(i))throw new ps(fs.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);ng(e,i)||e.push(i)}u=new Vs(e),c=o.fieldTransforms.filter(e=>u.covers(e.field))}else u=null,c=o.fieldTransforms;return new Rp(new lo(a),u,c)}class Up extends xp{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Up}}function jp(e,t,n){return new Lp({Da:3,La:t.settings.La,methodName:e._methodName,xa:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}class qp extends xp{_toFieldTransform(e){return new da(e.path,new ia)}isEqual(e){return e instanceof qp}}class zp extends xp{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=jp(this,e,!0),n=this.Ua.map(e=>Wp(e,t)),r=new sa(n);return new da(e.path,r)}isEqual(e){return this===e}}class Bp extends xp{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=jp(this,e,!0),n=this.Ua.map(e=>Wp(e,t)),r=new aa(n);return new da(e.path,r)}isEqual(e){return this===e}}class Zp extends xp{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new ca(e.N,Xo(e.N,this.qa));return new da(e.path,t)}isEqual(e){return this===e}}function Hp(e,t,n,r){const i=e.Ba(1,t,n);Yp("Data must be an object, but it was:",i,r);const s=[],o=lo.empty();Os(r,(e,r)=>{const a=eg(t,e,n);r=(0,Ze.m9)(r);const u=i.$a(a);if(r instanceof Up)s.push(a);else{const e=Wp(r,u);null!=e&&(s.push(a),o.set(a,e))}});const a=new Vs(s);return new Dp(o,a,i.fieldTransforms)}function $p(e,t,n,r,i,s){const o=e.Ba(1,t,n),a=[Jp(t,r,n)],u=[i];if(s.length%2!=0)throw new ps(fs.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Jp(t,s[d])),u.push(s[d+1]);const c=[],l=lo.empty();for(let d=a.length-1;d>=0;--d)if(!ng(c,a[d])){const e=a[d];let t=u[d];t=(0,Ze.m9)(t);const n=o.$a(e);if(t instanceof Up)c.push(e);else{const r=Wp(t,n);null!=r&&(c.push(e),l.set(e,r))}}const h=new Vs(c);return new Dp(l,h,o.fieldTransforms)}function Gp(e,t,n,r=!1){return Wp(n,e.Ba(r?4:3,t))}function Wp(e,t){if(Qp(e=(0,Ze.m9)(e)))return Yp("Unsupported field value:",t,e),Kp(e,t);if(e instanceof xp)return function(e,t){if(!Pp(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Wp(i,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,Ze.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Xo(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ks.fromDate(e);return{timestampValue:au(t.N,n)}}if(e instanceof ks){const n=new ks(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:au(t.N,n)}}if(e instanceof Np)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof kp)return{bytesValue:uu(t.N,e._byteString)};if(e instanceof dp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:hu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${ap(e)}`)}(e,t)}function Kp(e,t){const n={};return Rs(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Os(e,(e,r)=>{const i=Wp(r,t.Na(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Qp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ks||e instanceof Np||e instanceof kp||e instanceof dp||e instanceof xp)}function Yp(e,t,n){if(!Qp(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ap(n);throw t.Fa("an object"===r?e+" a custom object":e+" "+r)}var r}function Jp(e,t,n){if((t=(0,Ze.m9)(t))instanceof Ap)return t._internalPath;if("string"==typeof t)return eg(e,t);throw tg("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const Xp=new RegExp("[~\\*/\\[\\]]");function eg(e,t,n){if(t.search(Xp)>=0)throw tg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ap(...t.split("."))._internalPath}catch(r){throw tg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function tg(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ps(fs.INVALID_ARGUMENT,a+e+u)}function ng(e,t){return e.some(e=>e.isEqual(t))}class rg{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new dp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ig(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ig extends rg{data(){return super.data()}}function sg(e,t){return"string"==typeof t?eg(e,t):t instanceof Ap?t._internalPath:t._delegate._internalPath}class og{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ag extends rg{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(sg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ug extends ag{data(e={}){return super.data(e)}}class cg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new og(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ug(this._firestore,this._userDataWriter,n.key,n,new og(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ps(fs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new ug(e._firestore,e._userDataWriter,n.doc.key,n.doc,new og(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new ug(e._firestore,e._userDataWriter,t.doc.key,t.doc,new og(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:lg(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ls()}}function hg(e,t){return e instanceof ag&&t instanceof ag?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof cg&&t instanceof cg&&e._firestore===t._firestore&&vp(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function dg(e){if(Fo(e)&&0===e.explicitOrderBy.length)throw new ps(fs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}function pg(e,...t){for(const n of t)e=n._apply(e);return e}class gg extends fg{constructor(e,t,n){super(),this.Ka=e,this.ja=t,this.Qa=n,this.type="where"}_apply(e){const t=Vp(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new ps(fs.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){Ig(o,s);const t=[];for(const n of o)t.push(bg(r,e,n));a={arrayValue:{values:t}}}else a=bg(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Ig(o,s),a=Gp(n,"where",o,"in"===s||"not-in"===s);const u=_o.create(i,s,a);return function(e,t){if(t.v()){const n=jo(e);if(null!==n&&!n.isEqual(t.field))throw new ps(fs.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=Uo(e);null!==r&&Tg(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new ps(fs.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,u),u}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new fp(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new Po(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class mg extends fg{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ps(fs.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ps(fs.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new No(t,n);return function(e,t){if(null===Uo(e)){const n=jo(e);null!==n&&Tg(0,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new fp(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Po(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class yg extends fg{constructor(e,t,n){super(),this.type=e,this.Ga=t,this.za=n}_apply(e){return new fp(e.firestore,e.converter,Zo(e._query,this.Ga,this.za))}}class vg extends fg{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=wg(e,this.type,this.Ha,this.Ja);return new fp(e.firestore,e.converter,(r=t,new Po((n=e._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,r,n.endAt)));var n,r}}class _g extends fg{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=wg(e,this.type,this.Ha,this.Ja);return new fp(e.firestore,e.converter,(r=t,new Po((n=e._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,r)));var n,r}}function wg(e,t,n,r){if(n[0]=(0,Ze.m9)(n[0]),n[0]instanceof rg)return function(e,t,n,r,i){if(!r)throw new ps(fs.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of zo(e))if(o.field.isKeyField())s.push(ro(t,r.key));else{const e=r.data.field(o.field);if(Bs(e))throw new ps(fs.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new ps(fs.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new ko(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Vp(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new ps(fs.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let u=0;u<i.length;u++){const s=i[u];if(o[u].field.isKeyField()){if("string"!=typeof s)throw new ps(fs.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!qo(e)&&-1!==s.indexOf("/"))throw new ps(fs.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(Ps.fromString(s));if(!Ks.isDocumentKey(n))throw new ps(fs.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Ks(n);a.push(ro(t,i))}else{const e=Gp(n,r,s);a.push(e)}}return new ko(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function bg(e,t,n){if("string"==typeof(n=(0,Ze.m9)(n))){if(""===n)throw new ps(fs.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!qo(t)&&-1!==n.indexOf("/"))throw new ps(fs.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ps.fromString(n));if(!Ks.isDocumentKey(r))throw new ps(fs.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ro(e,new Ks(r))}if(n instanceof dp)return ro(e,n._key);throw new ps(fs.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${ap(n)}.`)}function Ig(e,t){if(!Array.isArray(e)||0===e.length)throw new ps(fs.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new ps(fs.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Tg(e,t,n){if(!n.isEqual(t))throw new ps(fs.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Eg{convertValue(e,t="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ls()}}convertObject(e,t){const n={};return Os(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Np(qs(e.latitude),qs(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Zs(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Hs(e));default:return null}}convertTimestamp(e){const t=js(e);return new ks(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ps.fromString(e);hs(Mu(n));const r=new tp(n.get(1),n.get(3)),i=new Ks(n.popFirst(5));return r.isEqual(t)||as(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Sg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Cg extends Eg{constructor(e){super(),this.firestore=e}convertBytes(e){return new kp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dp(this.firestore,null,t)}}class Ag{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vp(e)}set(e,t,n){this._verifyNotCommitted();const r=kg(e,this._firestore),i=Sg(r.converter,t,n),s=Fp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,pa.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=kg(e,this._firestore);let s;return s="string"==typeof(t=(0,Ze.m9)(t))||t instanceof Ap?$p(this._dataReader,"WriteBatch.update",i._key,t,n,r):Hp(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,pa.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=kg(e,this._firestore);return this._mutations=this._mutations.concat(new Aa(t._key,pa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ps(fs.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kg(e,t){if((e=(0,Ze.m9)(e)).firestore!==t)throw new ps(fs.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class xg extends Eg{constructor(e){super(),this.firestore=e}convertBytes(e){return new kp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dp(this.firestore,null,t)}}function Ng(e){e=up(e,fp);const t=up(e.firestore,Ip),n=Tp(t),r=new xg(t);return dg(e._query),Xf(n,e._query).then(n=>new cg(t,r,e,n))}function Og(e,t,n){e=up(e,dp);const r=up(e.firestore,Ip),i=Sg(e.converter,t,n);return Pg(r,[Fp(Vp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,pa.none())])}function Rg(e,t,n,...r){e=up(e,dp);const i=up(e.firestore,Ip),s=Vp(i);let o;return o="string"==typeof(t=(0,Ze.m9)(t))||t instanceof Ap?$p(s,"updateDoc",e._key,t,n,r):Hp(s,"updateDoc",e._key,t),Pg(i,[o.toMutation(e._key,pa.exists(!0))])}function Dg(e,...t){var n,r,i;e=(0,Ze.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||wp(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(wp(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,c,l;if(e instanceof dp)c=up(e.firestore,Ip),l=Mo(e._key.path),u={next:n=>{t[o]&&t[o](Lg(c,e,n))},error:t[o+1],complete:t[o+2]};else{const n=up(e,fp);c=up(n.firestore,Ip),l=n._query;const r=new xg(c);u={next:e=>{t[o]&&t[o](new cg(c,r,n,e))},error:t[o+1],complete:t[o+2]},dg(e._query)}return function(e,t,n,r){const i=new Df(r),s=new Ed(t,i,n);return e.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return yd(yield Qf(e),s)})),()=>{i.Xo(),e.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return _d(yield Qf(e),s)}))}}(Tp(c),l,a,u)}function Pg(e,t){return function(e,t){const n=new gs;return e.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return function(e,t,n){return qd.apply(this,arguments)}(yield Kf(e),t,n)})),n.promise}(Tp(e),t)}function Lg(e,t,n){const r=n.docs.get(t._key),i=new xg(e);return new ag(e,i,t._key,r,new og(n.hasPendingWrites,n.fromCache),t.converter)}class Mg extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Vp(e)}get(e){const t=kg(e,this._firestore),n=new Cg(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return ls();const r=e[0];if(r.isFoundDocument())return new rg(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new rg(this._firestore,n,t._key,null,t.converter);throw ls()})}set(e,t,n){const r=kg(e,this._firestore),i=Sg(r.converter,t,n),s=Fp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=kg(e,this._firestore);let s;return s="string"==typeof(t=(0,Ze.m9)(t))||t instanceof Ap?$p(this._dataReader,"Transaction.update",i._key,t,n,r):Hp(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=kg(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=kg(e,this._firestore),n=new xg(this._firestore);return super.get(e).then(e=>new ag(this._firestore,n,t._key,e._document,new og(!1,!1),t.converter))}}function Vg(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ps("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function Fg(){if("undefined"==typeof Uint8Array)throw new ps("unimplemented","Uint8Arrays are not available in this environment.")}function Ug(){if("undefined"==typeof atob)throw new ps("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(e){rs=e})(qe.SDK_VERSION),(0,qe._registerComponent)(new ze.wA("firestore",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new Ip(n,new _s(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r},"PUBLIC")),(0,qe.registerVersion)("@firebase/firestore","3.0.2",void 0);class jg{constructor(e){this._delegate=e}static fromBase64String(e){return Ug(),new jg(kp.fromBase64String(e))}static fromUint8Array(e){return Fg(),new jg(kp.fromUint8Array(e))}toBase64(){return Ug(),this._delegate.toBase64()}toUint8Array(){return Fg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function qg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class zg{enableIndexedDbPersistence(e,t){return function(e,t){Cp(e=up(e,Ip));const n=Tp(e),r=e._freezeSettings(),i=new Of;return Sp(n,i,new xf(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Cp(e=up(e,Ip));const t=Tp(e),n=e._freezeSettings(),r=new Of;return Sp(t,r,new Nf(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new ps(fs.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new gs;return e._queue.enqueueAndForgetEvenWhileRestricted((0,je.Z)(function*(){try{yield(n=(0,je.Z)(function*(e){if(!uc.bt())return Promise.resolve();const t=e+"main";yield uc.delete(t)}),function(e){return n.apply(this,arguments)})(wl(e._databaseId,e._persistenceKey)),t.resolve()}catch(n){t.reject(n)}var n})),t.promise}(e._delegate)}}class Bg{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof tp||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&us("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=up(e,hp))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&us("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ns.MOCK_USER;else{t=(0,Ze.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ps(fs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ns(s)}e._credentials=new vs(new ms(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,je.Z)(function*(){const t=yield $f(e),n=yield Wf(e);return t.setNetworkEnabled(!0),function(e){const t=ds(e);return t.Kr.delete(0),Sh(t)}(n)}))}(Tp(e=up(e,Ip)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,je.Z)(function*(){const t=yield $f(e),n=yield Wf(e);return t.setNetworkEnabled(!1),(r=(0,je.Z)(function*(e){const t=ds(e);t.Kr.add(0),yield Ah(t),t.Wr.set("Offline")}),function(e){return r.apply(this,arguments)})(n);var r}))}(Tp(e=up(e,Ip)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,ip("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new gs;return e.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return function(e,t){return Yd.apply(this,arguments)}(yield Kf(e),t)})),t.promise}(Tp(e=up(e,Ip)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new Df(t);return e.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return t=yield Qf(e),r=n,ds(t).Zr.add(r),void r.next();var t,r})),()=>{n.Xo(),e.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return t=yield Qf(e),r=n,void ds(t).Zr.delete(r);var t,r}))}}(Tp(e=up(e,Ip)),wp(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ps("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new rm(this,gp(this._delegate,e))}catch(t){throw Kg(t,"collection()","Firestore.collection()")}}doc(e){try{return new Wg(this,mp(this._delegate,e))}catch(t){throw Kg(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new em(this,function(e,t){if(e=up(e,hp),rp("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ps(fs.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fp(e,null,(n=t,new Po(Ps.emptyPath(),n)));var n}(this._delegate,e))}catch(t){throw Kg(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new gs;return e.asyncQueue.enqueueAndForget((0,je.Z)(function*(){const r=yield(i=e,Zf(i).then(e=>e.datastore));var i;new Mf(e.asyncQueue,r,t,n).run()})),n.promise}(Tp(e),n=>t(new Mg(e,n)))}(this._delegate,t=>e(new Hg(this,t)))}batch(){return Tp(this._delegate),new $g(new Ag(this._delegate,e=>Pg(this._delegate,e)))}loadBundle(e){return function(e,t){const n=Tp(e=up(e,Ip)),r=new bp;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,r=function(e,t){if(e instanceof Uint8Array)return Rf(e,t);if(e instanceof ArrayBuffer)return Rf(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),new Pf(r,t);var r}(n,yh(t));e.asyncQueue.enqueueAndForget((0,je.Z)(function*(){!function(e,t,n){const r=ds(e);var i;(i=(0,je.Z)(function*(e,t,n){try{const i=yield t.getMetadata();if(yield function(e,t){const n=ds(e),r=lu(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Je.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,i))return yield t.close(),void n._completeWith((r=i,{taskState:"Success",documentsLoaded:r.totalDocuments,bytesLoaded:r.totalBytes,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}));n._updateProgress(kd(i));const s=new Ad(i,e.localStore,t.N);let o=yield t.Qo();for(;o;){const e=yield s.fo(o);e&&n._updateProgress(e),o=yield t.Qo()}const a=yield s.complete();yield of(e,a.Tn,void 0),yield function(e,t){const n=ds(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Je.saveBundleMetadata(e,t))}(e.localStore,i),n._completeWith(a.progress)}catch(i){us("SyncEngine",`Loading bundle failed with ${i}`),n._failWith(i)}var r}),function(e,t,n){return i.apply(this,arguments)})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield Kf(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((0,je.Z)(function*(){return function(e,t){const n=ds(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Je.getNamedQuery(e,t))}(yield Gf(e),t)}))}(Tp(e=up(e,Ip)),t).then(t=>t?new fp(e,null,t.query):null)}(this._delegate,e).then(e=>e?new em(this,e):null)}}class Zg extends Eg{constructor(e){super(),this.firestore=e}convertBytes(e){return new jg(new kp(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Wg.forKey(t,this.firestore,null)}}class Hg{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Zg(e)}get(e){const t=im(e);return this._delegate.get(t).then(e=>new Jg(this._firestore,new ag(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=im(e);return n?(Vg("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=im(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=im(e);return this._delegate.delete(t),this}}class $g{constructor(e){this._delegate=e}set(e,t,n){const r=im(e);return n?(Vg("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=im(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=im(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Gg{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new ug(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Xg(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Gg.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Gg(e,new Zg(e),t),r.set(t,i)),i}}Gg.INSTANCES=new WeakMap;class Wg{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Zg(e)}static forPath(e,t,n){if(e.length%2!=0)throw new ps("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Wg(t,new dp(t._delegate,n,new Ks(e)))}static forKey(e,t,n){return new Wg(t,new dp(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new rm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new rm(this.firestore,gp(this._delegate,e))}catch(t){throw Kg(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ze.m9)(e))instanceof dp&&yp(this._delegate,e)}set(e,t){t=Vg("DocumentReference.set",t);try{return t?Og(this._delegate,e,t):Og(this._delegate,e)}catch(n){throw Kg(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?Rg(this._delegate,e):Rg(this._delegate,e,t,...n)}catch(r){throw Kg(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return Pg(up(e.firestore,Ip),[new Aa(e._key,pa.none())])}(this._delegate)}onSnapshot(...e){const t=Qg(e),n=Yg(e,e=>new Jg(this.firestore,new ag(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return Dg(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=up(e,dp);const t=up(e.firestore,Ip),n=Tp(t),r=new xg(t);return function(e,t){const n=new gs;return e.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return(r=(0,je.Z)(function*(e,t,n){try{const r=yield function(e,t){const n=ds(e);return n.persistence.runTransaction("read document","readonly",e=>n.Qn.An(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new ps(fs.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(r){const e=hd(r,`Failed to get document '${t} from cache`);n.reject(e)}}),function(e,t,n){return r.apply(this,arguments)})(yield Gf(e),t,n);var r})),n.promise}(n,e._key).then(n=>new ag(t,r,e._key,n,new og(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=up(e,dp);const t=up(e.firestore,Ip);return Jf(Tp(t),e._key,{source:"server"}).then(n=>Lg(t,e,n))}(this._delegate):function(e){e=up(e,dp);const t=up(e.firestore,Ip);return Jf(Tp(t),e._key).then(n=>Lg(t,e,n))}(this._delegate),t.then(e=>new Jg(this.firestore,new ag(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new Wg(this.firestore,this._delegate.withConverter(e?Gg.getInstance(this.firestore,e):null))}}function Kg(e,t,n){return e.message=e.message.replace(t,n),e}function Qg(e){for(const t of e)if("object"==typeof t&&!qg(t))return t;return{}}function Yg(e,t){var n,r;let i;return i=qg(e[0])?e[0]:qg(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Jg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Wg(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return hg(this._delegate,e._delegate)}}class Xg extends Jg{data(e){const t=this._delegate.data(e);return function(e,t){e||ls()}(void 0!==t),t}}class em{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Zg(e)}where(e,t,n){try{return new em(this.firestore,pg(this._delegate,function(e,t,n){const r=t,i=sg("where",e);return new gg(i,r,n)}(e,t,n)))}catch(r){throw Kg(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new em(this.firestore,pg(this._delegate,function(e,t="asc"){const n=t,r=sg("orderBy",e);return new mg(r,n)}(e,t)))}catch(n){throw Kg(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new em(this.firestore,pg(this._delegate,function(e){return cp("limit",e),new yg("limit",e,"F")}(e)))}catch(t){throw Kg(t,"limit()","Query.limit()")}}limitToLast(e){try{return new em(this.firestore,pg(this._delegate,function(e){return cp("limitToLast",e),new yg("limitToLast",e,"L")}(e)))}catch(t){throw Kg(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new em(this.firestore,pg(this._delegate,function(...e){return new vg("startAt",e,!0)}(...e)))}catch(t){throw Kg(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new em(this.firestore,pg(this._delegate,function(...e){return new vg("startAfter",e,!1)}(...e)))}catch(t){throw Kg(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new em(this.firestore,pg(this._delegate,function(...e){return new _g("endBefore",e,!0)}(...e)))}catch(t){throw Kg(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new em(this.firestore,pg(this._delegate,function(...e){return new _g("endAt",e,!1)}(...e)))}catch(t){throw Kg(t,"endAt()","Query.endAt()")}}isEqual(e){return vp(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=up(e,fp);const t=up(e.firestore,Ip),n=Tp(t),r=new xg(t);return function(e,t){const n=new gs;return e.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return(r=(0,je.Z)(function*(e,t,n){try{const r=yield Vl(e,t,!0),i=new Od(t,r.Gn),s=i.Io(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(r){const e=hd(r,`Failed to execute query '${t} against cache`);n.reject(e)}}),function(e,t,n){return r.apply(this,arguments)})(yield Gf(e),t,n);var r})),n.promise}(n,e._query).then(n=>new cg(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=up(e,fp);const t=up(e.firestore,Ip),n=Tp(t),r=new xg(t);return Xf(n,e._query,{source:"server"}).then(n=>new cg(t,r,e,n))}(this._delegate):Ng(this._delegate),t.then(e=>new nm(this.firestore,new cg(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=Qg(e),n=Yg(e,e=>new nm(this.firestore,new cg(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return Dg(this._delegate,t,n)}withConverter(e){return new em(this.firestore,this._delegate.withConverter(e?Gg.getInstance(this.firestore,e):null))}}class tm{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Xg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new em(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Xg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new tm(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new Xg(this._firestore,n))})}isEqual(e){return hg(this._delegate,e._delegate)}}class rm extends em{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Wg(this.firestore,e):null}doc(e){try{return new Wg(this.firestore,void 0===e?mp(this._delegate):mp(this._delegate,e))}catch(t){throw Kg(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=up(e.firestore,Ip),r=mp(e),i=Sg(e.converter,t);return Pg(n,[Fp(Vp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,pa.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new Wg(this.firestore,e))}isEqual(e){return yp(this._delegate,e._delegate)}withConverter(e){return new rm(this.firestore,this._delegate.withConverter(e?Gg.getInstance(this.firestore,e):null))}}function im(e){return up(e,dp)}class sm{constructor(...e){this._delegate=new Ap(...e)}static documentId(){return new sm(Ms.keyField().canonicalString())}isEqual(e){return(e=(0,Ze.m9)(e))instanceof Ap&&this._delegate._internalPath.isEqual(e._internalPath)}}class om{constructor(e){this._delegate=e}static serverTimestamp(){const e=new qp("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new om(e)}static delete(){const e=new Up("deleteField");return e._methodName="FieldValue.delete",new om(e)}static arrayUnion(...e){const t=function(...e){return new zp("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new om(t)}static arrayRemove(...e){const t=function(...e){return new Bp("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new om(t)}static increment(e){const t=function(e){return new Zp("increment",e)}(e);return t._methodName="FieldValue.increment",new om(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const am={Firestore:Bg,GeoPoint:Np,Timestamp:ks,Blob:jg,Transaction:Hg,WriteBatch:$g,DocumentReference:Wg,DocumentSnapshot:Jg,Query:em,QueryDocumentSnapshot:Xg,QuerySnapshot:nm,CollectionReference:rm,FieldPath:sm,FieldValue:om,setLogLevel:function(e){!function(e){is.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){(function(e,t){e.INTERNAL.registerComponent(new ze.wA("firestore-compat",e=>((e,t)=>new Bg(e,t,new zg))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},am)))})(e),e.registerVersion("@firebase/firestore-compat","0.1.2")}(Ue.Z);var um=n(9765),cm=n(6682),lm=n(309),hm=n(5345);function dm(e,t){return"function"==typeof t?n=>n.pipe(dm((n,r)=>(0,_e.D)(e(n,r)).pipe((0,Ne.U)((e,i)=>t(n,e,r,i))))):t=>t.lift(new fm(e))}class fm{constructor(e){this.project=e}call(e,t){return t.subscribe(new pm(e,this.project))}}class pm extends hm.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new hm.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,hm.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}var gm=n(7771),mm=n(5319),ym=n(7971),vm=n(8858);class _m extends um.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new wm(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new ym.N;if(this.isStopped||this.hasError?s=mm.w.EMPTY:(this.observers.push(e),s=new vm.W(this,e)),r&&e.add(e=new lm.ht(e,r)),t)for(let o=0;o<i&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||gm.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(e-r[s].time<n);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&r.splice(0,s),r}}class wm{constructor(e,t){this.time=e,this.value=t}}function bm(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new _m(e,t,r),l=i.subscribe(this),s=c.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}const Im=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})(),Tm=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();var Em=n(9193);function Sm(e){return t=>0===e?(0,Em.c)():t.lift(new Cm(e))}class Cm{constructor(e){if(this.total=e,this.total<0)throw new Tm}call(e,t){return t.subscribe(new Am(e,this.total))}}class Am extends Ce.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function km(e=null){return t=>t.lift(new xm(e))}class xm{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Nm(e,this.defaultValue))}}class Nm extends Ce.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Om(e=Pm){return t=>t.lift(new Rm(e))}class Rm{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Dm(e,this.errorFactory))}}class Dm extends Ce.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Pm(){return new Im}var Lm=n(4487);function Mm(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Me((t,n)=>e(t,n,r)):Lm.y,Sm(1),n?km(t):Om(()=>new Im))}function Vm(e,t){return t?dm(()=>e,t):dm(()=>e)}var Fm=n(3101),Um=n(7841);const jm=new r.OlP("angularfire2.auth.use-emulator"),qm=new r.OlP("angularfire2.auth.settings"),zm=new r.OlP("angularfire2.auth.tenant-id"),Bm=new r.OlP("angularfire2.auth.langugage-code"),Zm=new r.OlP("angularfire2.auth.use-device-language"),Hm=new r.OlP("angularfire.auth.persistence"),$m=(e,t,n,r,i,s,o,a)=>(0,be.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const u=t.runOutsideAngular(()=>e.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))u.settings[e]=t;return a&&u.setPersistence(a),u},[n,r,i,s,o,a]);let Gm=(()=>{class e{constructor(e,t,r,i,s,o,a,u,c,l,h){const d=new um.xQ,f=(0,we.of)(void 0).pipe((0,lm.QV)(s.outsideAngular),dm(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,6780)))),(0,Ne.U)(()=>(0,me.on)(e,i,t)),(0,Ne.U)(e=>$m(e,i,o,u,c,l,a,h)),bm({bufferSize:1,refCount:!1}));if(M(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,we.of)(null);else{f.pipe(Mm()).subscribe();const e=f.pipe(dm(e=>e.getRedirectResult().then(e=>e,()=>null)),be.iC,bm({bufferSize:1,refCount:!1})),t=f.pipe(dm(e=>new ve.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=f.pipe(dm(e=>new ve.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(Vm(t),(0,Fm.R)(s.outsideAngular),(0,lm.QV)(s.insideAngular)),this.user=e.pipe(Vm(n),(0,Fm.R)(s.outsideAngular),(0,lm.QV)(s.insideAngular)),this.idToken=this.user.pipe(dm(e=>e?(0,_e.D)(e.getIdToken()):(0,we.of)(null))),this.idTokenResult=this.user.pipe(dm(e=>e?(0,_e.D)(e.getIdTokenResult()):(0,we.of)(null))),this.credential=(0,cm.T)(e,d,this.authState.pipe(Me(e=>!e))).pipe((0,Ne.U)(e=>(null==e?void 0:e.user)?e:null),(0,Fm.R)(s.outsideAngular),(0,lm.QV)(s.insideAngular))}return(0,me.pX)(this,f,i,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>d.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(me.Dh),r.LFG(me.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(be.HU),r.LFG(jm,8),r.LFG(qm,8),r.LFG(zm,8),r.LFG(Bm,8),r.LFG(Zm,8),r.LFG(Hm,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();function Wm(e,t){return function(e,t=ye.z){return new ve.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function Km(e,t){return Wm(e,t).pipe((0,Ne.U)(e=>({payload:e,type:"query"})))}function Qm(e,t){return Km(e,t).pipe(Se(void 0),Ae(),(0,Ne.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const s=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(t.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function Ym(e,t,n){return Qm(e,n).pipe(Oe((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return Jm(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return Jm(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Jm(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),e=>e.lift(new Pe(void 0,void 0)),(0,Ne.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function Jm(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function Xm(e){return(!e||0===e.length)&&(e=["added","removed","modified"]),e}class ey{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=Qm(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ne.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe(Se(void 0),Ae(),Me(([e,t])=>t.length>0||!e),(0,Ne.U)(([e,t])=>t),be.iC)}auditTrail(e){return this.stateChanges(e).pipe(Oe((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=Xm(e);return Ym(this.query,t,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(e={}){return Km(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ne.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),be.iC)}get(e){return(0,_e.D)(this.query.get(e)).pipe(be.iC)}add(e){return this.ref.add(e)}doc(e){return new ty(this.ref.doc(e),this.afs)}}class ty{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=ay(n,t);return new ey(r,i,this.afs)}snapshotChanges(){return function(e,t){return Wm(e,t).pipe(Se(void 0),Ae(),(0,Ne.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ne.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,_e.D)(this.ref.get(e)).pipe(be.iC)}}class ny{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Qm(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ne.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),Me(e=>e.length>0),be.iC):Qm(this.query,this.afs.schedulers.outsideAngular).pipe(be.iC)}auditTrail(e){return this.stateChanges(e).pipe(Oe((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=Xm(e);return Ym(this.query,t,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(e={}){return Km(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ne.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),be.iC)}get(e){return(0,_e.D)(this.query.get(e)).pipe(be.iC)}}const ry=new r.OlP("angularfire2.enableFirestorePersistence"),iy=new r.OlP("angularfire2.firestore.persistenceSettings"),sy=new r.OlP("angularfire2.firestore.settings"),oy=new r.OlP("angularfire2.firestore.use-emulator");function ay(e,t=(e=>e)){return{query:t(e),ref:e}}let uy=(()=>{class e{constructor(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g){this.schedulers=o;const m=(0,me.on)(e,s,t),y=u;c&&$m(m,s,l,d,f,p,h,g),[this.firestore,this.persistenceEnabled$]=(0,be.cc)(`${m.name}.firestore`,"AngularFirestore",m.name,()=>{const e=s.runOutsideAngular(()=>m.firestore());if(r&&e.settings(r),y&&e.useEmulator(...y),n&&!M(i)){const t=()=>{try{return(0,_e.D)(e.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,we.of)(!1)}};return[e,s.runOutsideAngular(t)]}return[e,(0,we.of)(!1)]},[r,y,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=ay(n,t),s=this.schedulers.ngZone.run(()=>r);return new ey(s,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new ny(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new ty(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(me.Dh),r.LFG(me.xv,8),r.LFG(ry,8),r.LFG(sy,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(be.HU),r.LFG(iy,8),r.LFG(oy,8),r.LFG(Gm,8),r.LFG(jm,8),r.LFG(qm,8),r.LFG(zm,8),r.LFG(Bm,8),r.LFG(Zm,8),r.LFG(Hm,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),cy=(()=>{class e{constructor(){Um.Z.registerVersion("angularfire",be.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:e,providers:[{provide:ry,useValue:!0},{provide:iy,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[uy]}),e})();class ly extends um.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ym.N;return this._value}next(e){super.next(this._value=e)}}var hy=n(9796);class dy extends Ce.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class fy extends Ce.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var py=n(7444);function gy(e,t,n,r,i=new fy(e,n,r)){if(!i.closed)return t instanceof ve.y?t.subscribe(i):(0,py.s)(t)(i)}var my=n(6693);const yy={};class vy{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new _y(e,this.resultSelector))}}class _y extends dy{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(yy),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(gy(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===yy?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function wy(e){return new ve.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,_e.D)(n):(0,Em.c)()).subscribe(t)})}var by=n(2441);function Iy(e){return function(t){const n=new Ty(e),r=t.lift(n);return n.caught=r}}class Ty{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Ey(e,this.selector,this.caught))}}class Ey extends hm.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new hm.IY(this);this.add(r);const i=(0,hm.ft)(n,r);i!==r&&this.add(i)}}}var Sy=n(9773);function Cy(e,t){return(0,Sy.zg)(e,t,1)}function Ay(e){return function(t){return 0===e?(0,Em.c)():t.lift(new ky(e))}}class ky{constructor(e){if(this.total=e,this.total<0)throw new Tm}call(e,t){return t.subscribe(new xy(e,this.total))}}class xy extends Ce.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}var Ny=n(3342),Oy=n(1307);class Ry{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Dy(e,this.callback))}}class Dy extends Ce.L{constructor(e,t){super(e),this.add(new mm.w(t))}}class Py{constructor(e,t){this.id=e,this.url=t}}class Ly extends Py{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class My extends Py{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vy extends Py{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fy extends Py{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Uy extends Py{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jy extends Py{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qy extends Py{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zy extends Py{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class By extends Py{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zy{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hy{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $y{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gy{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wy{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ky{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qy{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Yy="primary";class Jy{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Xy(e){return new Jy(e)}const ev="ngNavigationCancelingError";function tv(e){const t=Error("NavigationCancelingError: "+e);return t[ev]=!0,t}function nv(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function rv(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!iv(e[i],t[i]))return!1;return!0}function iv(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function sv(e){return Array.prototype.concat.apply([],e)}function ov(e){return e.length>0?e[e.length-1]:null}function av(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function uv(e){return(0,r.CqO)(e)?e:(0,r.QGY)(e)?(0,_e.D)(Promise.resolve(e)):(0,we.of)(e)}const cv={exact:function e(t,n,r){if(!vv(t.segments,n.segments)||!pv(t.segments,n.segments,r)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!e(t.children[i],n.children[i],r))return!1;return!0},subset:dv},lv={exact:function(e,t){return rv(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>iv(e[n],t[n]))},ignored:()=>!0};function hv(e,t,n){return cv[n.paths](e.root,t.root,n.matrixParams)&&lv[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function dv(e,t,n){return fv(e,t,t.segments,n)}function fv(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!vv(i,n)||t.hasChildren()||!pv(i,n,r))}if(e.segments.length===n.length){if(!vv(e.segments,n)||!pv(e.segments,n,r))return!1;for(const n in t.children)if(!e.children[n]||!dv(e.children[n],t.children[n],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(vv(e.segments,i)&&pv(e.segments,i,r)&&e.children[Yy])&&fv(e.children[Yy],t,s,r)}}function pv(e,t,n){return t.every((t,r)=>lv[n](e[r].parameters,t.parameters))}class gv{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xy(this.queryParams)),this._queryParamMap}toString(){return bv.serialize(this)}}class mv{constructor(e,t){this.segments=e,this.children=t,this.parent=null,av(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Iv(this)}}class yv{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Xy(this.parameters)),this._parameterMap}toString(){return xv(this)}}function vv(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class _v{}class wv{parse(e){const t=new Pv(e);return new gv(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Tv(e.root,!0)}`,n=function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Sv(t)}=${Sv(e)}`).join("&"):`${Sv(t)}=${Sv(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function(e){return encodeURI(e)}(e.fragment)}`:"";return`${t}${n}${r}`}}const bv=new wv;function Iv(e){return e.segments.map(e=>xv(e)).join("/")}function Tv(e,t){if(!e.hasChildren())return Iv(e);if(t){const t=e.children[Yy]?Tv(e.children[Yy],!1):"",n=[];return av(e.children,(e,t)=>{t!==Yy&&n.push(`${t}:${Tv(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return av(e.children,(e,r)=>{r===Yy&&(n=n.concat(t(e,r)))}),av(e.children,(e,r)=>{r!==Yy&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===Yy?[Tv(e.children[Yy],!1)]:[`${n}:${Tv(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Yy]?`${Iv(e)}/${t[0]}`:`${Iv(e)}/(${t.join("//")})`}}function Ev(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sv(e){return Ev(e).replace(/%3B/gi,";")}function Cv(e){return Ev(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Av(e){return decodeURIComponent(e)}function kv(e){return Av(e.replace(/\+/g,"%20"))}function xv(e){return`${Cv(e.path)}${function(e){return Object.keys(e).map(t=>`;${Cv(t)}=${Cv(e[t])}`).join("")}(e.parameters)}`}const Nv=/^[^\/()?;=#]+/;function Ov(e){const t=e.match(Nv);return t?t[0]:""}const Rv=/^[^=?&#]+/,Dv=/^[^?&#]+/;class Pv{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mv([],{}):new mv([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Yy]=new mv(e,t)),n}parseSegment(){const e=Ov(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new yv(Av(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ov(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Ov(this.remaining);e&&(n=e,this.capture(n))}e[Av(t)]=Av(n)}parseQueryParam(e){const t=function(e){const t=e.match(Rv);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Dv);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=kv(t),i=kv(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ov(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Yy);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[Yy]:new mv([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Lv{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Mv(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Mv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Vv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Vv(e,this._root).map(e=>e.value)}}function Mv(e,t){if(e===t.value)return t;for(const n of t.children){const t=Mv(e,n);if(t)return t}return null}function Vv(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Vv(e,n);if(r.length)return r.unshift(t),r}return[]}class Fv{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Uv(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class jv extends Lv{constructor(e,t){super(e),this.snapshot=t,$v(this,e)}toString(){return this.snapshot.toString()}}function qv(e,t){const n=function(e,t){const n=new Zv([],{},{},"",{},Yy,t,null,e.root,-1,{});return new Hv("",new Fv(n,[]))}(e,t),r=new ly([new yv("",{})]),i=new ly({}),s=new ly({}),o=new ly({}),a=new ly(""),u=new zv(r,i,o,a,s,Yy,t,n.root);return u.snapshot=n.root,new jv(new Fv(u,[]),n)}class zv{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ne.U)(e=>Xy(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ne.U)(e=>Xy(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bv(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Zv{constructor(e,t,n,r,i,s,o,a,u,c,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xy(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xy(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hv extends Lv{constructor(e,t){super(t),this.url=e,$v(this,t)}toString(){return Gv(this._root)}}function $v(e,t){t.value._routerState=e,t.children.forEach(t=>$v(e,t))}function Gv(e){const t=e.children.length>0?` { ${e.children.map(Gv).join(", ")} } `:"";return`${e.value}${t}`}function Wv(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,rv(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),rv(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!rv(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),rv(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Kv(e,t){const n=rv(e.params,t.params)&&function(e,t){return vv(e,t)&&e.every((e,n)=>rv(e.parameters,t[n].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Kv(e.parent,t.parent))}function Qv(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return Qv(e,t,r);return Qv(e,t)})}(e,t,n);return new Fv(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return Yv(t,e),e}}const n=function(e){return new zv(new ly(e.url),new ly(e.params),new ly(e.queryParams),new ly(e.fragment),new ly(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(t=>Qv(e,t));return new Fv(n,r)}}function Yv(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)Yv(e.children[n],t.children[n])}function Jv(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Xv(e){return"object"==typeof e&&null!=e&&e.outlets}function e_(e,t,n,r,i){let s={};return r&&av(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new gv(n.root===e?t:t_(n.root,e,t),s,i)}function t_(e,t,n){const r={};return av(e.children,(e,i)=>{r[i]=e===t?n:t_(e,t,n)}),new mv(e.segments,r)}class n_{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Jv(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Xv);if(r&&r!==ov(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class r_{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function i_(e,t,n){if(e||(e=new mv([],{})),0===e.segments.length&&e.hasChildren())return s_(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=n[r];if(Xv(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!c_(a,u,t))return s;r+=2}else{if(!c_(a,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new mv(e.segments.slice(0,r.pathIndex),{});return t.children[Yy]=new mv(e.segments.slice(r.pathIndex),e.children),s_(t,0,i)}return r.match&&0===i.length?new mv(e.segments,{}):r.match&&!e.hasChildren()?o_(e,t,n):r.match?s_(e,0,i):o_(e,t,n)}function s_(e,t,n){if(0===n.length)return new mv(e.segments,{});{const r=function(e){return Xv(e[0])?e[0].outlets:{[Yy]:e}}(n),i={};return av(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=i_(e.children[r],t,n))}),av(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new mv(e.segments,i)}}function o_(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(Xv(s)){const e=a_(s.outlets);return new mv(r,e)}if(0===i&&Jv(n[0])){r.push(new yv(e.segments[t].path,u_(n[0]))),i++;continue}const o=Xv(s)?s.outlets[Yy]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Jv(a)?(r.push(new yv(o,u_(a))),i+=2):(r.push(new yv(o,{})),i++)}return new mv(r,{})}function a_(e){const t={};return av(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=o_(new mv([],{}),0,e))}),t}function u_(e){const t={};return av(e,(e,n)=>t[n]=`${e}`),t}function c_(e,t,n){return e==n.path&&rv(t,n.parameters)}class l_{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Wv(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=Uv(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),av(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=Uv(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=Uv(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Ky(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Gy(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(Wv(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),h_(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function h_(e){Wv(e.value),e.children.forEach(h_)}class d_{constructor(e,t){this.routes=e,this.module=t}}function f_(e){return"function"==typeof e}function p_(e){return e instanceof gv}const g_=Symbol("INITIAL_VALUE");function m_(){return dm(e=>function(...e){let t,n;return(0,Ee.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,hy.k)(e[0])&&(e=e[0]),(0,my.n)(e,n).lift(new vy(t))}(e.map(e=>e.pipe(Sm(1),Se(g_)))).pipe(Oe((e,t)=>{let n=!1;return t.reduce((e,r,i)=>e!==g_?e:(r===g_&&(n=!0),n||!1!==r&&i!==t.length-1&&!p_(r)?e:r),e)},g_),Me(e=>e!==g_),(0,Ne.U)(e=>p_(e)?e:!0===e),Sm(1)))}let y_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"router-outlet")},directives:function(){return[dw]},encapsulation:2}),e})();function v_(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];__(r,w_(t,r))}}function __(e,t){e.children&&v_(e.children,t)}function w_(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function b_(e){const t=e.children&&e.children.map(b_),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Yy&&(n.component=y_),n}function I_(e){return e.outlet||Yy}function T_(e,t){const n=e.filter(e=>I_(e)===t);return n.push(...e.filter(e=>I_(e)!==t)),n}const E_={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function S_(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},E_):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||nv)(n,e,t);if(!i)return Object.assign({},E_);const s={};av(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function C_(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>A_(e,t,n)&&I_(n)!==Yy)}(e,n,r)){const i=new mv(t,function(e,t,n,r){const i={};i[Yy]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&I_(s)!==Yy){const n=new mv([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[I_(s)]=n}return i}(e,t,r,new mv(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>A_(e,t,n))}(e,n,r)){const s=new mv(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(A_(e,n,a)&&!i[I_(a)]){const n=new mv([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[I_(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new mv(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function A_(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function k_(e,t,n,r){return!!(I_(e)===r||r!==Yy&&A_(t,n,e))&&("**"===e.path||S_(t,e,n).matched)}function x_(e,t,n){return 0===t.length&&!e.children[n]}class N_{constructor(e){this.segmentGroup=e||null}}class O_{constructor(e){this.urlTree=e}}function R_(e){return new ve.y(t=>t.error(new N_(e)))}function D_(e){return new ve.y(t=>t.error(new O_(e)))}function P_(e){return new ve.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class L_{constructor(e,t,n,i,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(r.h0i)}apply(){const e=C_(this.urlTree.root,[],[],this.config).segmentGroup,t=new mv(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Yy).pipe((0,Ne.U)(e=>this.createUrlTree(M_(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Iy(e=>{if(e instanceof O_)return this.allowRedirects=!1,this.match(e.urlTree);throw e instanceof N_?this.noMatchError(e):e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Yy).pipe((0,Ne.U)(t=>this.createUrlTree(M_(t),e.queryParams,e.fragment))).pipe(Iy(e=>{throw e instanceof N_?this.noMatchError(e):e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new mv([],{[Yy]:e}):e;return new gv(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,Ne.U)(e=>new mv([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,_e.D)(r).pipe(Cy(r=>{const i=n.children[r],s=T_(t,r);return this.expandSegmentGroup(e,s,i,r).pipe((0,Ne.U)(e=>({segment:e,outlet:r})))}),Oe((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Me((t,n)=>e(t,n,r)):Lm.y,Ay(1),n?km(t):Om(()=>new Im))}())}expandSegment(e,t,n,r,i,s){return(0,_e.D)(n).pipe(Cy(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(Iy(e=>{if(e instanceof N_)return(0,we.of)(null);throw e}))),Mm(e=>!!e),Iy((e,n)=>{if(e instanceof Im||"EmptyError"===e.name){if(x_(t,r,i))return(0,we.of)(new mv([],{}));throw new N_(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return k_(r,t,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):R_(t):R_(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?D_(i):this.lineralizeSegments(n,i).pipe((0,Sy.zg)(n=>{const i=new mv(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=S_(t,r,i);if(!o)return R_(t);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?D_(l):this.lineralizeSegments(r,l).pipe((0,Sy.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,we.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,Ne.U)(e=>(n._loadedConfig=e,new mv(r,{})))):(0,we.of)(new mv(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=S_(t,n,r);if(!s)return R_(t);const u=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,Sy.zg)(e=>{const r=e.module,s=e.routes,{segmentGroup:a,slicedSegments:c}=C_(t,o,u,s),l=new mv(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe((0,Ne.U)(e=>new mv(o,e)));if(0===s.length&&0===c.length)return(0,we.of)(new mv(o,{}));const h=I_(n)===i;return this.expandSegment(r,l,s,c,h?Yy:i,!0).pipe((0,Ne.U)(e=>new mv(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,we.of)(new d_(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,we.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,Sy.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,Ne.U)(e=>(t._loadedConfig=e,e))):function(e){return new ve.y(t=>t.error(tv(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,we.of)(new d_([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,we.of)(!0);const i=r.map(r=>{const i=e.get(r);let s;if(function(e){return e&&f_(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!f_(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return uv(s)});return(0,we.of)(i).pipe(m_(),(0,Ny.b)(e=>{if(!p_(e))return;const t=tv(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,Ne.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,we.of)(n);if(r.numberOfChildren>1||!r.children[Yy])return P_(e.redirectTo);r=r.children[Yy]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new gv(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return av(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return av(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new mv(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function M_(e){const t={};for(const n of Object.keys(e.children)){const r=M_(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children[Yy]){const t=e.children[Yy];return new mv(e.segments.concat(t.segments),t.children)}return e}(new mv(e.segments,t))}class V_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class F_{constructor(e,t){this.component=e,this.route=t}}function U_(e,t,n){const r=e._root;return q_(r,t?t._root:null,n,[r.value])}function j_(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function q_(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Uv(t);return e.children.forEach(e=>{(function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!vv(e.url,t.url);case"pathParamsOrQueryParamsChange":return!vv(e.url,t.url)||!rv(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kv(e,t)||!rv(e.queryParams,t.queryParams);default:return!Kv(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new V_(r)):(s.data=o.data,s._resolvedData=o._resolvedData),q_(e,t,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new F_(a.outlet.component,o))}else o&&z_(t,a,i),i.canActivateChecks.push(new V_(r)),q_(e,null,s.component?a?a.children:null:n,r,i)})(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),av(s,(e,t)=>z_(e,n.getContext(t),i)),i}function z_(e,t,n){const r=Uv(e),i=e.value;av(r,(e,r)=>{z_(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new F_(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class B_{}function Z_(e){return new ve.y(t=>t.error(e))}class H_{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=C_(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Yy);if(null===t)return null;const n=new Zv([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Yy,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Fv(n,t),i=new Hv(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=Bv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],s=T_(e,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=G_(n);return function(e){e.sort((e,t)=>e.value.outlet===Yy?-1:t.value.outlet===Yy?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return x_(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!k_(e,t,n,r))return null;let i,s=[],o=[];if("**"===e.path){const r=n.length>0?ov(n).parameters:{};i=new Zv(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Q_(e),I_(e),e.component,e,W_(t),K_(t)+n.length,Y_(e))}else{const r=S_(t,e,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Zv(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Q_(e),I_(e),e.component,e,W_(t),K_(t)+s.length,Y_(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:c}=C_(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const e=this.processChildren(a,u);return null===e?null:[new Fv(i,e)]}if(0===a.length&&0===c.length)return[new Fv(i,[])];const l=I_(e)===r,h=this.processSegment(a,u,c,l?Yy:r);return null===h?null:[new Fv(i,h)]}}function $_(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function G_(e){const t=[],n=new Set;for(const r of e){if(!$_(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=G_(r.children);t.push(new Fv(r.value,e))}return t.filter(e=>!n.has(e))}function W_(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function K_(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Q_(e){return e.data||{}}function Y_(e){return e.resolve||{}}function J_(e){return dm(t=>{const n=e(t);return n?(0,_e.D)(n).pipe((0,Ne.U)(()=>t)):(0,we.of)(t)})}class X_ extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ew=new r.OlP("ROUTES");class tw{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,Ne.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new d_(sv(i.injector.get(ew,void 0,r.XFs.Self|r.XFs.Optional)).map(b_),i)}),Iy(e=>{throw t._loader$=void 0,e}));return t._loader$=new by.c(n,()=>new um.xQ).pipe((0,Oy.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,_e.D)(this.loader.load(e)):uv(e()).pipe((0,Sy.zg)(e=>e instanceof r.YKP?(0,we.of)(e):(0,_e.D)(this.compiler.compileModuleAsync(e))))}}class nw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new rw,this.attachRef=null}}class rw{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new nw,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class iw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function sw(e){throw e}function ow(e,t,n){return t.parse("/")}function aw(e,t){return(0,we.of)(null)}const uw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let lw=(()=>{class e{constructor(e,t,n,i,s,o,a,u){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new um.xQ,this.errorHandler=sw,this.malformedUriErrorHandler=ow,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:aw,afterPreactivation:aw},this.urlHandlingStrategy=new iw,this.routeReuseStrategy=new X_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const c=s.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new gv(new mv([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new tw(o,a,e=>this.triggerEvent(new Zy(e)),e=>this.triggerEvent(new Hy(e))),this.routerState=qv(this.currentUrlTree,this.rootComponentType),this.transitions=new ly({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe(Me(e=>0!==e.id),(0,Ne.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),dm(e=>{let n=!1,r=!1;return(0,we.of)(e).pipe((0,Ny.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),dm(e=>{const n=this.browserUrlTree.toString(),i=!this.navigated||e.extractedUrl.toString()!==n||n!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||i)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return hw(e.source)&&(this.browserUrlTree=e.extractedUrl),(0,we.of)(e).pipe(dm(e=>{const n=this.transitions.getValue();return t.next(new Ly(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?Em.E:Promise.resolve(e)}),function(e,t,n,r){return dm(i=>function(e,t,n,r,i){return new L_(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe((0,Ne.U)(e=>Object.assign(Object.assign({},i),{urlAfterRedirects:e}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ny.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,i,s){return(0,Sy.zg)(o=>function(e,t,n,i,s="emptyOnly",o="legacy"){try{const r=new H_(e,t,n,i,s,o).recognize();return null===r?Z_(new B_):(0,we.of)(r)}catch(r){return Z_(r)}}(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),i,s).pipe((0,Ne.U)(e=>Object.assign(Object.assign({},o),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ny.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new Uy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(i&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new Ly(n,this.serializeUrl(r),i,s);t.next(a);const u=qv(r,this.rootComponentType).snapshot;return(0,we.of)(Object.assign(Object.assign({},e),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Em.E}),J_(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Ny.b)(e=>{const t=new jy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,Ne.U)(e=>Object.assign(Object.assign({},e),{guards:U_(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,Sy.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,we.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,_e.D)(e).pipe((0,Sy.zg)(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,we.of)(!0);const o=s.map(s=>{const o=j_(s,t,i);let a;if(function(e){return e&&f_(e.canDeactivate)}(o))a=uv(o.canDeactivate(e,t,n,r));else{if(!f_(o))throw new Error("Invalid CanDeactivate guard");a=uv(o(e,t,n,r))}return a.pipe(Mm())});return(0,we.of)(o).pipe(m_())}(e.component,e.route,n,t,r)),Mm(e=>!0!==e,!0))}(o,r,i,e).pipe((0,Sy.zg)(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,_e.D)(t).pipe(Cy(t=>Te(function(e,t){return null!==e&&t&&t(new $y(e)),(0,we.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new Wy(e)),(0,we.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>wy(()=>{const i=t.guards.map(i=>{const s=j_(i,t.node,n);let o;if(function(e){return e&&f_(e.canActivateChild)}(s))o=uv(s.canActivateChild(r,e));else{if(!f_(s))throw new Error("Invalid CanActivateChild guard");o=uv(s(r,e))}return o.pipe(Mm())});return(0,we.of)(i).pipe(m_())}));return(0,we.of)(i).pipe(m_())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,we.of)(!0);const i=r.map(r=>wy(()=>{const i=j_(r,t,n);let s;if(function(e){return e&&f_(e.canActivate)}(i))s=uv(i.canActivate(t,e));else{if(!f_(i))throw new Error("Invalid CanActivate guard");s=uv(i(t,e))}return s.pipe(Mm())}));return(0,we.of)(i).pipe(m_())}(e,t.route,n))),Mm(e=>!0!==e,!0))}(r,s,e,t):(0,we.of)(n)),(0,Ne.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,Ny.b)(e=>{if(p_(e.guardsResult)){const t=tv(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new qy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Me(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),J_(e=>{if(e.guards.canActivateChecks.length)return(0,we.of)(e).pipe((0,Ny.b)(e=>{const t=new zy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),dm(e=>{let t=!1;return(0,we.of)(e).pipe(function(e,t){return(0,Sy.zg)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return(0,we.of)(n);let s=0;return(0,_e.D)(i).pipe(Cy(n=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return(0,we.of)({});const s={};return(0,_e.D)(i).pipe((0,Sy.zg)(i=>function(e,t,n,r){const i=j_(e,t,r);return uv(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,Ny.b)(e=>{s[i]=e}))),Ay(1),(0,Sy.zg)(()=>Object.keys(s).length===i.length?(0,we.of)(s):Em.E))}(e._resolve,e,t,r).pipe((0,Ne.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Bv(e,n).resolve),null)))}(n.route,r,e,t)),(0,Ny.b)(()=>s++),Ay(1),(0,Sy.zg)(e=>s===i.length?(0,we.of)(n):Em.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ny.b)({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}))}),(0,Ny.b)(e=>{const t=new By(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),J_(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Ne.U)(e=>{const t=function(e,t,n){const r=Qv(e,t._root,n?n._root:void 0);return new jv(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,Ny.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(e.urlAfterRedirects,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),((e,t,n)=>(0,Ne.U)(r=>(new l_(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),(0,Ny.b)({next(){n=!0},complete(){n=!0}}),function(e){return t=>t.lift(new Ry(e))}(()=>{var t;if(!n&&!r){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}(null===(t=this.currentNavigation)||void 0===t?void 0:t.id)===e.id&&(this.currentNavigation=null)}),Iy(n=>{if(r=!0,function(e){return e&&e[ev]}(n)){const r=p_(n.url);r||(this.navigated=!0,this.restoreHistory(e,!0));const i=new Vy(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree),r={skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hw(e.source)};this.scheduleNavigation(t,"imperative",null,r,{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const r=new Fy(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(i){e.reject(i)}}return Em.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return t.transitionId!==e.transitionId||!n||!("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){v_(e),this.config=e.map(b_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return e_(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new n_(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return av(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new n_(n,t,r)}(n);if(s.toRoot())return e_(t.root,new mv([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new r_(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new r_(e,e===t.root,0)}const r=Jv(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new r_(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?s_(o.segmentGroup,o.index,s.commands):i_(o.segmentGroup,o.index,s.commands);return e_(o.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,c,null!=u?u:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=p_(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},uw):!1===t?Object.assign({},cw):t,p_(e))return hv(this.currentUrlTree,e,n);const r=this.parseUrl(e);return hv(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new My(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,t,n,r,i){var s,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),u=hw(t)&&a&&!hw(a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(u&&c)return Promise.resolve(!0);let l,h,d;i?(l=i.resolve,h=i.reject,d=i.promise):d=new Promise((e,t)=>{l=e,h=t});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(s=this.browserPageId)&&void 0!==s?s:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:l,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(e,t=!1){var n,r;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===t?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const n=new Vy(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.DyG),r.LFG(_v),r.LFG(rw),r.LFG(b),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function hw(e){return"imperative"!==e}let dw=(()=>{class e{constructor(e,t,n,i,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||Yy,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new fw(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(rw),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},e.\u0275dir=r.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class fw{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===zv?this.route:e===rw?this.childContexts:this.parent.get(e,t)}}class pw{}class gw{preload(e,t){return(0,we.of)(null)}}let mw=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new tw(t,n,t=>e.triggerEvent(new Zy(t)),t=>e.triggerEvent(new Hy(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Me(e=>e instanceof My),Cy(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,_e.D)(n).pipe((0,Ie.J)(),(0,Ne.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,we.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,Sy.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(lw),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(pw))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),yw=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ly?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof My&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Qy&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Qy(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(lw),r.LFG(V),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const vw=new r.OlP("ROUTER_CONFIGURATION"),_w=new r.OlP("ROUTER_FORROOT_GUARD"),ww=[b,{provide:_v,useClass:wv},{provide:lw,useFactory:function(e,t,n,r,i,s,o,a={},u,c){const l=new lw(null,e,t,n,r,i,s,sv(o));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[_v,rw,b,r.zs3,r.v3s,r.Sil,ew,vw,[class{},new r.FiY],[class{},new r.FiY]]},rw,{provide:zv,useFactory:function(e){return e.routerState.root},deps:[lw]},{provide:r.v3s,useClass:r.EAV},mw,gw,class{preload(e,t){return t().pipe(Iy(()=>(0,we.of)(null)))}},{provide:vw,useValue:{enableTracing:!1}}];function bw(){return new r.PXZ("Router",lw)}let Iw=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[ww,Cw(t),{provide:_w,useFactory:Sw,deps:[[lw,new r.FiY,new r.tp0]]},{provide:vw,useValue:n||{}},{provide:m,useFactory:Ew,deps:[a,[new r.tBr(v),new r.FiY],vw]},{provide:yw,useFactory:Tw,deps:[lw,V,vw]},{provide:pw,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:gw},{provide:r.PXZ,multi:!0,useFactory:bw},[Aw,{provide:r.ip1,multi:!0,useFactory:kw,deps:[Aw]},{provide:Nw,useFactory:xw,deps:[Aw]},{provide:r.tb,multi:!0,useExisting:Nw}]]}}static forChild(t){return{ngModule:e,providers:[Cw(t)]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(_w,8),r.LFG(lw,8))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();function Tw(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new yw(e,t,n)}function Ew(e,t,n={}){return n.useHash?new w(e,t):new _(e,t)}function Sw(e){return"guarded"}function Cw(e){return[{provide:r.deG,multi:!0,useValue:e},{provide:ew,multi:!0,useValue:e}]}let Aw=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new um.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),n=this.injector.get(lw),r=this.injector.get(vw);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,we.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(vw),n=this.injector.get(mw),i=this.injector.get(yw),s=this.injector.get(lw),o=this.injector.get(r.z2F);e===o.components[0]&&(("enabledNonBlocking"===t.initialNavigation||void 0===t.initialNavigation)&&s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function kw(e){return e.appInitializer.bind(e)}function xw(e){return e.bootstrapListener.bind(e)}const Nw=new r.OlP("Router Initializer");var Ow=n(2329);const Rw={production:!0,firebaseConfig:{apiKey:"AIzaSyABsHJGksz2GQ6lRjQDgVamsa0Uzj9K6os",authDomain:"prenotazione-bd921.firebaseapp.com",projectId:"prenotazione-bd921",storageBucket:"prenotazione-bd921.appspot.com",messagingSenderId:"444714964774",appId:"1:444714964774:web:2cf44f687108be56bcd3e7",measurementId:"G-F5SFSZBWS3"}};let Dw=(()=>{class e{constructor(e,t){var n;this.store=e,this.router=t,this.title="matrimonio-gian";const r=(0,Ow.ZF)(Rw.firebaseConfig);this.db=function(e=(0,qe.getApp)()){return(0,qe._getProvider)(e,"firestore").getImmediate()}(r),null===(n=this.router)||void 0===n||n.navigateByUrl("/invitati")}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(uy),r.Y36(lw))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"router-container"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r._UZ(1,"router-outlet"),r.qZA())},directives:[dw],styles:[".router-container[_ngcontent-%COMP%]{width:80%;margin:0 auto}"]}),e})();const Pw=function(e,t){return{red:e,green:t}};function Lw(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"tr"),r.TgZ(2,"td"),r._uU(3),r.qZA(),r.TgZ(4,"td"),r._uU(5),r.qZA(),r.TgZ(6,"td"),r._UZ(7,"div",2),r.qZA(),r.qZA(),r.BQk()),2&e){const e=t.$implicit;r.xp6(3),r.Oqu(e.nome),r.xp6(2),r.Oqu(e.cognome),r.xp6(2),r.Q6J("ngClass",r.WLB(3,Pw,"NO"==e.isPresent,"SI"==e.isPresent))}}let Mw=(()=>{class e extends Dw{constructor(){super(),this.partecipanti=[],this.presenti=0,this.assenti=0,this.dubbio=0}ngOnInit(){this.partecipanti=[],Ng(gp(this.db,"partecipanti")).then(e=>{var t,n,r;e.forEach(e=>{this.partecipanti.push(e.data())}),this.presenti=null===(t=this.partecipanti.filter(e=>"SI"==e.isPresent))||void 0===t?void 0:t.length,this.assenti=null===(n=this.partecipanti.filter(e=>"NO"==e.isPresent))||void 0===n?void 0:n.length,this.dubbio=null===(r=this.partecipanti.filter(e=>"FORSE"==e.isPresent))||void 0===r?void 0:r.length})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["admin"]],features:[r.qOj],decls:17,vars:4,consts:[["id","partecipants"],[4,"ngFor","ngForOf"],[1,"dot",3,"ngClass"]],template:function(e,t){1&e&&(r.TgZ(0,"h1"),r._uU(1,"Lista Partecipanti"),r.qZA(),r.TgZ(2,"h3"),r._uU(3),r.qZA(),r.TgZ(4,"h3"),r._uU(5),r.qZA(),r.TgZ(6,"h3"),r._uU(7),r.qZA(),r.TgZ(8,"table",0),r.TgZ(9,"tr"),r.TgZ(10,"th"),r._uU(11,"Nome"),r.qZA(),r.TgZ(12,"th"),r._uU(13,"Cognome"),r.qZA(),r.TgZ(14,"th"),r._uU(15,"Presente"),r.qZA(),r.qZA(),r.YNc(16,Lw,8,6,"ng-container",1),r.qZA()),2&e&&(r.xp6(3),r.hij("Totale presenti: ",t.presenti,""),r.xp6(2),r.hij("Totale assenti: ",t.assenti,""),r.xp6(2),r.hij("Totale in dubbio: ",t.dubbio,""),r.xp6(9),r.Q6J("ngForOf",t.partecipanti))},directives:[N,k],styles:["#partecipants[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;border-collapse:collapse;width:100%}#partecipants[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #partecipants[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}#partecipants[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2f2}#partecipants[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}#partecipants[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;text-align:left;background-color:#04aa6d;color:#fff}#partecipants[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){text-align:center}.dot[_ngcontent-%COMP%]{height:25px;width:25px;background-color:orange;border-radius:50%;display:inline-block}.red[_ngcontent-%COMP%]{background-color:red}.green[_ngcontent-%COMP%]{background-color:green}"]}),e})();var Vw=n(1555);function Fw(e,t){return new ve.y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=(0,_e.D)(e[a]);let c=!1;n.add(u.subscribe({next:e=>{c||(c=!0,o++),i[a]=e},error:e=>n.error(e),complete:()=>{s++,(s===r||!c)&&(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}let Uw=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e}),e})(),jw=(()=>{class e extends Uw{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();const qw=new r.OlP("NgValueAccessor"),zw={provide:qw,useExisting:(0,r.Gpc)(()=>Zw),multi:!0},Bw=new r.OlP("CompositionEventMode");let Zw=(()=>{class e extends Uw{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=s()?s().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Bw,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([zw]),r.qOj]}),e})();function Hw(e){return null==e||0===e.length}function $w(e){return null!=e&&"number"==typeof e.length}const Gw=new r.OlP("NgValidators"),Ww=new r.OlP("NgAsyncValidators"),Kw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qw{static min(e){return function(e){return t=>{if(Hw(t.value)||Hw(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(e)}static max(e){return function(e){return t=>{if(Hw(t.value)||Hw(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(e)}static required(e){return function(e){return Hw(e.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(e){return!0===e.value?null:{required:!0}}(e)}static email(e){return function(e){return Hw(e.value)||Kw.test(e.value)?null:{email:!0}}(e)}static minLength(e){return function(e){return t=>Hw(t.value)||!$w(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static maxLength(e){return function(e){return t=>$w(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static pattern(e){return function(e){if(!e)return Yw;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(Hw(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return rb(e)}static composeAsync(e){return sb(e)}}function Yw(e){return null}function Jw(e){return null!=e}function Xw(e){const t=(0,r.QGY)(e)?(0,_e.D)(e):e;return(0,r.CqO)(t),t}function eb(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function tb(e,t){return t.map(t=>t(e))}function nb(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function rb(e){if(!e)return null;const t=e.filter(Jw);return 0==t.length?null:function(e){return eb(tb(e,t))}}function ib(e){return null!=e?rb(nb(e)):null}function sb(e){if(!e)return null;const t=e.filter(Jw);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if((0,hy.k)(t))return Fw(t,null);if((0,Vw.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Fw(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return Fw(e=1===e.length&&(0,hy.k)(e[0])?e[0]:e,null).pipe((0,Ne.U)(e=>t(...e)))}return Fw(e,null)}(tb(e,t).map(Xw)).pipe((0,Ne.U)(eb))}}function ob(e){return null!=e?sb(nb(e)):null}function ab(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function ub(e){return e._rawValidators}function cb(e){return e._rawAsyncValidators}function lb(e){return e?Array.isArray(e)?e:[e]:[]}function hb(e,t){return Array.isArray(e)?e.includes(t):e===t}function db(e,t){const n=lb(t);return lb(e).forEach(e=>{hb(n,e)||n.push(e)}),n}function fb(e,t){return lb(t).filter(t=>!hb(e,t))}let pb=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ib(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ob(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),gb=(()=>{class e extends pb{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class mb extends pb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yb{constructor(e){this._cd=e}is(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}let vb=(()=>{class e extends yb{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(mb,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})(),_b=(()=>{class e extends yb{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(gb,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[r.qOj]}),e})();function wb(e,t){Tb(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Sb(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Sb(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function bb(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Eb(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Ib(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Tb(e,t){const n=ub(e);null!==t.validator?e.setValidators(ab(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=cb(e);null!==t.asyncValidator?e.setAsyncValidators(ab(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Ib(t._rawValidators,i),Ib(t._rawAsyncValidators,i)}function Eb(e,t){let n=!1;if(null!==e){if(null!==t.validator){const r=ub(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.validator);i.length!==r.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const r=cb(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.asyncValidator);i.length!==r.length&&(n=!0,e.setAsyncValidators(i))}}}const r=()=>{};return Ib(t._rawValidators,r),Ib(t._rawAsyncValidators,r),n}function Sb(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Cb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ab="VALID",kb="INVALID",xb="PENDING",Nb="DISABLED";function Ob(e){return(Lb(e)?e.validators:e)||null}function Rb(e){return Array.isArray(e)?ib(e):e||null}function Db(e,t){return(Lb(t)?t.asyncValidators:e)||null}function Pb(e){return Array.isArray(e)?ob(e):e||null}function Lb(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Mb{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Rb(this._rawValidators),this._composedAsyncValidatorFn=Pb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ab}get invalid(){return this.status===kb}get pending(){return this.status==xb}get disabled(){return this.status===Nb}get enabled(){return this.status!==Nb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Rb(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Pb(e)}addValidators(e){this.setValidators(db(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(db(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fb(e,this._rawAsyncValidators))}hasValidator(e){return hb(this._rawValidators,e)}hasAsyncValidator(e){return hb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=xb,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nb,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ab,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ab||this.status===xb)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nb:Ab}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=xb,this._hasOwnPendingAsyncValidator=!0;const t=Xw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=e;return t.forEach(e=>{r=r instanceof Fb?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof Ub&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?Nb:this.errors?kb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xb)?xb:this._anyControlsHaveStatus(kb)?kb:Ab}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Vb extends Mb{constructor(e=null,t,n){super(Ob(t),Db(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Cb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Cb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Fb extends Mb{constructor(e,t,n){super(Ob(t),Db(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof Vb?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ub extends Mb{constructor(e,t,n){super(Ob(t),Db(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Vb?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let jb=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),qb=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const zb=new r.OlP("NgModelWithFormControlWarning"),Bb={provide:gb,useExisting:(0,r.Gpc)(()=>Zb)};let Zb=(()=>{class e extends gb{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Eb(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return wb(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){bb(e.control||null,e,!1),Cb(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,function(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,n=this.form.get(e.path);t!==n&&(bb(t||null,e),n instanceof Vb&&(wb(n,e),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);(function(e,t){Tb(e,t)})(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function(e,t){return Eb(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tb(this.form,this),this._oldForm&&Eb(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Gw,10),r.Y36(Ww,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([Bb]),r.qOj,r.TTD]}),e})();const Hb={provide:mb,useExisting:(0,r.Gpc)(()=>$b)};let $b=(()=>{class e extends mb{constructor(e,t,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(e=>{e.constructor===Zw?n=e:function(e){return Object.getPrototypeOf(e.constructor)===jw}(e)?r=e:i=e}),i||r||n||null}(0,i)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(gb,13),r.Y36(Gw,10),r.Y36(Ww,10),r.Y36(qw,10),r.Y36(zb,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([Hb]),r.qOj,r.TTD]}),e._ngModelWarningSentOnce=!1,e})();const Gb={provide:qw,useExisting:(0,r.Gpc)(()=>Kb),multi:!0};function Wb(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Kb=(()=>{class e extends jw{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this.setProperty("selectedIndex",-1);const n=Wb(t,e);this.setProperty("value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&r.NdJ("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([Gb]),r.qOj]}),e})(),Qb=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Wb(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(Kb,9))},e.\u0275dir=r.lG2({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const Yb={provide:qw,useExisting:(0,r.Gpc)(()=>Xb),multi:!0};function Jb(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Xb=(()=>{class e extends jw{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(void 0!==t.selectedOptions){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),i=this._getOptionValue(r.value);n.push(i)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);n.push(e)}}}this.value=n,e(n)}}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&r.NdJ("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([Yb]),r.qOj]}),e})(),eI=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Jb(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Jb(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(Xb,9))},e.\u0275dir=r.lG2({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),tI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[qb]]}),e})(),nI=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:zb,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[tI]}),e})();function rI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",14),r.TgZ(1,"div",15),r.TgZ(2,"span",16),r.NdJ("click",function(){return r.CHM(e),r.oxw().openModal=!1}),r._uU(3,"\xd7"),r.qZA(),r.TgZ(4,"form",17),r.NdJ("ngSubmit",function(){return r.CHM(e),r.oxw().goToAdmin()}),r.TgZ(5,"label"),r._uU(6,"Password"),r.qZA(),r._UZ(7,"input",18),r.TgZ(8,"div",11),r._UZ(9,"input",19),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(4),r.Q6J("formGroup",e.formPass)}}const iI=[{path:"",children:[{path:"admin",component:Mw},{path:"invitati",component:(()=>{class e{constructor(e,t){this.store=e,this.router=t,this.openModal=!1,this.form=new Fb({firstname:new Vb("",Qw.required),lastname:new Vb("",Qw.required),choice:new Vb("",Qw.required)}),this.formPass=new Fb({password:new Vb("",Qw.required)})}onConfirm(){this.store.collection("partecipanti",e=>{var t,n;return e.where("nome","==",(null===(t=this.form.get("firstname"))||void 0===t?void 0:t.value).toUpperCase().trim())&&e.where("cognome","==",(null===(n=this.form.get("lastname"))||void 0===n?void 0:n.value).toUpperCase().trim())}).get().subscribe(e=>{var t,n,r,i;e.empty?null===(t=this.store)||void 0===t||t.collection("partecipanti").add({nome:(null===(n=this.form.get("firstname"))||void 0===n?void 0:n.value).toUpperCase().trim(),cognome:(null===(r=this.form.get("lastname"))||void 0===r?void 0:r.value).toUpperCase().trim(),isPresent:(null===(i=this.form.get("choice"))||void 0===i?void 0:i.value).toUpperCase()}).then(e=>{alert("Scelta salvata con successo"),this.form.reset()}).catch(e=>{alert("Riprova!")}):e.forEach(e=>{var t,n;null===(t=this.store)||void 0===t||t.doc("partecipanti/"+e.id).update({isPresent:(null===(n=this.form.get("choice"))||void 0===n?void 0:n.value).toUpperCase()}).then(e=>{alert("E' gi\xe0 presente una preferenza relativa a questo nominativo. La scelta \xe8 stata aggiornata"),this.form.reset()}).catch(e=>{alert("Qualcosa \xe8 andato storto")})})})}goToAdmin(){var e,t;"malleolo22"===(null===(e=this.formPass.get("password"))||void 0===e?void 0:e.value)?null===(t=this.router)||void 0===t||t.navigateByUrl("/admin"):alert("Password errata")}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(uy),r.Y36(lw))},e.\u0275cmp=r.Xpm({type:e,selectors:[["invitati"]],decls:25,vars:3,consts:[[1,"admin"],["role","button",1,"button-13",3,"click"],[1,"form"],[3,"formGroup","ngSubmit"],["formControlName","firstname","type","text","id","fname","name","firstname","placeholder","Inserisci nome.."],["formControlName","lastname","type","text","id","lname","name","lastname","placeholder","Inserisci cognome.."],["for","scelta"],["formControlName","choice","id","scelta","name","scelta"],["value","si"],["value","no"],["value","forse"],[1,"button-submit"],["type","submit","value","Conferma scelta",3,"disabled"],["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[1,"form-pass",3,"formGroup","ngSubmit"],["formControlName","password","type","password","id","pass","name","password","placeholder","Inserisci password.."],["type","submit","value","Vai ad admin"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"button",1),r.NdJ("click",function(){return t.openModal=!0}),r._uU(2," Vai ad admin "),r.qZA(),r.qZA(),r.TgZ(3,"h1"),r._uU(4,"Parteciperai al matrimonio?"),r.qZA(),r.TgZ(5,"div",2),r.TgZ(6,"form",3),r.NdJ("ngSubmit",function(){return t.onConfirm()}),r.TgZ(7,"label"),r._uU(8,"Nome"),r.qZA(),r._UZ(9,"input",4),r.TgZ(10,"label"),r._uU(11,"Cognome"),r.qZA(),r._UZ(12,"input",5),r.TgZ(13,"label",6),r._uU(14,"Partecipo"),r.qZA(),r.TgZ(15,"select",7),r.TgZ(16,"option",8),r._uU(17,"S\xec"),r.qZA(),r.TgZ(18,"option",9),r._uU(19,"No"),r.qZA(),r.TgZ(20,"option",10),r._uU(21,"Ancora in dubbio"),r.qZA(),r.qZA(),r.TgZ(22,"div",11),r._UZ(23,"input",12),r.qZA(),r.qZA(),r.qZA(),r.YNc(24,rI,10,1,"div",13)),2&e&&(r.xp6(6),r.Q6J("formGroup",t.form),r.xp6(17),r.Q6J("disabled",!t.form.valid),r.xp6(1),r.Q6J("ngIf",t.openModal))},directives:[jb,_b,Zb,Zw,vb,$b,Kb,Qb,eI,R],styles:['.admin[_ngcontent-%COMP%]{display:flex;justify-content:end;margin:1rem 0 2rem}h1[_ngcontent-%COMP%]{text-align:center;width:80%;margin:20px auto 0}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}input[type=submit][_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;background-color:#4caf50;color:#fff;padding:14px 20px;margin:8px 0;border:none;border-radius:4px;cursor:pointer}.disab[_ngcontent-%COMP%]{background-color:#ccc}.button-submit[_ngcontent-%COMP%]{text-align:center}.form[_ngcontent-%COMP%]{border-radius:5px;background-color:#f2f2f2;padding:20px;margin:2rem auto}.modal[_ngcontent-%COMP%]{display:block;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:15% auto;padding:30px;border:1px solid #888;width:40%}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:bold}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}.button-13[_ngcontent-%COMP%]{background-color:#ffdead;border:1px solid #d5d9d9;border-radius:8px;box-shadow:#d5d9d980 0 2px 5px;box-sizing:border-box;color:#0f1111;cursor:pointer;display:inline-block;font-family:"Amazon Ember",sans-serif;font-size:13px;line-height:29px;padding:0 10px 0 11px;position:relative;text-align:center;text-decoration:none;-moz-user-select:none;user-select:none;-webkit-user-select:none;touch-action:manipulation;vertical-align:middle;width:100px}.button-13[_ngcontent-%COMP%]:hover{background-color:#f7fafa}.button-13[_ngcontent-%COMP%]:focus{border-color:#008296;box-shadow:#d5d9d980 0 2px 5px;outline:0}.form-pass[_ngcontent-%COMP%]{max-width:60%;margin:0 auto;text-align:center}']}),e})()},{path:"**",component:Dw}]}];let sI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Iw.forRoot(iI)],Iw]}),e})(),oI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e,bootstrap:[Dw]}),e.\u0275inj=r.cJS({providers:[{provide:me.Dh,useValue:Rw.firebaseConfig}],imports:[[ge,sI,me.hO,cy,nI]]}),e})();Rw.production&&(0,r.G48)(),fe().bootstrapModule(oI).catch(e=>console.error(e))},4762:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return s},_T:function(){return o},mG:function(){return a},Jh:function(){return u},XA:function(){return c},CR:function(){return l},ev:function(){return h}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{u(r.next(e))}catch(t){s(t)}}function a(e){try{u(r.throw(e))}catch(t){s(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,a)}u((r=r.apply(e,t||[])).next())})}function u(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function c(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function h(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}},8239:function(e,t,n){"use strict";function r(e,t,n,r,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,u,"next",e)}function u(e){r(o,i,s,a,u,"throw",e)}a(void 0)})}}n.d(t,{Z:function(){return i}})}},function(e){e(e.s=7906)}]);